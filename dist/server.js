/*!
 * Copyright (c) 2025 Augment
 * Proprietary and Confidential
 * Licensed for use only with Vim plugin - See LICENSE.md
 * Modification or reverse engineering prohibited
 */
"use strict";var lT=Object.create;var Cs=Object.defineProperty;var fT=Object.getOwnPropertyDescriptor;var dT=Object.getOwnPropertyNames;var hT=Object.getPrototypeOf,gT=Object.prototype.hasOwnProperty;var V=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),pT=(t,r)=>{for(var o in r)Cs(t,o,{get:r[o],enumerable:!0})},ig=(t,r,o,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of dT(r))!gT.call(t,u)&&u!==o&&Cs(t,u,{get:()=>r[u],enumerable:!(s=fT(r,u))||s.enumerable});return t};var Pn=(t,r,o)=>(o=t!=null?lT(hT(t)):{},ig(r||!t||!t.__esModule?Cs(o,"default",{value:t,enumerable:!0}):o,t)),mT=t=>ig(Cs({},"__esModule",{value:!0}),t);var sg=V((og,xs)=>{"use strict";(function(t,r){"use strict";typeof define=="function"&&define.amd?define(r):typeof xs=="object"&&xs.exports?xs.exports=r():t.log=r()})(og,function(){"use strict";var t=function(){},r="undefined",o=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"],u={},p=null;function R(K,se){var B=K[se];if(typeof B.bind=="function")return B.bind(K);try{return Function.prototype.bind.call(B,K)}catch{return function(){return Function.prototype.apply.apply(B,[K,arguments])}}}function k(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function j(K){return K==="debug"&&(K="log"),typeof console===r?!1:K==="trace"&&o?k:console[K]!==void 0?R(console,K):console.log!==void 0?R(console,"log"):t}function N(){for(var K=this.getLevel(),se=0;se<s.length;se++){var B=s[se];this[B]=se<K?t:this.methodFactory(B,K,this.name)}if(this.log=this.debug,typeof console===r&&K<this.levels.SILENT)return"No console available for logging"}function G(K){return function(){typeof console!==r&&(N.call(this),this[K].apply(this,arguments))}}function J(K,se,B){return j(K)||G.apply(this,arguments)}function Z(K,se){var B=this,ne,P,D,I="loglevel";typeof K=="string"?I+=":"+K:typeof K=="symbol"&&(I=void 0);function ee(Re){var Ne=(s[Re]||"silent").toUpperCase();if(!(typeof window===r||!I)){try{window.localStorage[I]=Ne;return}catch{}try{window.document.cookie=encodeURIComponent(I)+"="+Ne+";"}catch{}}}function we(){var Re;if(!(typeof window===r||!I)){try{Re=window.localStorage[I]}catch{}if(typeof Re===r)try{var Ne=window.document.cookie,Ze=encodeURIComponent(I),yn=Ne.indexOf(Ze+"=");yn!==-1&&(Re=/^([^;]+)/.exec(Ne.slice(yn+Ze.length+1))[1])}catch{}return B.levels[Re]===void 0&&(Re=void 0),Re}}function Le(){if(!(typeof window===r||!I)){try{window.localStorage.removeItem(I)}catch{}try{window.document.cookie=encodeURIComponent(I)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function ct(Re){var Ne=Re;if(typeof Ne=="string"&&B.levels[Ne.toUpperCase()]!==void 0&&(Ne=B.levels[Ne.toUpperCase()]),typeof Ne=="number"&&Ne>=0&&Ne<=B.levels.SILENT)return Ne;throw new TypeError("log.setLevel() called with invalid level: "+Re)}B.name=K,B.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},B.methodFactory=se||J,B.getLevel=function(){return D??P??ne},B.setLevel=function(Re,Ne){return D=ct(Re),Ne!==!1&&ee(D),N.call(B)},B.setDefaultLevel=function(Re){P=ct(Re),we()||B.setLevel(Re,!1)},B.resetLevel=function(){D=null,Le(),N.call(B)},B.enableAll=function(Re){B.setLevel(B.levels.TRACE,Re)},B.disableAll=function(Re){B.setLevel(B.levels.SILENT,Re)},B.rebuild=function(){if(p!==B&&(ne=ct(p.getLevel())),N.call(B),p===B)for(var Re in u)u[Re].rebuild()},ne=ct(p?p.getLevel():"WARN");var en=we();en!=null&&(D=ct(en)),N.call(B)}p=new Z,p.getLogger=function(se){if(typeof se!="symbol"&&typeof se!="string"||se==="")throw new TypeError("You must supply a name when creating a logger.");var B=u[se];return B||(B=u[se]=new Z(se,p.methodFactory)),B};var be=typeof window!==r?window.log:void 0;return p.noConflict=function(){return typeof window!==r&&window.log===p&&(window.log=be),p},p.getLoggers=function(){return u},p.default=p,p})});var ks=V(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.thenable=at.typedArray=at.stringArray=at.array=at.func=at.error=at.number=at.string=at.boolean=void 0;function vT(t){return t===!0||t===!1}at.boolean=vT;function lg(t){return typeof t=="string"||t instanceof String}at.string=lg;function yT(t){return typeof t=="number"||t instanceof Number}at.number=yT;function bT(t){return t instanceof Error}at.error=bT;function fg(t){return typeof t=="function"}at.func=fg;function dg(t){return Array.isArray(t)}at.array=dg;function wT(t){return dg(t)&&t.every(r=>lg(r))}at.stringArray=wT;function RT(t,r){return Array.isArray(t)&&t.every(r)}at.typedArray=RT;function ST(t){return t&&fg(t.then)}at.thenable=ST});var Ci=V(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.stringArray=St.array=St.func=St.error=St.number=St.string=St.boolean=void 0;function DT(t){return t===!0||t===!1}St.boolean=DT;function hg(t){return typeof t=="string"||t instanceof String}St.string=hg;function TT(t){return typeof t=="number"||t instanceof Number}St.number=TT;function CT(t){return t instanceof Error}St.error=CT;function xT(t){return typeof t=="function"}St.func=xT;function gg(t){return Array.isArray(t)}St.array=gg;function PT(t){return gg(t)&&t.every(r=>hg(r))}St.stringArray=PT});var Vc=V(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.Message=te.NotificationType9=te.NotificationType8=te.NotificationType7=te.NotificationType6=te.NotificationType5=te.NotificationType4=te.NotificationType3=te.NotificationType2=te.NotificationType1=te.NotificationType0=te.NotificationType=te.RequestType9=te.RequestType8=te.RequestType7=te.RequestType6=te.RequestType5=te.RequestType4=te.RequestType3=te.RequestType2=te.RequestType1=te.RequestType=te.RequestType0=te.AbstractMessageSignature=te.ParameterStructures=te.ResponseError=te.ErrorCodes=void 0;var Yr=Ci(),Sc;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Sc||(te.ErrorCodes=Sc={}));var Dc=class t extends Error{constructor(r,o,s){super(o),this.code=Yr.number(r)?r:Sc.UnknownErrorCode,this.data=s,Object.setPrototypeOf(this,t.prototype)}toJson(){let r={code:this.code,message:this.message};return this.data!==void 0&&(r.data=this.data),r}};te.ResponseError=Dc;var Ft=class t{constructor(r){this.kind=r}static is(r){return r===t.auto||r===t.byName||r===t.byPosition}toString(){return this.kind}};te.ParameterStructures=Ft;Ft.auto=new Ft("auto");Ft.byPosition=new Ft("byPosition");Ft.byName=new Ft("byName");var ze=class{constructor(r,o){this.method=r,this.numberOfParams=o}get parameterStructures(){return Ft.auto}};te.AbstractMessageSignature=ze;var Tc=class extends ze{constructor(r){super(r,0)}};te.RequestType0=Tc;var Cc=class extends ze{constructor(r,o=Ft.auto){super(r,1),this._parameterStructures=o}get parameterStructures(){return this._parameterStructures}};te.RequestType=Cc;var xc=class extends ze{constructor(r,o=Ft.auto){super(r,1),this._parameterStructures=o}get parameterStructures(){return this._parameterStructures}};te.RequestType1=xc;var Pc=class extends ze{constructor(r){super(r,2)}};te.RequestType2=Pc;var Ec=class extends ze{constructor(r){super(r,3)}};te.RequestType3=Ec;var kc=class extends ze{constructor(r){super(r,4)}};te.RequestType4=kc;var qc=class extends ze{constructor(r){super(r,5)}};te.RequestType5=qc;var Oc=class extends ze{constructor(r){super(r,6)}};te.RequestType6=Oc;var Ic=class extends ze{constructor(r){super(r,7)}};te.RequestType7=Ic;var Mc=class extends ze{constructor(r){super(r,8)}};te.RequestType8=Mc;var Ac=class extends ze{constructor(r){super(r,9)}};te.RequestType9=Ac;var Lc=class extends ze{constructor(r,o=Ft.auto){super(r,1),this._parameterStructures=o}get parameterStructures(){return this._parameterStructures}};te.NotificationType=Lc;var Fc=class extends ze{constructor(r){super(r,0)}};te.NotificationType0=Fc;var Nc=class extends ze{constructor(r,o=Ft.auto){super(r,1),this._parameterStructures=o}get parameterStructures(){return this._parameterStructures}};te.NotificationType1=Nc;var Wc=class extends ze{constructor(r){super(r,2)}};te.NotificationType2=Wc;var Uc=class extends ze{constructor(r){super(r,3)}};te.NotificationType3=Uc;var jc=class extends ze{constructor(r){super(r,4)}};te.NotificationType4=jc;var Hc=class extends ze{constructor(r){super(r,5)}};te.NotificationType5=Hc;var Bc=class extends ze{constructor(r){super(r,6)}};te.NotificationType6=Bc;var $c=class extends ze{constructor(r){super(r,7)}};te.NotificationType7=$c;var zc=class extends ze{constructor(r){super(r,8)}};te.NotificationType8=zc;var Gc=class extends ze{constructor(r){super(r,9)}};te.NotificationType9=Gc;var pg;(function(t){function r(u){let p=u;return p&&Yr.string(p.method)&&(Yr.string(p.id)||Yr.number(p.id))}t.isRequest=r;function o(u){let p=u;return p&&Yr.string(p.method)&&u.id===void 0}t.isNotification=o;function s(u){let p=u;return p&&(p.result!==void 0||!!p.error)&&(Yr.string(p.id)||Yr.number(p.id)||p.id===null)}t.isResponse=s})(pg||(te.Message=pg={}))});var Kc=V(Tr=>{"use strict";var mg;Object.defineProperty(Tr,"__esModule",{value:!0});Tr.LRUCache=Tr.LinkedMap=Tr.Touch=void 0;var Dt;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Dt||(Tr.Touch=Dt={}));var qs=class{constructor(){this[mg]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(r){return this._map.has(r)}get(r,o=Dt.None){let s=this._map.get(r);if(s)return o!==Dt.None&&this.touch(s,o),s.value}set(r,o,s=Dt.None){let u=this._map.get(r);if(u)u.value=o,s!==Dt.None&&this.touch(u,s);else{switch(u={key:r,value:o,next:void 0,previous:void 0},s){case Dt.None:this.addItemLast(u);break;case Dt.First:this.addItemFirst(u);break;case Dt.Last:this.addItemLast(u);break;default:this.addItemLast(u);break}this._map.set(r,u),this._size++}return this}delete(r){return!!this.remove(r)}remove(r){let o=this._map.get(r);if(o)return this._map.delete(r),this.removeItem(o),this._size--,o.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let r=this._head;return this._map.delete(r.key),this.removeItem(r),this._size--,r.value}forEach(r,o){let s=this._state,u=this._head;for(;u;){if(o?r.bind(o)(u.value,u.key,this):r(u.value,u.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");u=u.next}}keys(){let r=this._state,o=this._head,s={[Symbol.iterator]:()=>s,next:()=>{if(this._state!==r)throw new Error("LinkedMap got modified during iteration.");if(o){let u={value:o.key,done:!1};return o=o.next,u}else return{value:void 0,done:!0}}};return s}values(){let r=this._state,o=this._head,s={[Symbol.iterator]:()=>s,next:()=>{if(this._state!==r)throw new Error("LinkedMap got modified during iteration.");if(o){let u={value:o.value,done:!1};return o=o.next,u}else return{value:void 0,done:!0}}};return s}entries(){let r=this._state,o=this._head,s={[Symbol.iterator]:()=>s,next:()=>{if(this._state!==r)throw new Error("LinkedMap got modified during iteration.");if(o){let u={value:[o.key,o.value],done:!1};return o=o.next,u}else return{value:void 0,done:!0}}};return s}[(mg=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(r){if(r>=this.size)return;if(r===0){this.clear();return}let o=this._head,s=this.size;for(;o&&s>r;)this._map.delete(o.key),o=o.next,s--;this._head=o,this._size=s,o&&(o.previous=void 0),this._state++}addItemFirst(r){if(!this._head&&!this._tail)this._tail=r;else if(this._head)r.next=this._head,this._head.previous=r;else throw new Error("Invalid list");this._head=r,this._state++}addItemLast(r){if(!this._head&&!this._tail)this._head=r;else if(this._tail)r.previous=this._tail,this._tail.next=r;else throw new Error("Invalid list");this._tail=r,this._state++}removeItem(r){if(r===this._head&&r===this._tail)this._head=void 0,this._tail=void 0;else if(r===this._head){if(!r.next)throw new Error("Invalid list");r.next.previous=void 0,this._head=r.next}else if(r===this._tail){if(!r.previous)throw new Error("Invalid list");r.previous.next=void 0,this._tail=r.previous}else{let o=r.next,s=r.previous;if(!o||!s)throw new Error("Invalid list");o.previous=s,s.next=o}r.next=void 0,r.previous=void 0,this._state++}touch(r,o){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(o!==Dt.First&&o!==Dt.Last)){if(o===Dt.First){if(r===this._head)return;let s=r.next,u=r.previous;r===this._tail?(u.next=void 0,this._tail=u):(s.previous=u,u.next=s),r.previous=void 0,r.next=this._head,this._head.previous=r,this._head=r,this._state++}else if(o===Dt.Last){if(r===this._tail)return;let s=r.next,u=r.previous;r===this._head?(s.previous=void 0,this._head=s):(s.previous=u,u.next=s),r.next=void 0,r.previous=this._tail,this._tail.next=r,this._tail=r,this._state++}}}toJSON(){let r=[];return this.forEach((o,s)=>{r.push([s,o])}),r}fromJSON(r){this.clear();for(let[o,s]of r)this.set(o,s)}};Tr.LinkedMap=qs;var Jc=class extends qs{constructor(r,o=1){super(),this._limit=r,this._ratio=Math.min(Math.max(0,o),1)}get limit(){return this._limit}set limit(r){this._limit=r,this.checkTrim()}get ratio(){return this._ratio}set ratio(r){this._ratio=Math.min(Math.max(0,r),1),this.checkTrim()}get(r,o=Dt.AsNew){return super.get(r,o)}peek(r){return super.get(r,Dt.None)}set(r,o){return super.set(r,o,Dt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Tr.LRUCache=Jc});var vg=V(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.Disposable=void 0;var _g;(function(t){function r(o){return{dispose:o}}t.create=r})(_g||(Os.Disposable=_g={}))});var Cr=V(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});var Xc;function Yc(){if(Xc===void 0)throw new Error("No runtime abstraction layer installed");return Xc}(function(t){function r(o){if(o===void 0)throw new Error("No runtime abstraction layer provided");Xc=o}t.install=r})(Yc||(Yc={}));Zc.default=Yc});var Pi=V(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.Emitter=xi.Event=void 0;var ET=Cr(),yg;(function(t){let r={dispose(){}};t.None=function(){return r}})(yg||(xi.Event=yg={}));var Qc=class{add(r,o=null,s){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(r),this._contexts.push(o),Array.isArray(s)&&s.push({dispose:()=>this.remove(r,o)})}remove(r,o=null){if(!this._callbacks)return;let s=!1;for(let u=0,p=this._callbacks.length;u<p;u++)if(this._callbacks[u]===r)if(this._contexts[u]===o){this._callbacks.splice(u,1),this._contexts.splice(u,1);return}else s=!0;if(s)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...r){if(!this._callbacks)return[];let o=[],s=this._callbacks.slice(0),u=this._contexts.slice(0);for(let p=0,R=s.length;p<R;p++)try{o.push(s[p].apply(u[p],r))}catch(k){(0,ET.default)().console.error(k)}return o}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Is=class t{constructor(r){this._options=r}get event(){return this._event||(this._event=(r,o,s)=>{this._callbacks||(this._callbacks=new Qc),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(r,o);let u={dispose:()=>{this._callbacks&&(this._callbacks.remove(r,o),u.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(s)&&s.push(u),u}),this._event}fire(r){this._callbacks&&this._callbacks.invoke.call(this._callbacks,r)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};xi.Emitter=Is;Is._noop=function(){}});var Ls=V(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.CancellationTokenSource=Ei.CancellationToken=void 0;var kT=Cr(),qT=Ci(),el=Pi(),Ms;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:el.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:el.Event.None});function r(o){let s=o;return s&&(s===t.None||s===t.Cancelled||qT.boolean(s.isCancellationRequested)&&!!s.onCancellationRequested)}t.is=r})(Ms||(Ei.CancellationToken=Ms={}));var OT=Object.freeze(function(t,r){let o=(0,kT.default)().timer.setTimeout(t.bind(r),0);return{dispose(){o.dispose()}}}),As=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?OT:(this._emitter||(this._emitter=new el.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},tl=class{get token(){return this._token||(this._token=new As),this._token}cancel(){this._token?this._token.cancel():this._token=Ms.Cancelled}dispose(){this._token?this._token instanceof As&&this._token.dispose():this._token=Ms.None}};Ei.CancellationTokenSource=tl});var bg=V(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.SharedArrayReceiverStrategy=ki.SharedArraySenderStrategy=void 0;var IT=Ls(),ho;(function(t){t.Continue=0,t.Cancelled=1})(ho||(ho={}));var nl=class{constructor(){this.buffers=new Map}enableCancellation(r){if(r.id===null)return;let o=new SharedArrayBuffer(4),s=new Int32Array(o,0,1);s[0]=ho.Continue,this.buffers.set(r.id,o),r.$cancellationData=o}async sendCancellation(r,o){let s=this.buffers.get(o);if(s===void 0)return;let u=new Int32Array(s,0,1);Atomics.store(u,0,ho.Cancelled)}cleanup(r){this.buffers.delete(r)}dispose(){this.buffers.clear()}};ki.SharedArraySenderStrategy=nl;var rl=class{constructor(r){this.data=new Int32Array(r,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===ho.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},il=class{constructor(r){this.token=new rl(r)}cancel(){}dispose(){}},ol=class{constructor(){this.kind="request"}createCancellationTokenSource(r){let o=r.$cancellationData;return o===void 0?new IT.CancellationTokenSource:new il(o)}};ki.SharedArrayReceiverStrategy=ol});var al=V(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.Semaphore=void 0;var MT=Cr(),sl=class{constructor(r=1){if(r<=0)throw new Error("Capacity must be greater than 0");this._capacity=r,this._active=0,this._waiting=[]}lock(r){return new Promise((o,s)=>{this._waiting.push({thunk:r,resolve:o,reject:s}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,MT.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let r=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let o=r.thunk();o instanceof Promise?o.then(s=>{this._active--,r.resolve(s),this.runNext()},s=>{this._active--,r.reject(s),this.runNext()}):(this._active--,r.resolve(o),this.runNext())}catch(o){this._active--,r.reject(o),this.runNext()}}};Fs.Semaphore=sl});var Rg=V(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.ReadableStreamMessageReader=xr.AbstractMessageReader=xr.MessageReader=void 0;var cl=Cr(),qi=Ci(),ul=Pi(),AT=al(),wg;(function(t){function r(o){let s=o;return s&&qi.func(s.listen)&&qi.func(s.dispose)&&qi.func(s.onError)&&qi.func(s.onClose)&&qi.func(s.onPartialMessage)}t.is=r})(wg||(xr.MessageReader=wg={}));var Ns=class{constructor(){this.errorEmitter=new ul.Emitter,this.closeEmitter=new ul.Emitter,this.partialMessageEmitter=new ul.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(r){this.errorEmitter.fire(this.asError(r))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(r){this.partialMessageEmitter.fire(r)}asError(r){return r instanceof Error?r:new Error(`Reader received error. Reason: ${qi.string(r.message)?r.message:"unknown"}`)}};xr.AbstractMessageReader=Ns;var ll;(function(t){function r(o){let s,u,p,R=new Map,k,j=new Map;if(o===void 0||typeof o=="string")s=o??"utf-8";else{if(s=o.charset??"utf-8",o.contentDecoder!==void 0&&(p=o.contentDecoder,R.set(p.name,p)),o.contentDecoders!==void 0)for(let N of o.contentDecoders)R.set(N.name,N);if(o.contentTypeDecoder!==void 0&&(k=o.contentTypeDecoder,j.set(k.name,k)),o.contentTypeDecoders!==void 0)for(let N of o.contentTypeDecoders)j.set(N.name,N)}return k===void 0&&(k=(0,cl.default)().applicationJson.decoder,j.set(k.name,k)),{charset:s,contentDecoder:p,contentDecoders:R,contentTypeDecoder:k,contentTypeDecoders:j}}t.fromOptions=r})(ll||(ll={}));var fl=class extends Ns{constructor(r,o){super(),this.readable=r,this.options=ll.fromOptions(o),this.buffer=(0,cl.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new AT.Semaphore(1)}set partialMessageTimeout(r){this._partialMessageTimeout=r}get partialMessageTimeout(){return this._partialMessageTimeout}listen(r){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=r;let o=this.readable.onData(s=>{this.onData(s)});return this.readable.onError(s=>this.fireError(s)),this.readable.onClose(()=>this.fireClose()),o}onData(r){try{for(this.buffer.append(r);;){if(this.nextMessageLength===-1){let s=this.buffer.tryReadHeaders(!0);if(!s)return;let u=s.get("content-length");if(!u){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(s))}`));return}let p=parseInt(u);if(isNaN(p)){this.fireError(new Error(`Content-Length value must be a number. Got ${u}`));return}this.nextMessageLength=p}let o=this.buffer.tryReadBody(this.nextMessageLength);if(o===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let s=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(o):o,u=await this.options.contentTypeDecoder.decode(s,this.options);this.callback(u)}).catch(s=>{this.fireError(s)})}}catch(o){this.fireError(o)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,cl.default)().timer.setTimeout((r,o)=>{this.partialMessageTimer=void 0,r===this.messageToken&&(this.firePartialMessage({messageToken:r,waitingTime:o}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};xr.ReadableStreamMessageReader=fl});var xg=V(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.WriteableStreamMessageWriter=Pr.AbstractMessageWriter=Pr.MessageWriter=void 0;var Sg=Cr(),go=Ci(),LT=al(),Dg=Pi(),FT="Content-Length: ",Tg=`\r
`,Cg;(function(t){function r(o){let s=o;return s&&go.func(s.dispose)&&go.func(s.onClose)&&go.func(s.onError)&&go.func(s.write)}t.is=r})(Cg||(Pr.MessageWriter=Cg={}));var Ws=class{constructor(){this.errorEmitter=new Dg.Emitter,this.closeEmitter=new Dg.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(r,o,s){this.errorEmitter.fire([this.asError(r),o,s])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(r){return r instanceof Error?r:new Error(`Writer received error. Reason: ${go.string(r.message)?r.message:"unknown"}`)}};Pr.AbstractMessageWriter=Ws;var dl;(function(t){function r(o){return o===void 0||typeof o=="string"?{charset:o??"utf-8",contentTypeEncoder:(0,Sg.default)().applicationJson.encoder}:{charset:o.charset??"utf-8",contentEncoder:o.contentEncoder,contentTypeEncoder:o.contentTypeEncoder??(0,Sg.default)().applicationJson.encoder}}t.fromOptions=r})(dl||(dl={}));var hl=class extends Ws{constructor(r,o){super(),this.writable=r,this.options=dl.fromOptions(o),this.errorCount=0,this.writeSemaphore=new LT.Semaphore(1),this.writable.onError(s=>this.fireError(s)),this.writable.onClose(()=>this.fireClose())}async write(r){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(r,this.options).then(s=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(s):s).then(s=>{let u=[];return u.push(FT,s.byteLength.toString(),Tg),u.push(Tg),this.doWrite(r,u,s)},s=>{throw this.fireError(s),s}))}async doWrite(r,o,s){try{return await this.writable.write(o.join(""),"ascii"),this.writable.write(s)}catch(u){return this.handleError(u,r),Promise.reject(u)}}handleError(r,o){this.errorCount++,this.fireError(r,o,this.errorCount)}end(){this.writable.end()}};Pr.WriteableStreamMessageWriter=hl});var Pg=V(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.AbstractMessageBuffer=void 0;var NT=13,WT=10,UT=`\r
`,gl=class{constructor(r="utf-8"){this._encoding=r,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(r){let o=typeof r=="string"?this.fromString(r,this._encoding):r;this._chunks.push(o),this._totalLength+=o.byteLength}tryReadHeaders(r=!1){if(this._chunks.length===0)return;let o=0,s=0,u=0,p=0;e:for(;s<this._chunks.length;){let N=this._chunks[s];for(u=0;u<N.length;){switch(N[u]){case NT:switch(o){case 0:o=1;break;case 2:o=3;break;default:o=0}break;case WT:switch(o){case 1:o=2;break;case 3:o=4,u++;break e;default:o=0}break;default:o=0}u++}p+=N.byteLength,s++}if(o!==4)return;let R=this._read(p+u),k=new Map,j=this.toString(R,"ascii").split(UT);if(j.length<2)return k;for(let N=0;N<j.length-2;N++){let G=j[N],J=G.indexOf(":");if(J===-1)throw new Error(`Message header must separate key and value using ':'
${G}`);let Z=G.substr(0,J),be=G.substr(J+1).trim();k.set(r?Z.toLowerCase():Z,be)}return k}tryReadBody(r){if(!(this._totalLength<r))return this._read(r)}get numberOfBytes(){return this._totalLength}_read(r){if(r===0)return this.emptyBuffer();if(r>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===r){let p=this._chunks[0];return this._chunks.shift(),this._totalLength-=r,this.asNative(p)}if(this._chunks[0].byteLength>r){let p=this._chunks[0],R=this.asNative(p,r);return this._chunks[0]=p.slice(r),this._totalLength-=r,R}let o=this.allocNative(r),s=0,u=0;for(;r>0;){let p=this._chunks[u];if(p.byteLength>r){let R=p.slice(0,r);o.set(R,s),s+=r,this._chunks[u]=p.slice(r),this._totalLength-=r,r-=r}else o.set(p,s),s+=p.byteLength,this._chunks.shift(),this._totalLength-=p.byteLength,r-=p.byteLength}return o}};Us.AbstractMessageBuffer=gl});var Ig=V(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.createMessageConnection=de.ConnectionOptions=de.MessageStrategy=de.CancellationStrategy=de.CancellationSenderStrategy=de.CancellationReceiverStrategy=de.RequestCancellationReceiverStrategy=de.IdCancellationReceiverStrategy=de.ConnectionStrategy=de.ConnectionError=de.ConnectionErrors=de.LogTraceNotification=de.SetTraceNotification=de.TraceFormat=de.TraceValues=de.Trace=de.NullLogger=de.ProgressType=de.ProgressToken=void 0;var Eg=Cr(),Ye=Ci(),ae=Vc(),kg=Kc(),po=Pi(),pl=Ls(),vo;(function(t){t.type=new ae.NotificationType("$/cancelRequest")})(vo||(vo={}));var ml;(function(t){function r(o){return typeof o=="string"||typeof o=="number"}t.is=r})(ml||(de.ProgressToken=ml={}));var mo;(function(t){t.type=new ae.NotificationType("$/progress")})(mo||(mo={}));var _l=class{constructor(){}};de.ProgressType=_l;var vl;(function(t){function r(o){return Ye.func(o)}t.is=r})(vl||(vl={}));de.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ke;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(ke||(de.Trace=ke={}));var qg;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(qg||(de.TraceValues=qg={}));(function(t){function r(s){if(!Ye.string(s))return t.Off;switch(s=s.toLowerCase(),s){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=r;function o(s){switch(s){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=o})(ke||(de.Trace=ke={}));var Yt;(function(t){t.Text="text",t.JSON="json"})(Yt||(de.TraceFormat=Yt={}));(function(t){function r(o){return Ye.string(o)?(o=o.toLowerCase(),o==="json"?t.JSON:t.Text):t.Text}t.fromString=r})(Yt||(de.TraceFormat=Yt={}));var yl;(function(t){t.type=new ae.NotificationType("$/setTrace")})(yl||(de.SetTraceNotification=yl={}));var js;(function(t){t.type=new ae.NotificationType("$/logTrace")})(js||(de.LogTraceNotification=js={}));var _o;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(_o||(de.ConnectionErrors=_o={}));var Oi=class t extends Error{constructor(r,o){super(o),this.code=r,Object.setPrototypeOf(this,t.prototype)}};de.ConnectionError=Oi;var bl;(function(t){function r(o){let s=o;return s&&Ye.func(s.cancelUndispatched)}t.is=r})(bl||(de.ConnectionStrategy=bl={}));var Hs;(function(t){function r(o){let s=o;return s&&(s.kind===void 0||s.kind==="id")&&Ye.func(s.createCancellationTokenSource)&&(s.dispose===void 0||Ye.func(s.dispose))}t.is=r})(Hs||(de.IdCancellationReceiverStrategy=Hs={}));var wl;(function(t){function r(o){let s=o;return s&&s.kind==="request"&&Ye.func(s.createCancellationTokenSource)&&(s.dispose===void 0||Ye.func(s.dispose))}t.is=r})(wl||(de.RequestCancellationReceiverStrategy=wl={}));var Bs;(function(t){t.Message=Object.freeze({createCancellationTokenSource(o){return new pl.CancellationTokenSource}});function r(o){return Hs.is(o)||wl.is(o)}t.is=r})(Bs||(de.CancellationReceiverStrategy=Bs={}));var $s;(function(t){t.Message=Object.freeze({sendCancellation(o,s){return o.sendNotification(vo.type,{id:s})},cleanup(o){}});function r(o){let s=o;return s&&Ye.func(s.sendCancellation)&&Ye.func(s.cleanup)}t.is=r})($s||(de.CancellationSenderStrategy=$s={}));var zs;(function(t){t.Message=Object.freeze({receiver:Bs.Message,sender:$s.Message});function r(o){let s=o;return s&&Bs.is(s.receiver)&&$s.is(s.sender)}t.is=r})(zs||(de.CancellationStrategy=zs={}));var Gs;(function(t){function r(o){let s=o;return s&&Ye.func(s.handleMessage)}t.is=r})(Gs||(de.MessageStrategy=Gs={}));var Og;(function(t){function r(o){let s=o;return s&&(zs.is(s.cancellationStrategy)||bl.is(s.connectionStrategy)||Gs.is(s.messageStrategy))}t.is=r})(Og||(de.ConnectionOptions=Og={}));var En;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(En||(En={}));function jT(t,r,o,s){let u=o!==void 0?o:de.NullLogger,p=0,R=0,k=0,j="2.0",N,G=new Map,J,Z=new Map,be=new Map,K,se=new kg.LinkedMap,B=new Map,ne=new Set,P=new Map,D=ke.Off,I=Yt.Text,ee,we=En.New,Le=new po.Emitter,ct=new po.Emitter,en=new po.Emitter,Re=new po.Emitter,Ne=new po.Emitter,Ze=s&&s.cancellationStrategy?s.cancellationStrategy:zs.Message;function yn(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function In(v){return v===null?"res-unknown-"+(++k).toString():"res-"+v.toString()}function tn(){return"not-"+(++R).toString()}function nn(v,M){ae.Message.isRequest(M)?v.set(yn(M.id),M):ae.Message.isResponse(M)?v.set(In(M.id),M):v.set(tn(),M)}function ai(v){}function Mn(){return we===En.Listening}function dt(){return we===En.Closed}function bn(){return we===En.Disposed}function dr(){(we===En.New||we===En.Listening)&&(we=En.Closed,ct.fire(void 0))}function Gn(v){Le.fire([v,void 0,void 0])}function wn(v){Le.fire(v)}t.onClose(dr),t.onError(Gn),r.onClose(dr),r.onError(wn);function An(){K||se.size===0||(K=(0,Eg.default)().timer.setImmediate(()=>{K=void 0,Ln()}))}function Wr(v){ae.Message.isRequest(v)?ui(v):ae.Message.isNotification(v)?Jn(v):ae.Message.isResponse(v)?Vn(v):Kn(v)}function Ln(){if(se.size===0)return;let v=se.shift();try{let M=s?.messageStrategy;Gs.is(M)?M.handleMessage(v,Wr):Wr(v)}finally{An()}}let Fn=v=>{try{if(ae.Message.isNotification(v)&&v.method===vo.type.method){let M=v.params.id,H=yn(M),X=se.get(H);if(ae.Message.isRequest(X)){let Ce=s?.connectionStrategy,Ie=Ce&&Ce.cancelUndispatched?Ce.cancelUndispatched(X,ai):void 0;if(Ie&&(Ie.error!==void 0||Ie.result!==void 0)){se.delete(H),P.delete(M),Ie.id=X.id,mt(Ie,v.method,Date.now()),r.write(Ie).catch(()=>u.error("Sending response for canceled message failed."));return}}let xe=P.get(M);if(xe!==void 0){xe.cancel(),hr(v);return}else ne.add(M)}nn(se,v)}finally{An()}};function ui(v){if(bn())return;function M(pe,Me,Se){let Be={jsonrpc:j,id:v.id};pe instanceof ae.ResponseError?Be.error=pe.toJson():Be.result=pe===void 0?null:pe,mt(Be,Me,Se),r.write(Be).catch(()=>u.error("Sending response failed."))}function H(pe,Me,Se){let Be={jsonrpc:j,id:v.id,error:pe.toJson()};mt(Be,Me,Se),r.write(Be).catch(()=>u.error("Sending response failed."))}function X(pe,Me,Se){pe===void 0&&(pe=null);let Be={jsonrpc:j,id:v.id,result:pe};mt(Be,Me,Se),r.write(Be).catch(()=>u.error("Sending response failed."))}Ur(v);let xe=G.get(v.method),Ce,Ie;xe&&(Ce=xe.type,Ie=xe.handler);let Ue=Date.now();if(Ie||N){let pe=v.id??String(Date.now()),Me=Hs.is(Ze.receiver)?Ze.receiver.createCancellationTokenSource(pe):Ze.receiver.createCancellationTokenSource(v);v.id!==null&&ne.has(v.id)&&Me.cancel(),v.id!==null&&P.set(pe,Me);try{let Se;if(Ie)if(v.params===void 0){if(Ce!==void 0&&Ce.numberOfParams!==0){H(new ae.ResponseError(ae.ErrorCodes.InvalidParams,`Request ${v.method} defines ${Ce.numberOfParams} params but received none.`),v.method,Ue);return}Se=Ie(Me.token)}else if(Array.isArray(v.params)){if(Ce!==void 0&&Ce.parameterStructures===ae.ParameterStructures.byName){H(new ae.ResponseError(ae.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,Ue);return}Se=Ie(...v.params,Me.token)}else{if(Ce!==void 0&&Ce.parameterStructures===ae.ParameterStructures.byPosition){H(new ae.ResponseError(ae.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,Ue);return}Se=Ie(v.params,Me.token)}else N&&(Se=N(v.method,v.params,Me.token));let Be=Se;Se?Be.then?Be.then(st=>{P.delete(pe),M(st,v.method,Ue)},st=>{P.delete(pe),st instanceof ae.ResponseError?H(st,v.method,Ue):st&&Ye.string(st.message)?H(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${st.message}`),v.method,Ue):H(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,Ue)}):(P.delete(pe),M(Se,v.method,Ue)):(P.delete(pe),X(Se,v.method,Ue))}catch(Se){P.delete(pe),Se instanceof ae.ResponseError?M(Se,v.method,Ue):Se&&Ye.string(Se.message)?H(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${Se.message}`),v.method,Ue):H(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,Ue)}}else H(new ae.ResponseError(ae.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,Ue)}function Vn(v){if(!bn())if(v.id===null)v.error?u.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):u.error("Received response message without id. No further error information provided.");else{let M=v.id,H=B.get(M);if(Wn(v,H),H!==void 0){B.delete(M);try{if(v.error){let X=v.error;H.reject(new ae.ResponseError(X.code,X.message,X.data))}else if(v.result!==void 0)H.resolve(v.result);else throw new Error("Should never happen.")}catch(X){X.message?u.error(`Response handler '${H.method}' failed with message: ${X.message}`):u.error(`Response handler '${H.method}' failed unexpectedly.`)}}}}function Jn(v){if(bn())return;let M,H;if(v.method===vo.type.method){let X=v.params.id;ne.delete(X),hr(v);return}else{let X=Z.get(v.method);X&&(H=X.handler,M=X.type)}if(H||J)try{if(hr(v),H)if(v.params===void 0)M!==void 0&&M.numberOfParams!==0&&M.parameterStructures!==ae.ParameterStructures.byName&&u.error(`Notification ${v.method} defines ${M.numberOfParams} params but received none.`),H();else if(Array.isArray(v.params)){let X=v.params;v.method===mo.type.method&&X.length===2&&ml.is(X[0])?H({token:X[0],value:X[1]}):(M!==void 0&&(M.parameterStructures===ae.ParameterStructures.byName&&u.error(`Notification ${v.method} defines parameters by name but received parameters by position`),M.numberOfParams!==v.params.length&&u.error(`Notification ${v.method} defines ${M.numberOfParams} params but received ${X.length} arguments`)),H(...X))}else M!==void 0&&M.parameterStructures===ae.ParameterStructures.byPosition&&u.error(`Notification ${v.method} defines parameters by position but received parameters by name`),H(v.params);else J&&J(v.method,v.params)}catch(X){X.message?u.error(`Notification handler '${v.method}' failed with message: ${X.message}`):u.error(`Notification handler '${v.method}' failed unexpectedly.`)}else en.fire(v)}function Kn(v){if(!v){u.error("Received empty message.");return}u.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let M=v;if(Ye.string(M.id)||Ye.number(M.id)){let H=M.id,X=B.get(H);X&&X.reject(new Error("The received response has neither a result nor an error property."))}}function Ke(v){if(v!=null)switch(D){case ke.Verbose:return JSON.stringify(v,null,4);case ke.Compact:return JSON.stringify(v);default:return}}function Nn(v){if(!(D===ke.Off||!ee))if(I===Yt.Text){let M;(D===ke.Verbose||D===ke.Compact)&&v.params&&(M=`Params: ${Ke(v.params)}

`),ee.log(`Sending request '${v.method} - (${v.id})'.`,M)}else nt("send-request",v)}function ci(v){if(!(D===ke.Off||!ee))if(I===Yt.Text){let M;(D===ke.Verbose||D===ke.Compact)&&(v.params?M=`Params: ${Ke(v.params)}

`:M=`No parameters provided.

`),ee.log(`Sending notification '${v.method}'.`,M)}else nt("send-notification",v)}function mt(v,M,H){if(!(D===ke.Off||!ee))if(I===Yt.Text){let X;(D===ke.Verbose||D===ke.Compact)&&(v.error&&v.error.data?X=`Error data: ${Ke(v.error.data)}

`:v.result?X=`Result: ${Ke(v.result)}

`:v.error===void 0&&(X=`No result returned.

`)),ee.log(`Sending response '${M} - (${v.id})'. Processing request took ${Date.now()-H}ms`,X)}else nt("send-response",v)}function Ur(v){if(!(D===ke.Off||!ee))if(I===Yt.Text){let M;(D===ke.Verbose||D===ke.Compact)&&v.params&&(M=`Params: ${Ke(v.params)}

`),ee.log(`Received request '${v.method} - (${v.id})'.`,M)}else nt("receive-request",v)}function hr(v){if(!(D===ke.Off||!ee||v.method===js.type.method))if(I===Yt.Text){let M;(D===ke.Verbose||D===ke.Compact)&&(v.params?M=`Params: ${Ke(v.params)}

`:M=`No parameters provided.

`),ee.log(`Received notification '${v.method}'.`,M)}else nt("receive-notification",v)}function Wn(v,M){if(!(D===ke.Off||!ee))if(I===Yt.Text){let H;if((D===ke.Verbose||D===ke.Compact)&&(v.error&&v.error.data?H=`Error data: ${Ke(v.error.data)}

`:v.result?H=`Result: ${Ke(v.result)}

`:v.error===void 0&&(H=`No result returned.

`)),M){let X=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";ee.log(`Received response '${M.method} - (${v.id})' in ${Date.now()-M.timerStart}ms.${X}`,H)}else ee.log(`Received response ${v.id} without active response promise.`,H)}else nt("receive-response",v)}function nt(v,M){if(!ee||D===ke.Off)return;let H={isLSPMessage:!0,type:v,message:M,timestamp:Date.now()};ee.log(H)}function qt(){if(dt())throw new Oi(_o.Closed,"Connection is closed.");if(bn())throw new Oi(_o.Disposed,"Connection is disposed.")}function Xn(){if(Mn())throw new Oi(_o.AlreadyListening,"Connection is already listening")}function li(){if(!Mn())throw new Error("Call listen() first.")}function bt(v){return v===void 0?null:v}function jr(v){if(v!==null)return v}function Rn(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function Ht(v,M){switch(v){case ae.ParameterStructures.auto:return Rn(M)?jr(M):[bt(M)];case ae.ParameterStructures.byName:if(!Rn(M))throw new Error("Received parameters by name but param is not an object literal.");return jr(M);case ae.ParameterStructures.byPosition:return[bt(M)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Yn(v,M){let H,X=v.numberOfParams;switch(X){case 0:H=void 0;break;case 1:H=Ht(v.parameterStructures,M[0]);break;default:H=[];for(let xe=0;xe<M.length&&xe<X;xe++)H.push(bt(M[xe]));if(M.length<X)for(let xe=M.length;xe<X;xe++)H.push(null);break}return H}let Bt={sendNotification:(v,...M)=>{qt();let H,X;if(Ye.string(v)){H=v;let Ce=M[0],Ie=0,Ue=ae.ParameterStructures.auto;ae.ParameterStructures.is(Ce)&&(Ie=1,Ue=Ce);let pe=M.length,Me=pe-Ie;switch(Me){case 0:X=void 0;break;case 1:X=Ht(Ue,M[Ie]);break;default:if(Ue===ae.ParameterStructures.byName)throw new Error(`Received ${Me} parameters for 'by Name' notification parameter structure.`);X=M.slice(Ie,pe).map(Se=>bt(Se));break}}else{let Ce=M;H=v.method,X=Yn(v,Ce)}let xe={jsonrpc:j,method:H,params:X};return ci(xe),r.write(xe).catch(Ce=>{throw u.error("Sending notification failed."),Ce})},onNotification:(v,M)=>{qt();let H;return Ye.func(v)?J=v:M&&(Ye.string(v)?(H=v,Z.set(v,{type:void 0,handler:M})):(H=v.method,Z.set(v.method,{type:v,handler:M}))),{dispose:()=>{H!==void 0?Z.delete(H):J=void 0}}},onProgress:(v,M,H)=>{if(be.has(M))throw new Error(`Progress handler for token ${M} already registered`);return be.set(M,H),{dispose:()=>{be.delete(M)}}},sendProgress:(v,M,H)=>Bt.sendNotification(mo.type,{token:M,value:H}),onUnhandledProgress:Re.event,sendRequest:(v,...M)=>{qt(),li();let H,X,xe;if(Ye.string(v)){H=v;let pe=M[0],Me=M[M.length-1],Se=0,Be=ae.ParameterStructures.auto;ae.ParameterStructures.is(pe)&&(Se=1,Be=pe);let st=M.length;pl.CancellationToken.is(Me)&&(st=st-1,xe=Me);let xt=st-Se;switch(xt){case 0:X=void 0;break;case 1:X=Ht(Be,M[Se]);break;default:if(Be===ae.ParameterStructures.byName)throw new Error(`Received ${xt} parameters for 'by Name' request parameter structure.`);X=M.slice(Se,st).map(fi=>bt(fi));break}}else{let pe=M;H=v.method,X=Yn(v,pe);let Me=v.numberOfParams;xe=pl.CancellationToken.is(pe[Me])?pe[Me]:void 0}let Ce=p++,Ie;xe&&(Ie=xe.onCancellationRequested(()=>{let pe=Ze.sender.sendCancellation(Bt,Ce);return pe===void 0?(u.log(`Received no promise from cancellation strategy when cancelling id ${Ce}`),Promise.resolve()):pe.catch(()=>{u.log(`Sending cancellation messages for id ${Ce} failed`)})}));let Ue={jsonrpc:j,id:Ce,method:H,params:X};return Nn(Ue),typeof Ze.sender.enableCancellation=="function"&&Ze.sender.enableCancellation(Ue),new Promise(async(pe,Me)=>{let Se=xt=>{pe(xt),Ze.sender.cleanup(Ce),Ie?.dispose()},Be=xt=>{Me(xt),Ze.sender.cleanup(Ce),Ie?.dispose()},st={method:H,timerStart:Date.now(),resolve:Se,reject:Be};try{await r.write(Ue),B.set(Ce,st)}catch(xt){throw u.error("Sending request failed."),st.reject(new ae.ResponseError(ae.ErrorCodes.MessageWriteError,xt.message?xt.message:"Unknown reason")),xt}})},onRequest:(v,M)=>{qt();let H=null;return vl.is(v)?(H=void 0,N=v):Ye.string(v)?(H=null,M!==void 0&&(H=v,G.set(v,{handler:M,type:void 0}))):M!==void 0&&(H=v.method,G.set(v.method,{type:v,handler:M})),{dispose:()=>{H!==null&&(H!==void 0?G.delete(H):N=void 0)}}},hasPendingResponse:()=>B.size>0,trace:async(v,M,H)=>{let X=!1,xe=Yt.Text;H!==void 0&&(Ye.boolean(H)?X=H:(X=H.sendNotification||!1,xe=H.traceFormat||Yt.Text)),D=v,I=xe,D===ke.Off?ee=void 0:ee=M,X&&!dt()&&!bn()&&await Bt.sendNotification(yl.type,{value:ke.toString(v)})},onError:Le.event,onClose:ct.event,onUnhandledNotification:en.event,onDispose:Ne.event,end:()=>{r.end()},dispose:()=>{if(bn())return;we=En.Disposed,Ne.fire(void 0);let v=new ae.ResponseError(ae.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let M of B.values())M.reject(v);B=new Map,P=new Map,ne=new Set,se=new kg.LinkedMap,Ye.func(r.dispose)&&r.dispose(),Ye.func(t.dispose)&&t.dispose()},listen:()=>{qt(),Xn(),we=En.Listening,t.listen(Fn)},inspect:()=>{(0,Eg.default)().console.log("inspect")}};return Bt.onNotification(js.type,v=>{if(D===ke.Off||!ee)return;let M=D===ke.Verbose||D===ke.Compact;ee.log(v.message,M?v.verbose:void 0)}),Bt.onNotification(mo.type,v=>{let M=be.get(v.token);M?M(v.value):Re.fire(v)}),Bt}de.createMessageConnection=jT});var Vs=V(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.ProgressType=O.ProgressToken=O.createMessageConnection=O.NullLogger=O.ConnectionOptions=O.ConnectionStrategy=O.AbstractMessageBuffer=O.WriteableStreamMessageWriter=O.AbstractMessageWriter=O.MessageWriter=O.ReadableStreamMessageReader=O.AbstractMessageReader=O.MessageReader=O.SharedArrayReceiverStrategy=O.SharedArraySenderStrategy=O.CancellationToken=O.CancellationTokenSource=O.Emitter=O.Event=O.Disposable=O.LRUCache=O.Touch=O.LinkedMap=O.ParameterStructures=O.NotificationType9=O.NotificationType8=O.NotificationType7=O.NotificationType6=O.NotificationType5=O.NotificationType4=O.NotificationType3=O.NotificationType2=O.NotificationType1=O.NotificationType0=O.NotificationType=O.ErrorCodes=O.ResponseError=O.RequestType9=O.RequestType8=O.RequestType7=O.RequestType6=O.RequestType5=O.RequestType4=O.RequestType3=O.RequestType2=O.RequestType1=O.RequestType0=O.RequestType=O.Message=O.RAL=void 0;O.MessageStrategy=O.CancellationStrategy=O.CancellationSenderStrategy=O.CancellationReceiverStrategy=O.ConnectionError=O.ConnectionErrors=O.LogTraceNotification=O.SetTraceNotification=O.TraceFormat=O.TraceValues=O.Trace=void 0;var He=Vc();Object.defineProperty(O,"Message",{enumerable:!0,get:function(){return He.Message}});Object.defineProperty(O,"RequestType",{enumerable:!0,get:function(){return He.RequestType}});Object.defineProperty(O,"RequestType0",{enumerable:!0,get:function(){return He.RequestType0}});Object.defineProperty(O,"RequestType1",{enumerable:!0,get:function(){return He.RequestType1}});Object.defineProperty(O,"RequestType2",{enumerable:!0,get:function(){return He.RequestType2}});Object.defineProperty(O,"RequestType3",{enumerable:!0,get:function(){return He.RequestType3}});Object.defineProperty(O,"RequestType4",{enumerable:!0,get:function(){return He.RequestType4}});Object.defineProperty(O,"RequestType5",{enumerable:!0,get:function(){return He.RequestType5}});Object.defineProperty(O,"RequestType6",{enumerable:!0,get:function(){return He.RequestType6}});Object.defineProperty(O,"RequestType7",{enumerable:!0,get:function(){return He.RequestType7}});Object.defineProperty(O,"RequestType8",{enumerable:!0,get:function(){return He.RequestType8}});Object.defineProperty(O,"RequestType9",{enumerable:!0,get:function(){return He.RequestType9}});Object.defineProperty(O,"ResponseError",{enumerable:!0,get:function(){return He.ResponseError}});Object.defineProperty(O,"ErrorCodes",{enumerable:!0,get:function(){return He.ErrorCodes}});Object.defineProperty(O,"NotificationType",{enumerable:!0,get:function(){return He.NotificationType}});Object.defineProperty(O,"NotificationType0",{enumerable:!0,get:function(){return He.NotificationType0}});Object.defineProperty(O,"NotificationType1",{enumerable:!0,get:function(){return He.NotificationType1}});Object.defineProperty(O,"NotificationType2",{enumerable:!0,get:function(){return He.NotificationType2}});Object.defineProperty(O,"NotificationType3",{enumerable:!0,get:function(){return He.NotificationType3}});Object.defineProperty(O,"NotificationType4",{enumerable:!0,get:function(){return He.NotificationType4}});Object.defineProperty(O,"NotificationType5",{enumerable:!0,get:function(){return He.NotificationType5}});Object.defineProperty(O,"NotificationType6",{enumerable:!0,get:function(){return He.NotificationType6}});Object.defineProperty(O,"NotificationType7",{enumerable:!0,get:function(){return He.NotificationType7}});Object.defineProperty(O,"NotificationType8",{enumerable:!0,get:function(){return He.NotificationType8}});Object.defineProperty(O,"NotificationType9",{enumerable:!0,get:function(){return He.NotificationType9}});Object.defineProperty(O,"ParameterStructures",{enumerable:!0,get:function(){return He.ParameterStructures}});var Rl=Kc();Object.defineProperty(O,"LinkedMap",{enumerable:!0,get:function(){return Rl.LinkedMap}});Object.defineProperty(O,"LRUCache",{enumerable:!0,get:function(){return Rl.LRUCache}});Object.defineProperty(O,"Touch",{enumerable:!0,get:function(){return Rl.Touch}});var HT=vg();Object.defineProperty(O,"Disposable",{enumerable:!0,get:function(){return HT.Disposable}});var Mg=Pi();Object.defineProperty(O,"Event",{enumerable:!0,get:function(){return Mg.Event}});Object.defineProperty(O,"Emitter",{enumerable:!0,get:function(){return Mg.Emitter}});var Ag=Ls();Object.defineProperty(O,"CancellationTokenSource",{enumerable:!0,get:function(){return Ag.CancellationTokenSource}});Object.defineProperty(O,"CancellationToken",{enumerable:!0,get:function(){return Ag.CancellationToken}});var Lg=bg();Object.defineProperty(O,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Lg.SharedArraySenderStrategy}});Object.defineProperty(O,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Lg.SharedArrayReceiverStrategy}});var Sl=Rg();Object.defineProperty(O,"MessageReader",{enumerable:!0,get:function(){return Sl.MessageReader}});Object.defineProperty(O,"AbstractMessageReader",{enumerable:!0,get:function(){return Sl.AbstractMessageReader}});Object.defineProperty(O,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Sl.ReadableStreamMessageReader}});var Dl=xg();Object.defineProperty(O,"MessageWriter",{enumerable:!0,get:function(){return Dl.MessageWriter}});Object.defineProperty(O,"AbstractMessageWriter",{enumerable:!0,get:function(){return Dl.AbstractMessageWriter}});Object.defineProperty(O,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Dl.WriteableStreamMessageWriter}});var BT=Pg();Object.defineProperty(O,"AbstractMessageBuffer",{enumerable:!0,get:function(){return BT.AbstractMessageBuffer}});var vt=Ig();Object.defineProperty(O,"ConnectionStrategy",{enumerable:!0,get:function(){return vt.ConnectionStrategy}});Object.defineProperty(O,"ConnectionOptions",{enumerable:!0,get:function(){return vt.ConnectionOptions}});Object.defineProperty(O,"NullLogger",{enumerable:!0,get:function(){return vt.NullLogger}});Object.defineProperty(O,"createMessageConnection",{enumerable:!0,get:function(){return vt.createMessageConnection}});Object.defineProperty(O,"ProgressToken",{enumerable:!0,get:function(){return vt.ProgressToken}});Object.defineProperty(O,"ProgressType",{enumerable:!0,get:function(){return vt.ProgressType}});Object.defineProperty(O,"Trace",{enumerable:!0,get:function(){return vt.Trace}});Object.defineProperty(O,"TraceValues",{enumerable:!0,get:function(){return vt.TraceValues}});Object.defineProperty(O,"TraceFormat",{enumerable:!0,get:function(){return vt.TraceFormat}});Object.defineProperty(O,"SetTraceNotification",{enumerable:!0,get:function(){return vt.SetTraceNotification}});Object.defineProperty(O,"LogTraceNotification",{enumerable:!0,get:function(){return vt.LogTraceNotification}});Object.defineProperty(O,"ConnectionErrors",{enumerable:!0,get:function(){return vt.ConnectionErrors}});Object.defineProperty(O,"ConnectionError",{enumerable:!0,get:function(){return vt.ConnectionError}});Object.defineProperty(O,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return vt.CancellationReceiverStrategy}});Object.defineProperty(O,"CancellationSenderStrategy",{enumerable:!0,get:function(){return vt.CancellationSenderStrategy}});Object.defineProperty(O,"CancellationStrategy",{enumerable:!0,get:function(){return vt.CancellationStrategy}});Object.defineProperty(O,"MessageStrategy",{enumerable:!0,get:function(){return vt.MessageStrategy}});var $T=Cr();O.RAL=$T.default});var Wg=V(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});var Fg=require("util"),ar=Vs(),Js=class t extends ar.AbstractMessageBuffer{constructor(r="utf-8"){super(r)}emptyBuffer(){return t.emptyBuffer}fromString(r,o){return Buffer.from(r,o)}toString(r,o){return r instanceof Buffer?r.toString(o):new Fg.TextDecoder(o).decode(r)}asNative(r,o){return o===void 0?r instanceof Buffer?r:Buffer.from(r):r instanceof Buffer?r.slice(0,o):Buffer.from(r,0,o)}allocNative(r){return Buffer.allocUnsafe(r)}};Js.emptyBuffer=Buffer.allocUnsafe(0);var Tl=class{constructor(r){this.stream=r}onClose(r){return this.stream.on("close",r),ar.Disposable.create(()=>this.stream.off("close",r))}onError(r){return this.stream.on("error",r),ar.Disposable.create(()=>this.stream.off("error",r))}onEnd(r){return this.stream.on("end",r),ar.Disposable.create(()=>this.stream.off("end",r))}onData(r){return this.stream.on("data",r),ar.Disposable.create(()=>this.stream.off("data",r))}},Cl=class{constructor(r){this.stream=r}onClose(r){return this.stream.on("close",r),ar.Disposable.create(()=>this.stream.off("close",r))}onError(r){return this.stream.on("error",r),ar.Disposable.create(()=>this.stream.off("error",r))}onEnd(r){return this.stream.on("end",r),ar.Disposable.create(()=>this.stream.off("end",r))}write(r,o){return new Promise((s,u)=>{let p=R=>{R==null?s():u(R)};typeof r=="string"?this.stream.write(r,o,p):this.stream.write(r,p)})}end(){this.stream.end()}},Ng=Object.freeze({messageBuffer:Object.freeze({create:t=>new Js(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,r)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),r.charset))}catch(o){return Promise.reject(o)}}}),decoder:Object.freeze({name:"application/json",decode:(t,r)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(r.charset))):Promise.resolve(JSON.parse(new Fg.TextDecoder(r.charset).decode(t)))}catch(o){return Promise.reject(o)}}})}),stream:Object.freeze({asReadableStream:t=>new Tl(t),asWritableStream:t=>new Cl(t)}),console,timer:Object.freeze({setTimeout(t,r,...o){let s=setTimeout(t,r,...o);return{dispose:()=>clearTimeout(s)}},setImmediate(t,...r){let o=setImmediate(t,...r);return{dispose:()=>clearImmediate(o)}},setInterval(t,r,...o){let s=setInterval(t,r,...o);return{dispose:()=>clearInterval(s)}}})});function xl(){return Ng}(function(t){function r(){ar.RAL.install(Ng)}t.install=r})(xl||(xl={}));Pl.default=xl});var ei=V(Te=>{"use strict";var zT=Te&&Te.__createBinding||(Object.create?function(t,r,o,s){s===void 0&&(s=o);var u=Object.getOwnPropertyDescriptor(r,o);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(t,s,u)}:function(t,r,o,s){s===void 0&&(s=o),t[s]=r[o]}),GT=Te&&Te.__exportStar||function(t,r){for(var o in t)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&zT(r,t,o)};Object.defineProperty(Te,"__esModule",{value:!0});Te.createMessageConnection=Te.createServerSocketTransport=Te.createClientSocketTransport=Te.createServerPipeTransport=Te.createClientPipeTransport=Te.generateRandomPipeName=Te.StreamMessageWriter=Te.StreamMessageReader=Te.SocketMessageWriter=Te.SocketMessageReader=Te.PortMessageWriter=Te.PortMessageReader=Te.IPCMessageWriter=Te.IPCMessageReader=void 0;var Ii=Wg();Ii.default.install();var Ug=require("path"),VT=require("os"),JT=require("crypto"),Ys=require("net"),Zt=Vs();GT(Vs(),Te);var El=class extends Zt.AbstractMessageReader{constructor(r){super(),this.process=r;let o=this.process;o.on("error",s=>this.fireError(s)),o.on("close",()=>this.fireClose())}listen(r){return this.process.on("message",r),Zt.Disposable.create(()=>this.process.off("message",r))}};Te.IPCMessageReader=El;var kl=class extends Zt.AbstractMessageWriter{constructor(r){super(),this.process=r,this.errorCount=0;let o=this.process;o.on("error",s=>this.fireError(s)),o.on("close",()=>this.fireClose)}write(r){try{return typeof this.process.send=="function"&&this.process.send(r,void 0,void 0,o=>{o?(this.errorCount++,this.handleError(o,r)):this.errorCount=0}),Promise.resolve()}catch(o){return this.handleError(o,r),Promise.reject(o)}}handleError(r,o){this.errorCount++,this.fireError(r,o,this.errorCount)}end(){}};Te.IPCMessageWriter=kl;var ql=class extends Zt.AbstractMessageReader{constructor(r){super(),this.onData=new Zt.Emitter,r.on("close",()=>this.fireClose),r.on("error",o=>this.fireError(o)),r.on("message",o=>{this.onData.fire(o)})}listen(r){return this.onData.event(r)}};Te.PortMessageReader=ql;var Ol=class extends Zt.AbstractMessageWriter{constructor(r){super(),this.port=r,this.errorCount=0,r.on("close",()=>this.fireClose()),r.on("error",o=>this.fireError(o))}write(r){try{return this.port.postMessage(r),Promise.resolve()}catch(o){return this.handleError(o,r),Promise.reject(o)}}handleError(r,o){this.errorCount++,this.fireError(r,o,this.errorCount)}end(){}};Te.PortMessageWriter=Ol;var Zr=class extends Zt.ReadableStreamMessageReader{constructor(r,o="utf-8"){super((0,Ii.default)().stream.asReadableStream(r),o)}};Te.SocketMessageReader=Zr;var Qr=class extends Zt.WriteableStreamMessageWriter{constructor(r,o){super((0,Ii.default)().stream.asWritableStream(r),o),this.socket=r}dispose(){super.dispose(),this.socket.destroy()}};Te.SocketMessageWriter=Qr;var Ks=class extends Zt.ReadableStreamMessageReader{constructor(r,o){super((0,Ii.default)().stream.asReadableStream(r),o)}};Te.StreamMessageReader=Ks;var Xs=class extends Zt.WriteableStreamMessageWriter{constructor(r,o){super((0,Ii.default)().stream.asWritableStream(r),o)}};Te.StreamMessageWriter=Xs;var jg=process.env.XDG_RUNTIME_DIR,KT=new Map([["linux",107],["darwin",103]]);function XT(){let t=(0,JT.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let r;jg?r=Ug.join(jg,`vscode-ipc-${t}.sock`):r=Ug.join(VT.tmpdir(),`vscode-${t}.sock`);let o=KT.get(process.platform);return o!==void 0&&r.length>o&&(0,Ii.default)().console.warn(`WARNING: IPC handle "${r}" is longer than ${o} characters.`),r}Te.generateRandomPipeName=XT;function YT(t,r="utf-8"){let o,s=new Promise((u,p)=>{o=u});return new Promise((u,p)=>{let R=(0,Ys.createServer)(k=>{R.close(),o([new Zr(k,r),new Qr(k,r)])});R.on("error",p),R.listen(t,()=>{R.removeListener("error",p),u({onConnected:()=>s})})})}Te.createClientPipeTransport=YT;function ZT(t,r="utf-8"){let o=(0,Ys.createConnection)(t);return[new Zr(o,r),new Qr(o,r)]}Te.createServerPipeTransport=ZT;function QT(t,r="utf-8"){let o,s=new Promise((u,p)=>{o=u});return new Promise((u,p)=>{let R=(0,Ys.createServer)(k=>{R.close(),o([new Zr(k,r),new Qr(k,r)])});R.on("error",p),R.listen(t,"127.0.0.1",()=>{R.removeListener("error",p),u({onConnected:()=>s})})})}Te.createClientSocketTransport=QT;function eC(t,r="utf-8"){let o=(0,Ys.createConnection)(t,"127.0.0.1");return[new Zr(o,r),new Qr(o,r)]}Te.createServerSocketTransport=eC;function tC(t){let r=t;return r.read!==void 0&&r.addListener!==void 0}function nC(t){let r=t;return r.write!==void 0&&r.addListener!==void 0}function rC(t,r,o,s){o||(o=Zt.NullLogger);let u=tC(t)?new Ks(t):t,p=nC(r)?new Xs(r):r;return Zt.ConnectionStrategy.is(s)&&(s={connectionStrategy:s}),(0,Zt.createMessageConnection)(u,p,o,s)}Te.createMessageConnection=rC});var Il=V((_P,Hg)=>{"use strict";Hg.exports=ei()});var Qs=V((Bg,Zs)=>{"use strict";(function(t){if(typeof Zs=="object"&&typeof Zs.exports=="object"){var r=t(require,Bg);r!==void 0&&(Zs.exports=r)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TextDocument=r.EOL=r.WorkspaceFolder=r.InlineCompletionContext=r.SelectedCompletionInfo=r.InlineCompletionTriggerKind=r.InlineCompletionList=r.InlineCompletionItem=r.StringValue=r.InlayHint=r.InlayHintLabelPart=r.InlayHintKind=r.InlineValueContext=r.InlineValueEvaluatableExpression=r.InlineValueVariableLookup=r.InlineValueText=r.SemanticTokens=r.SemanticTokenModifiers=r.SemanticTokenTypes=r.SelectionRange=r.DocumentLink=r.FormattingOptions=r.CodeLens=r.CodeAction=r.CodeActionContext=r.CodeActionTriggerKind=r.CodeActionKind=r.DocumentSymbol=r.WorkspaceSymbol=r.SymbolInformation=r.SymbolTag=r.SymbolKind=r.DocumentHighlight=r.DocumentHighlightKind=r.SignatureInformation=r.ParameterInformation=r.Hover=r.MarkedString=r.CompletionList=r.CompletionItem=r.CompletionItemLabelDetails=r.InsertTextMode=r.InsertReplaceEdit=r.CompletionItemTag=r.InsertTextFormat=r.CompletionItemKind=r.MarkupContent=r.MarkupKind=r.TextDocumentItem=r.OptionalVersionedTextDocumentIdentifier=r.VersionedTextDocumentIdentifier=r.TextDocumentIdentifier=r.WorkspaceChange=r.WorkspaceEdit=r.DeleteFile=r.RenameFile=r.CreateFile=r.TextDocumentEdit=r.AnnotatedTextEdit=r.ChangeAnnotationIdentifier=r.ChangeAnnotation=r.TextEdit=r.Command=r.Diagnostic=r.CodeDescription=r.DiagnosticTag=r.DiagnosticSeverity=r.DiagnosticRelatedInformation=r.FoldingRange=r.FoldingRangeKind=r.ColorPresentation=r.ColorInformation=r.Color=r.LocationLink=r.Location=r.Range=r.Position=r.uinteger=r.integer=r.URI=r.DocumentUri=void 0;var o;(function(f){function y(w){return typeof w=="string"}f.is=y})(o||(r.DocumentUri=o={}));var s;(function(f){function y(w){return typeof w=="string"}f.is=y})(s||(r.URI=s={}));var u;(function(f){f.MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647;function y(w){return typeof w=="number"&&f.MIN_VALUE<=w&&w<=f.MAX_VALUE}f.is=y})(u||(r.integer=u={}));var p;(function(f){f.MIN_VALUE=0,f.MAX_VALUE=2147483647;function y(w){return typeof w=="number"&&f.MIN_VALUE<=w&&w<=f.MAX_VALUE}f.is=y})(p||(r.uinteger=p={}));var R;(function(f){function y(g,l){return g===Number.MAX_VALUE&&(g=p.MAX_VALUE),l===Number.MAX_VALUE&&(l=p.MAX_VALUE),{line:g,character:l}}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&C.uinteger(l.line)&&C.uinteger(l.character)}f.is=w})(R||(r.Position=R={}));var k;(function(f){function y(g,l,x,L){if(C.uinteger(g)&&C.uinteger(l)&&C.uinteger(x)&&C.uinteger(L))return{start:R.create(g,l),end:R.create(x,L)};if(R.is(g)&&R.is(l))return{start:g,end:l};throw new Error("Range#create called with invalid arguments[".concat(g,", ").concat(l,", ").concat(x,", ").concat(L,"]"))}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&R.is(l.start)&&R.is(l.end)}f.is=w})(k||(r.Range=k={}));var j;(function(f){function y(g,l){return{uri:g,range:l}}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&k.is(l.range)&&(C.string(l.uri)||C.undefined(l.uri))}f.is=w})(j||(r.Location=j={}));var N;(function(f){function y(g,l,x,L){return{targetUri:g,targetRange:l,targetSelectionRange:x,originSelectionRange:L}}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&k.is(l.targetRange)&&C.string(l.targetUri)&&k.is(l.targetSelectionRange)&&(k.is(l.originSelectionRange)||C.undefined(l.originSelectionRange))}f.is=w})(N||(r.LocationLink=N={}));var G;(function(f){function y(g,l,x,L){return{red:g,green:l,blue:x,alpha:L}}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&C.numberRange(l.red,0,1)&&C.numberRange(l.green,0,1)&&C.numberRange(l.blue,0,1)&&C.numberRange(l.alpha,0,1)}f.is=w})(G||(r.Color=G={}));var J;(function(f){function y(g,l){return{range:g,color:l}}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&k.is(l.range)&&G.is(l.color)}f.is=w})(J||(r.ColorInformation=J={}));var Z;(function(f){function y(g,l,x){return{label:g,textEdit:l,additionalTextEdits:x}}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&C.string(l.label)&&(C.undefined(l.textEdit)||ee.is(l))&&(C.undefined(l.additionalTextEdits)||C.typedArray(l.additionalTextEdits,ee.is))}f.is=w})(Z||(r.ColorPresentation=Z={}));var be;(function(f){f.Comment="comment",f.Imports="imports",f.Region="region"})(be||(r.FoldingRangeKind=be={}));var K;(function(f){function y(g,l,x,L,ue,Ge){var Fe={startLine:g,endLine:l};return C.defined(x)&&(Fe.startCharacter=x),C.defined(L)&&(Fe.endCharacter=L),C.defined(ue)&&(Fe.kind=ue),C.defined(Ge)&&(Fe.collapsedText=Ge),Fe}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&C.uinteger(l.startLine)&&C.uinteger(l.startLine)&&(C.undefined(l.startCharacter)||C.uinteger(l.startCharacter))&&(C.undefined(l.endCharacter)||C.uinteger(l.endCharacter))&&(C.undefined(l.kind)||C.string(l.kind))}f.is=w})(K||(r.FoldingRange=K={}));var se;(function(f){function y(g,l){return{location:g,message:l}}f.create=y;function w(g){var l=g;return C.defined(l)&&j.is(l.location)&&C.string(l.message)}f.is=w})(se||(r.DiagnosticRelatedInformation=se={}));var B;(function(f){f.Error=1,f.Warning=2,f.Information=3,f.Hint=4})(B||(r.DiagnosticSeverity=B={}));var ne;(function(f){f.Unnecessary=1,f.Deprecated=2})(ne||(r.DiagnosticTag=ne={}));var P;(function(f){function y(w){var g=w;return C.objectLiteral(g)&&C.string(g.href)}f.is=y})(P||(r.CodeDescription=P={}));var D;(function(f){function y(g,l,x,L,ue,Ge){var Fe={range:g,message:l};return C.defined(x)&&(Fe.severity=x),C.defined(L)&&(Fe.code=L),C.defined(ue)&&(Fe.source=ue),C.defined(Ge)&&(Fe.relatedInformation=Ge),Fe}f.create=y;function w(g){var l,x=g;return C.defined(x)&&k.is(x.range)&&C.string(x.message)&&(C.number(x.severity)||C.undefined(x.severity))&&(C.integer(x.code)||C.string(x.code)||C.undefined(x.code))&&(C.undefined(x.codeDescription)||C.string((l=x.codeDescription)===null||l===void 0?void 0:l.href))&&(C.string(x.source)||C.undefined(x.source))&&(C.undefined(x.relatedInformation)||C.typedArray(x.relatedInformation,se.is))}f.is=w})(D||(r.Diagnostic=D={}));var I;(function(f){function y(g,l){for(var x=[],L=2;L<arguments.length;L++)x[L-2]=arguments[L];var ue={title:g,command:l};return C.defined(x)&&x.length>0&&(ue.arguments=x),ue}f.create=y;function w(g){var l=g;return C.defined(l)&&C.string(l.title)&&C.string(l.command)}f.is=w})(I||(r.Command=I={}));var ee;(function(f){function y(x,L){return{range:x,newText:L}}f.replace=y;function w(x,L){return{range:{start:x,end:x},newText:L}}f.insert=w;function g(x){return{range:x,newText:""}}f.del=g;function l(x){var L=x;return C.objectLiteral(L)&&C.string(L.newText)&&k.is(L.range)}f.is=l})(ee||(r.TextEdit=ee={}));var we;(function(f){function y(g,l,x){var L={label:g};return l!==void 0&&(L.needsConfirmation=l),x!==void 0&&(L.description=x),L}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&C.string(l.label)&&(C.boolean(l.needsConfirmation)||l.needsConfirmation===void 0)&&(C.string(l.description)||l.description===void 0)}f.is=w})(we||(r.ChangeAnnotation=we={}));var Le;(function(f){function y(w){var g=w;return C.string(g)}f.is=y})(Le||(r.ChangeAnnotationIdentifier=Le={}));var ct;(function(f){function y(x,L,ue){return{range:x,newText:L,annotationId:ue}}f.replace=y;function w(x,L,ue){return{range:{start:x,end:x},newText:L,annotationId:ue}}f.insert=w;function g(x,L){return{range:x,newText:"",annotationId:L}}f.del=g;function l(x){var L=x;return ee.is(L)&&(we.is(L.annotationId)||Le.is(L.annotationId))}f.is=l})(ct||(r.AnnotatedTextEdit=ct={}));var en;(function(f){function y(g,l){return{textDocument:g,edits:l}}f.create=y;function w(g){var l=g;return C.defined(l)&&dt.is(l.textDocument)&&Array.isArray(l.edits)}f.is=w})(en||(r.TextDocumentEdit=en={}));var Re;(function(f){function y(g,l,x){var L={kind:"create",uri:g};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(L.options=l),x!==void 0&&(L.annotationId=x),L}f.create=y;function w(g){var l=g;return l&&l.kind==="create"&&C.string(l.uri)&&(l.options===void 0||(l.options.overwrite===void 0||C.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||C.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||Le.is(l.annotationId))}f.is=w})(Re||(r.CreateFile=Re={}));var Ne;(function(f){function y(g,l,x,L){var ue={kind:"rename",oldUri:g,newUri:l};return x!==void 0&&(x.overwrite!==void 0||x.ignoreIfExists!==void 0)&&(ue.options=x),L!==void 0&&(ue.annotationId=L),ue}f.create=y;function w(g){var l=g;return l&&l.kind==="rename"&&C.string(l.oldUri)&&C.string(l.newUri)&&(l.options===void 0||(l.options.overwrite===void 0||C.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||C.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||Le.is(l.annotationId))}f.is=w})(Ne||(r.RenameFile=Ne={}));var Ze;(function(f){function y(g,l,x){var L={kind:"delete",uri:g};return l!==void 0&&(l.recursive!==void 0||l.ignoreIfNotExists!==void 0)&&(L.options=l),x!==void 0&&(L.annotationId=x),L}f.create=y;function w(g){var l=g;return l&&l.kind==="delete"&&C.string(l.uri)&&(l.options===void 0||(l.options.recursive===void 0||C.boolean(l.options.recursive))&&(l.options.ignoreIfNotExists===void 0||C.boolean(l.options.ignoreIfNotExists)))&&(l.annotationId===void 0||Le.is(l.annotationId))}f.is=w})(Ze||(r.DeleteFile=Ze={}));var yn;(function(f){function y(w){var g=w;return g&&(g.changes!==void 0||g.documentChanges!==void 0)&&(g.documentChanges===void 0||g.documentChanges.every(function(l){return C.string(l.kind)?Re.is(l)||Ne.is(l)||Ze.is(l):en.is(l)}))}f.is=y})(yn||(r.WorkspaceEdit=yn={}));var In=function(){function f(y,w){this.edits=y,this.changeAnnotations=w}return f.prototype.insert=function(y,w,g){var l,x;if(g===void 0?l=ee.insert(y,w):Le.is(g)?(x=g,l=ct.insert(y,w,g)):(this.assertChangeAnnotations(this.changeAnnotations),x=this.changeAnnotations.manage(g),l=ct.insert(y,w,x)),this.edits.push(l),x!==void 0)return x},f.prototype.replace=function(y,w,g){var l,x;if(g===void 0?l=ee.replace(y,w):Le.is(g)?(x=g,l=ct.replace(y,w,g)):(this.assertChangeAnnotations(this.changeAnnotations),x=this.changeAnnotations.manage(g),l=ct.replace(y,w,x)),this.edits.push(l),x!==void 0)return x},f.prototype.delete=function(y,w){var g,l;if(w===void 0?g=ee.del(y):Le.is(w)?(l=w,g=ct.del(y,w)):(this.assertChangeAnnotations(this.changeAnnotations),l=this.changeAnnotations.manage(w),g=ct.del(y,l)),this.edits.push(g),l!==void 0)return l},f.prototype.add=function(y){this.edits.push(y)},f.prototype.all=function(){return this.edits},f.prototype.clear=function(){this.edits.splice(0,this.edits.length)},f.prototype.assertChangeAnnotations=function(y){if(y===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},f}(),tn=function(){function f(y){this._annotations=y===void 0?Object.create(null):y,this._counter=0,this._size=0}return f.prototype.all=function(){return this._annotations},Object.defineProperty(f.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),f.prototype.manage=function(y,w){var g;if(Le.is(y)?g=y:(g=this.nextId(),w=y),this._annotations[g]!==void 0)throw new Error("Id ".concat(g," is already in use."));if(w===void 0)throw new Error("No annotation provided for id ".concat(g));return this._annotations[g]=w,this._size++,g},f.prototype.nextId=function(){return this._counter++,this._counter.toString()},f}(),nn=function(){function f(y){var w=this;this._textEditChanges=Object.create(null),y!==void 0?(this._workspaceEdit=y,y.documentChanges?(this._changeAnnotations=new tn(y.changeAnnotations),y.changeAnnotations=this._changeAnnotations.all(),y.documentChanges.forEach(function(g){if(en.is(g)){var l=new In(g.edits,w._changeAnnotations);w._textEditChanges[g.textDocument.uri]=l}})):y.changes&&Object.keys(y.changes).forEach(function(g){var l=new In(y.changes[g]);w._textEditChanges[g]=l})):this._workspaceEdit={}}return Object.defineProperty(f.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),f.prototype.getTextEditChange=function(y){if(dt.is(y)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var w={uri:y.uri,version:y.version},g=this._textEditChanges[w.uri];if(!g){var l=[],x={textDocument:w,edits:l};this._workspaceEdit.documentChanges.push(x),g=new In(l,this._changeAnnotations),this._textEditChanges[w.uri]=g}return g}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var g=this._textEditChanges[y];if(!g){var l=[];this._workspaceEdit.changes[y]=l,g=new In(l),this._textEditChanges[y]=g}return g}},f.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new tn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},f.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},f.prototype.createFile=function(y,w,g){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;we.is(w)||Le.is(w)?l=w:g=w;var x,L;if(l===void 0?x=Re.create(y,g):(L=Le.is(l)?l:this._changeAnnotations.manage(l),x=Re.create(y,g,L)),this._workspaceEdit.documentChanges.push(x),L!==void 0)return L},f.prototype.renameFile=function(y,w,g,l){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var x;we.is(g)||Le.is(g)?x=g:l=g;var L,ue;if(x===void 0?L=Ne.create(y,w,l):(ue=Le.is(x)?x:this._changeAnnotations.manage(x),L=Ne.create(y,w,l,ue)),this._workspaceEdit.documentChanges.push(L),ue!==void 0)return ue},f.prototype.deleteFile=function(y,w,g){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;we.is(w)||Le.is(w)?l=w:g=w;var x,L;if(l===void 0?x=Ze.create(y,g):(L=Le.is(l)?l:this._changeAnnotations.manage(l),x=Ze.create(y,g,L)),this._workspaceEdit.documentChanges.push(x),L!==void 0)return L},f}();r.WorkspaceChange=nn;var ai;(function(f){function y(g){return{uri:g}}f.create=y;function w(g){var l=g;return C.defined(l)&&C.string(l.uri)}f.is=w})(ai||(r.TextDocumentIdentifier=ai={}));var Mn;(function(f){function y(g,l){return{uri:g,version:l}}f.create=y;function w(g){var l=g;return C.defined(l)&&C.string(l.uri)&&C.integer(l.version)}f.is=w})(Mn||(r.VersionedTextDocumentIdentifier=Mn={}));var dt;(function(f){function y(g,l){return{uri:g,version:l}}f.create=y;function w(g){var l=g;return C.defined(l)&&C.string(l.uri)&&(l.version===null||C.integer(l.version))}f.is=w})(dt||(r.OptionalVersionedTextDocumentIdentifier=dt={}));var bn;(function(f){function y(g,l,x,L){return{uri:g,languageId:l,version:x,text:L}}f.create=y;function w(g){var l=g;return C.defined(l)&&C.string(l.uri)&&C.string(l.languageId)&&C.integer(l.version)&&C.string(l.text)}f.is=w})(bn||(r.TextDocumentItem=bn={}));var dr;(function(f){f.PlainText="plaintext",f.Markdown="markdown";function y(w){var g=w;return g===f.PlainText||g===f.Markdown}f.is=y})(dr||(r.MarkupKind=dr={}));var Gn;(function(f){function y(w){var g=w;return C.objectLiteral(w)&&dr.is(g.kind)&&C.string(g.value)}f.is=y})(Gn||(r.MarkupContent=Gn={}));var wn;(function(f){f.Text=1,f.Method=2,f.Function=3,f.Constructor=4,f.Field=5,f.Variable=6,f.Class=7,f.Interface=8,f.Module=9,f.Property=10,f.Unit=11,f.Value=12,f.Enum=13,f.Keyword=14,f.Snippet=15,f.Color=16,f.File=17,f.Reference=18,f.Folder=19,f.EnumMember=20,f.Constant=21,f.Struct=22,f.Event=23,f.Operator=24,f.TypeParameter=25})(wn||(r.CompletionItemKind=wn={}));var An;(function(f){f.PlainText=1,f.Snippet=2})(An||(r.InsertTextFormat=An={}));var Wr;(function(f){f.Deprecated=1})(Wr||(r.CompletionItemTag=Wr={}));var Ln;(function(f){function y(g,l,x){return{newText:g,insert:l,replace:x}}f.create=y;function w(g){var l=g;return l&&C.string(l.newText)&&k.is(l.insert)&&k.is(l.replace)}f.is=w})(Ln||(r.InsertReplaceEdit=Ln={}));var Fn;(function(f){f.asIs=1,f.adjustIndentation=2})(Fn||(r.InsertTextMode=Fn={}));var ui;(function(f){function y(w){var g=w;return g&&(C.string(g.detail)||g.detail===void 0)&&(C.string(g.description)||g.description===void 0)}f.is=y})(ui||(r.CompletionItemLabelDetails=ui={}));var Vn;(function(f){function y(w){return{label:w}}f.create=y})(Vn||(r.CompletionItem=Vn={}));var Jn;(function(f){function y(w,g){return{items:w||[],isIncomplete:!!g}}f.create=y})(Jn||(r.CompletionList=Jn={}));var Kn;(function(f){function y(g){return g.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}f.fromPlainText=y;function w(g){var l=g;return C.string(l)||C.objectLiteral(l)&&C.string(l.language)&&C.string(l.value)}f.is=w})(Kn||(r.MarkedString=Kn={}));var Ke;(function(f){function y(w){var g=w;return!!g&&C.objectLiteral(g)&&(Gn.is(g.contents)||Kn.is(g.contents)||C.typedArray(g.contents,Kn.is))&&(w.range===void 0||k.is(w.range))}f.is=y})(Ke||(r.Hover=Ke={}));var Nn;(function(f){function y(w,g){return g?{label:w,documentation:g}:{label:w}}f.create=y})(Nn||(r.ParameterInformation=Nn={}));var ci;(function(f){function y(w,g){for(var l=[],x=2;x<arguments.length;x++)l[x-2]=arguments[x];var L={label:w};return C.defined(g)&&(L.documentation=g),C.defined(l)?L.parameters=l:L.parameters=[],L}f.create=y})(ci||(r.SignatureInformation=ci={}));var mt;(function(f){f.Text=1,f.Read=2,f.Write=3})(mt||(r.DocumentHighlightKind=mt={}));var Ur;(function(f){function y(w,g){var l={range:w};return C.number(g)&&(l.kind=g),l}f.create=y})(Ur||(r.DocumentHighlight=Ur={}));var hr;(function(f){f.File=1,f.Module=2,f.Namespace=3,f.Package=4,f.Class=5,f.Method=6,f.Property=7,f.Field=8,f.Constructor=9,f.Enum=10,f.Interface=11,f.Function=12,f.Variable=13,f.Constant=14,f.String=15,f.Number=16,f.Boolean=17,f.Array=18,f.Object=19,f.Key=20,f.Null=21,f.EnumMember=22,f.Struct=23,f.Event=24,f.Operator=25,f.TypeParameter=26})(hr||(r.SymbolKind=hr={}));var Wn;(function(f){f.Deprecated=1})(Wn||(r.SymbolTag=Wn={}));var nt;(function(f){function y(w,g,l,x,L){var ue={name:w,kind:g,location:{uri:x,range:l}};return L&&(ue.containerName=L),ue}f.create=y})(nt||(r.SymbolInformation=nt={}));var qt;(function(f){function y(w,g,l,x){return x!==void 0?{name:w,kind:g,location:{uri:l,range:x}}:{name:w,kind:g,location:{uri:l}}}f.create=y})(qt||(r.WorkspaceSymbol=qt={}));var Xn;(function(f){function y(g,l,x,L,ue,Ge){var Fe={name:g,detail:l,kind:x,range:L,selectionRange:ue};return Ge!==void 0&&(Fe.children=Ge),Fe}f.create=y;function w(g){var l=g;return l&&C.string(l.name)&&C.number(l.kind)&&k.is(l.range)&&k.is(l.selectionRange)&&(l.detail===void 0||C.string(l.detail))&&(l.deprecated===void 0||C.boolean(l.deprecated))&&(l.children===void 0||Array.isArray(l.children))&&(l.tags===void 0||Array.isArray(l.tags))}f.is=w})(Xn||(r.DocumentSymbol=Xn={}));var li;(function(f){f.Empty="",f.QuickFix="quickfix",f.Refactor="refactor",f.RefactorExtract="refactor.extract",f.RefactorInline="refactor.inline",f.RefactorRewrite="refactor.rewrite",f.Source="source",f.SourceOrganizeImports="source.organizeImports",f.SourceFixAll="source.fixAll"})(li||(r.CodeActionKind=li={}));var bt;(function(f){f.Invoked=1,f.Automatic=2})(bt||(r.CodeActionTriggerKind=bt={}));var jr;(function(f){function y(g,l,x){var L={diagnostics:g};return l!=null&&(L.only=l),x!=null&&(L.triggerKind=x),L}f.create=y;function w(g){var l=g;return C.defined(l)&&C.typedArray(l.diagnostics,D.is)&&(l.only===void 0||C.typedArray(l.only,C.string))&&(l.triggerKind===void 0||l.triggerKind===bt.Invoked||l.triggerKind===bt.Automatic)}f.is=w})(jr||(r.CodeActionContext=jr={}));var Rn;(function(f){function y(g,l,x){var L={title:g},ue=!0;return typeof l=="string"?(ue=!1,L.kind=l):I.is(l)?L.command=l:L.edit=l,ue&&x!==void 0&&(L.kind=x),L}f.create=y;function w(g){var l=g;return l&&C.string(l.title)&&(l.diagnostics===void 0||C.typedArray(l.diagnostics,D.is))&&(l.kind===void 0||C.string(l.kind))&&(l.edit!==void 0||l.command!==void 0)&&(l.command===void 0||I.is(l.command))&&(l.isPreferred===void 0||C.boolean(l.isPreferred))&&(l.edit===void 0||yn.is(l.edit))}f.is=w})(Rn||(r.CodeAction=Rn={}));var Ht;(function(f){function y(g,l){var x={range:g};return C.defined(l)&&(x.data=l),x}f.create=y;function w(g){var l=g;return C.defined(l)&&k.is(l.range)&&(C.undefined(l.command)||I.is(l.command))}f.is=w})(Ht||(r.CodeLens=Ht={}));var Yn;(function(f){function y(g,l){return{tabSize:g,insertSpaces:l}}f.create=y;function w(g){var l=g;return C.defined(l)&&C.uinteger(l.tabSize)&&C.boolean(l.insertSpaces)}f.is=w})(Yn||(r.FormattingOptions=Yn={}));var Bt;(function(f){function y(g,l,x){return{range:g,target:l,data:x}}f.create=y;function w(g){var l=g;return C.defined(l)&&k.is(l.range)&&(C.undefined(l.target)||C.string(l.target))}f.is=w})(Bt||(r.DocumentLink=Bt={}));var v;(function(f){function y(g,l){return{range:g,parent:l}}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&k.is(l.range)&&(l.parent===void 0||f.is(l.parent))}f.is=w})(v||(r.SelectionRange=v={}));var M;(function(f){f.namespace="namespace",f.type="type",f.class="class",f.enum="enum",f.interface="interface",f.struct="struct",f.typeParameter="typeParameter",f.parameter="parameter",f.variable="variable",f.property="property",f.enumMember="enumMember",f.event="event",f.function="function",f.method="method",f.macro="macro",f.keyword="keyword",f.modifier="modifier",f.comment="comment",f.string="string",f.number="number",f.regexp="regexp",f.operator="operator",f.decorator="decorator"})(M||(r.SemanticTokenTypes=M={}));var H;(function(f){f.declaration="declaration",f.definition="definition",f.readonly="readonly",f.static="static",f.deprecated="deprecated",f.abstract="abstract",f.async="async",f.modification="modification",f.documentation="documentation",f.defaultLibrary="defaultLibrary"})(H||(r.SemanticTokenModifiers=H={}));var X;(function(f){function y(w){var g=w;return C.objectLiteral(g)&&(g.resultId===void 0||typeof g.resultId=="string")&&Array.isArray(g.data)&&(g.data.length===0||typeof g.data[0]=="number")}f.is=y})(X||(r.SemanticTokens=X={}));var xe;(function(f){function y(g,l){return{range:g,text:l}}f.create=y;function w(g){var l=g;return l!=null&&k.is(l.range)&&C.string(l.text)}f.is=w})(xe||(r.InlineValueText=xe={}));var Ce;(function(f){function y(g,l,x){return{range:g,variableName:l,caseSensitiveLookup:x}}f.create=y;function w(g){var l=g;return l!=null&&k.is(l.range)&&C.boolean(l.caseSensitiveLookup)&&(C.string(l.variableName)||l.variableName===void 0)}f.is=w})(Ce||(r.InlineValueVariableLookup=Ce={}));var Ie;(function(f){function y(g,l){return{range:g,expression:l}}f.create=y;function w(g){var l=g;return l!=null&&k.is(l.range)&&(C.string(l.expression)||l.expression===void 0)}f.is=w})(Ie||(r.InlineValueEvaluatableExpression=Ie={}));var Ue;(function(f){function y(g,l){return{frameId:g,stoppedLocation:l}}f.create=y;function w(g){var l=g;return C.defined(l)&&k.is(g.stoppedLocation)}f.is=w})(Ue||(r.InlineValueContext=Ue={}));var pe;(function(f){f.Type=1,f.Parameter=2;function y(w){return w===1||w===2}f.is=y})(pe||(r.InlayHintKind=pe={}));var Me;(function(f){function y(g){return{value:g}}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&(l.tooltip===void 0||C.string(l.tooltip)||Gn.is(l.tooltip))&&(l.location===void 0||j.is(l.location))&&(l.command===void 0||I.is(l.command))}f.is=w})(Me||(r.InlayHintLabelPart=Me={}));var Se;(function(f){function y(g,l,x){var L={position:g,label:l};return x!==void 0&&(L.kind=x),L}f.create=y;function w(g){var l=g;return C.objectLiteral(l)&&R.is(l.position)&&(C.string(l.label)||C.typedArray(l.label,Me.is))&&(l.kind===void 0||pe.is(l.kind))&&l.textEdits===void 0||C.typedArray(l.textEdits,ee.is)&&(l.tooltip===void 0||C.string(l.tooltip)||Gn.is(l.tooltip))&&(l.paddingLeft===void 0||C.boolean(l.paddingLeft))&&(l.paddingRight===void 0||C.boolean(l.paddingRight))}f.is=w})(Se||(r.InlayHint=Se={}));var Be;(function(f){function y(w){return{kind:"snippet",value:w}}f.createSnippet=y})(Be||(r.StringValue=Be={}));var st;(function(f){function y(w,g,l,x){return{insertText:w,filterText:g,range:l,command:x}}f.create=y})(st||(r.InlineCompletionItem=st={}));var xt;(function(f){function y(w){return{items:w}}f.create=y})(xt||(r.InlineCompletionList=xt={}));var fi;(function(f){f.Invoked=0,f.Automatic=1})(fi||(r.InlineCompletionTriggerKind=fi={}));var Mo;(function(f){function y(w,g){return{range:w,text:g}}f.create=y})(Mo||(r.SelectedCompletionInfo=Mo={}));var Xi;(function(f){function y(w,g){return{triggerKind:w,selectedCompletionInfo:g}}f.create=y})(Xi||(r.InlineCompletionContext=Xi={}));var Ao;(function(f){function y(w){var g=w;return C.objectLiteral(g)&&s.is(g.uri)&&C.string(g.name)}f.is=y})(Ao||(r.WorkspaceFolder=Ao={})),r.EOL=[`
`,`\r
`,"\r"];var Lo;(function(f){function y(x,L,ue,Ge){return new fu(x,L,ue,Ge)}f.create=y;function w(x){var L=x;return!!(C.defined(L)&&C.string(L.uri)&&(C.undefined(L.languageId)||C.string(L.languageId))&&C.uinteger(L.lineCount)&&C.func(L.getText)&&C.func(L.positionAt)&&C.func(L.offsetAt))}f.is=w;function g(x,L){for(var ue=x.getText(),Ge=l(L,function(gr,di){var Fo=gr.range.start.line-di.range.start.line;return Fo===0?gr.range.start.character-di.range.start.character:Fo}),Fe=ue.length,Ot=Ge.length-1;Ot>=0;Ot--){var $t=Ge[Ot],Sn=x.offsetAt($t.range.start),_e=x.offsetAt($t.range.end);if(_e<=Fe)ue=ue.substring(0,Sn)+$t.newText+ue.substring(_e,ue.length);else throw new Error("Overlapping edit");Fe=Sn}return ue}f.applyEdits=g;function l(x,L){if(x.length<=1)return x;var ue=x.length/2|0,Ge=x.slice(0,ue),Fe=x.slice(ue);l(Ge,L),l(Fe,L);for(var Ot=0,$t=0,Sn=0;Ot<Ge.length&&$t<Fe.length;){var _e=L(Ge[Ot],Fe[$t]);_e<=0?x[Sn++]=Ge[Ot++]:x[Sn++]=Fe[$t++]}for(;Ot<Ge.length;)x[Sn++]=Ge[Ot++];for(;$t<Fe.length;)x[Sn++]=Fe[$t++];return x}})(Lo||(r.TextDocument=Lo={}));var fu=function(){function f(y,w,g,l){this._uri=y,this._languageId=w,this._version=g,this._content=l,this._lineOffsets=void 0}return Object.defineProperty(f.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),f.prototype.getText=function(y){if(y){var w=this.offsetAt(y.start),g=this.offsetAt(y.end);return this._content.substring(w,g)}return this._content},f.prototype.update=function(y,w){this._content=y.text,this._version=w,this._lineOffsets=void 0},f.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var y=[],w=this._content,g=!0,l=0;l<w.length;l++){g&&(y.push(l),g=!1);var x=w.charAt(l);g=x==="\r"||x===`
`,x==="\r"&&l+1<w.length&&w.charAt(l+1)===`
`&&l++}g&&w.length>0&&y.push(w.length),this._lineOffsets=y}return this._lineOffsets},f.prototype.positionAt=function(y){y=Math.max(Math.min(y,this._content.length),0);var w=this.getLineOffsets(),g=0,l=w.length;if(l===0)return R.create(0,y);for(;g<l;){var x=Math.floor((g+l)/2);w[x]>y?l=x:g=x+1}var L=g-1;return R.create(L,y-w[L])},f.prototype.offsetAt=function(y){var w=this.getLineOffsets();if(y.line>=w.length)return this._content.length;if(y.line<0)return 0;var g=w[y.line],l=y.line+1<w.length?w[y.line+1]:this._content.length;return Math.max(Math.min(g+y.character,l),g)},Object.defineProperty(f.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),f}(),C;(function(f){var y=Object.prototype.toString;function w(_e){return typeof _e<"u"}f.defined=w;function g(_e){return typeof _e>"u"}f.undefined=g;function l(_e){return _e===!0||_e===!1}f.boolean=l;function x(_e){return y.call(_e)==="[object String]"}f.string=x;function L(_e){return y.call(_e)==="[object Number]"}f.number=L;function ue(_e,gr,di){return y.call(_e)==="[object Number]"&&gr<=_e&&_e<=di}f.numberRange=ue;function Ge(_e){return y.call(_e)==="[object Number]"&&-2147483648<=_e&&_e<=2147483647}f.integer=Ge;function Fe(_e){return y.call(_e)==="[object Number]"&&0<=_e&&_e<=2147483647}f.uinteger=Fe;function Ot(_e){return y.call(_e)==="[object Function]"}f.func=Ot;function $t(_e){return _e!==null&&typeof _e=="object"}f.objectLiteral=$t;function Sn(_e,gr){return Array.isArray(_e)&&_e.every(gr)}f.typedArray=Sn})(C||(C={}))})});var Je=V(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.ProtocolNotificationType=Nt.ProtocolNotificationType0=Nt.ProtocolRequestType=Nt.ProtocolRequestType0=Nt.RegistrationType=Nt.MessageDirection=void 0;var Mi=ei(),$g;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})($g||(Nt.MessageDirection=$g={}));var Ml=class{constructor(r){this.method=r}};Nt.RegistrationType=Ml;var Al=class extends Mi.RequestType0{constructor(r){super(r)}};Nt.ProtocolRequestType0=Al;var Ll=class extends Mi.RequestType{constructor(r){super(r,Mi.ParameterStructures.byName)}};Nt.ProtocolRequestType=Ll;var Fl=class extends Mi.NotificationType0{constructor(r){super(r)}};Nt.ProtocolNotificationType0=Fl;var Nl=class extends Mi.NotificationType{constructor(r){super(r,Mi.ParameterStructures.byName)}};Nt.ProtocolNotificationType=Nl});var ea=V(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.objectLiteral=ut.typedArray=ut.stringArray=ut.array=ut.func=ut.error=ut.number=ut.string=ut.boolean=void 0;function iC(t){return t===!0||t===!1}ut.boolean=iC;function zg(t){return typeof t=="string"||t instanceof String}ut.string=zg;function oC(t){return typeof t=="number"||t instanceof Number}ut.number=oC;function sC(t){return t instanceof Error}ut.error=sC;function aC(t){return typeof t=="function"}ut.func=aC;function Gg(t){return Array.isArray(t)}ut.array=Gg;function uC(t){return Gg(t)&&t.every(r=>zg(r))}ut.stringArray=uC;function cC(t,r){return Array.isArray(t)&&t.every(r)}ut.typedArray=cC;function lC(t){return t!==null&&typeof t=="object"}ut.objectLiteral=lC});var Kg=V(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.ImplementationRequest=void 0;var Vg=Je(),Jg;(function(t){t.method="textDocument/implementation",t.messageDirection=Vg.MessageDirection.clientToServer,t.type=new Vg.ProtocolRequestType(t.method)})(Jg||(ta.ImplementationRequest=Jg={}))});var Zg=V(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.TypeDefinitionRequest=void 0;var Xg=Je(),Yg;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Xg.MessageDirection.clientToServer,t.type=new Xg.ProtocolRequestType(t.method)})(Yg||(na.TypeDefinitionRequest=Yg={}))});var tp=V(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.DidChangeWorkspaceFoldersNotification=Ai.WorkspaceFoldersRequest=void 0;var ra=Je(),Qg;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=ra.MessageDirection.serverToClient,t.type=new ra.ProtocolRequestType0(t.method)})(Qg||(Ai.WorkspaceFoldersRequest=Qg={}));var ep;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=ra.MessageDirection.clientToServer,t.type=new ra.ProtocolNotificationType(t.method)})(ep||(Ai.DidChangeWorkspaceFoldersNotification=ep={}))});var ip=V(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.ConfigurationRequest=void 0;var np=Je(),rp;(function(t){t.method="workspace/configuration",t.messageDirection=np.MessageDirection.serverToClient,t.type=new np.ProtocolRequestType(t.method)})(rp||(ia.ConfigurationRequest=rp={}))});var ap=V(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.ColorPresentationRequest=Li.DocumentColorRequest=void 0;var oa=Je(),op;(function(t){t.method="textDocument/documentColor",t.messageDirection=oa.MessageDirection.clientToServer,t.type=new oa.ProtocolRequestType(t.method)})(op||(Li.DocumentColorRequest=op={}));var sp;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=oa.MessageDirection.clientToServer,t.type=new oa.ProtocolRequestType(t.method)})(sp||(Li.ColorPresentationRequest=sp={}))});var lp=V(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.FoldingRangeRefreshRequest=Fi.FoldingRangeRequest=void 0;var sa=Je(),up;(function(t){t.method="textDocument/foldingRange",t.messageDirection=sa.MessageDirection.clientToServer,t.type=new sa.ProtocolRequestType(t.method)})(up||(Fi.FoldingRangeRequest=up={}));var cp;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=sa.MessageDirection.serverToClient,t.type=new sa.ProtocolRequestType0(t.method)})(cp||(Fi.FoldingRangeRefreshRequest=cp={}))});var hp=V(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.DeclarationRequest=void 0;var fp=Je(),dp;(function(t){t.method="textDocument/declaration",t.messageDirection=fp.MessageDirection.clientToServer,t.type=new fp.ProtocolRequestType(t.method)})(dp||(aa.DeclarationRequest=dp={}))});var mp=V(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.SelectionRangeRequest=void 0;var gp=Je(),pp;(function(t){t.method="textDocument/selectionRange",t.messageDirection=gp.MessageDirection.clientToServer,t.type=new gp.ProtocolRequestType(t.method)})(pp||(ua.SelectionRangeRequest=pp={}))});var bp=V(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.WorkDoneProgressCancelNotification=Er.WorkDoneProgressCreateRequest=Er.WorkDoneProgress=void 0;var fC=ei(),ca=Je(),_p;(function(t){t.type=new fC.ProgressType;function r(o){return o===t.type}t.is=r})(_p||(Er.WorkDoneProgress=_p={}));var vp;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=ca.MessageDirection.serverToClient,t.type=new ca.ProtocolRequestType(t.method)})(vp||(Er.WorkDoneProgressCreateRequest=vp={}));var yp;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=ca.MessageDirection.clientToServer,t.type=new ca.ProtocolNotificationType(t.method)})(yp||(Er.WorkDoneProgressCancelNotification=yp={}))});var Dp=V(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.CallHierarchyOutgoingCallsRequest=kr.CallHierarchyIncomingCallsRequest=kr.CallHierarchyPrepareRequest=void 0;var Ni=Je(),wp;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Ni.MessageDirection.clientToServer,t.type=new Ni.ProtocolRequestType(t.method)})(wp||(kr.CallHierarchyPrepareRequest=wp={}));var Rp;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Ni.MessageDirection.clientToServer,t.type=new Ni.ProtocolRequestType(t.method)})(Rp||(kr.CallHierarchyIncomingCallsRequest=Rp={}));var Sp;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Ni.MessageDirection.clientToServer,t.type=new Ni.ProtocolRequestType(t.method)})(Sp||(kr.CallHierarchyOutgoingCallsRequest=Sp={}))});var kp=V(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.SemanticTokensRefreshRequest=Wt.SemanticTokensRangeRequest=Wt.SemanticTokensDeltaRequest=Wt.SemanticTokensRequest=Wt.SemanticTokensRegistrationType=Wt.TokenFormat=void 0;var ur=Je(),Tp;(function(t){t.Relative="relative"})(Tp||(Wt.TokenFormat=Tp={}));var yo;(function(t){t.method="textDocument/semanticTokens",t.type=new ur.RegistrationType(t.method)})(yo||(Wt.SemanticTokensRegistrationType=yo={}));var Cp;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=ur.MessageDirection.clientToServer,t.type=new ur.ProtocolRequestType(t.method),t.registrationMethod=yo.method})(Cp||(Wt.SemanticTokensRequest=Cp={}));var xp;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=ur.MessageDirection.clientToServer,t.type=new ur.ProtocolRequestType(t.method),t.registrationMethod=yo.method})(xp||(Wt.SemanticTokensDeltaRequest=xp={}));var Pp;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=ur.MessageDirection.clientToServer,t.type=new ur.ProtocolRequestType(t.method),t.registrationMethod=yo.method})(Pp||(Wt.SemanticTokensRangeRequest=Pp={}));var Ep;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=ur.MessageDirection.serverToClient,t.type=new ur.ProtocolRequestType0(t.method)})(Ep||(Wt.SemanticTokensRefreshRequest=Ep={}))});var Ip=V(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.ShowDocumentRequest=void 0;var qp=Je(),Op;(function(t){t.method="window/showDocument",t.messageDirection=qp.MessageDirection.serverToClient,t.type=new qp.ProtocolRequestType(t.method)})(Op||(la.ShowDocumentRequest=Op={}))});var Lp=V(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.LinkedEditingRangeRequest=void 0;var Mp=Je(),Ap;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Mp.MessageDirection.clientToServer,t.type=new Mp.ProtocolRequestType(t.method)})(Ap||(fa.LinkedEditingRangeRequest=Ap={}))});var $p=V(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.WillDeleteFilesRequest=Tt.DidDeleteFilesNotification=Tt.DidRenameFilesNotification=Tt.WillRenameFilesRequest=Tt.DidCreateFilesNotification=Tt.WillCreateFilesRequest=Tt.FileOperationPatternKind=void 0;var dn=Je(),Fp;(function(t){t.file="file",t.folder="folder"})(Fp||(Tt.FileOperationPatternKind=Fp={}));var Np;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolRequestType(t.method)})(Np||(Tt.WillCreateFilesRequest=Np={}));var Wp;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolNotificationType(t.method)})(Wp||(Tt.DidCreateFilesNotification=Wp={}));var Up;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolRequestType(t.method)})(Up||(Tt.WillRenameFilesRequest=Up={}));var jp;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolNotificationType(t.method)})(jp||(Tt.DidRenameFilesNotification=jp={}));var Hp;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolNotificationType(t.method)})(Hp||(Tt.DidDeleteFilesNotification=Hp={}));var Bp;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolRequestType(t.method)})(Bp||(Tt.WillDeleteFilesRequest=Bp={}))});var Kp=V(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.MonikerRequest=qr.MonikerKind=qr.UniquenessLevel=void 0;var zp=Je(),Gp;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Gp||(qr.UniquenessLevel=Gp={}));var Vp;(function(t){t.$import="import",t.$export="export",t.local="local"})(Vp||(qr.MonikerKind=Vp={}));var Jp;(function(t){t.method="textDocument/moniker",t.messageDirection=zp.MessageDirection.clientToServer,t.type=new zp.ProtocolRequestType(t.method)})(Jp||(qr.MonikerRequest=Jp={}))});var Qp=V(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.TypeHierarchySubtypesRequest=Or.TypeHierarchySupertypesRequest=Or.TypeHierarchyPrepareRequest=void 0;var Wi=Je(),Xp;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Wi.MessageDirection.clientToServer,t.type=new Wi.ProtocolRequestType(t.method)})(Xp||(Or.TypeHierarchyPrepareRequest=Xp={}));var Yp;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Wi.MessageDirection.clientToServer,t.type=new Wi.ProtocolRequestType(t.method)})(Yp||(Or.TypeHierarchySupertypesRequest=Yp={}));var Zp;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Wi.MessageDirection.clientToServer,t.type=new Wi.ProtocolRequestType(t.method)})(Zp||(Or.TypeHierarchySubtypesRequest=Zp={}))});var nm=V(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.InlineValueRefreshRequest=Ui.InlineValueRequest=void 0;var da=Je(),em;(function(t){t.method="textDocument/inlineValue",t.messageDirection=da.MessageDirection.clientToServer,t.type=new da.ProtocolRequestType(t.method)})(em||(Ui.InlineValueRequest=em={}));var tm;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=da.MessageDirection.serverToClient,t.type=new da.ProtocolRequestType0(t.method)})(tm||(Ui.InlineValueRefreshRequest=tm={}))});var sm=V(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.InlayHintRefreshRequest=Ir.InlayHintResolveRequest=Ir.InlayHintRequest=void 0;var ji=Je(),rm;(function(t){t.method="textDocument/inlayHint",t.messageDirection=ji.MessageDirection.clientToServer,t.type=new ji.ProtocolRequestType(t.method)})(rm||(Ir.InlayHintRequest=rm={}));var im;(function(t){t.method="inlayHint/resolve",t.messageDirection=ji.MessageDirection.clientToServer,t.type=new ji.ProtocolRequestType(t.method)})(im||(Ir.InlayHintResolveRequest=im={}));var om;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=ji.MessageDirection.serverToClient,t.type=new ji.ProtocolRequestType0(t.method)})(om||(Ir.InlayHintRefreshRequest=om={}))});var hm=V(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.DiagnosticRefreshRequest=hn.WorkspaceDiagnosticRequest=hn.DocumentDiagnosticRequest=hn.DocumentDiagnosticReportKind=hn.DiagnosticServerCancellationData=void 0;var dm=ei(),dC=ea(),Hi=Je(),am;(function(t){function r(o){let s=o;return s&&dC.boolean(s.retriggerRequest)}t.is=r})(am||(hn.DiagnosticServerCancellationData=am={}));var um;(function(t){t.Full="full",t.Unchanged="unchanged"})(um||(hn.DocumentDiagnosticReportKind=um={}));var cm;(function(t){t.method="textDocument/diagnostic",t.messageDirection=Hi.MessageDirection.clientToServer,t.type=new Hi.ProtocolRequestType(t.method),t.partialResult=new dm.ProgressType})(cm||(hn.DocumentDiagnosticRequest=cm={}));var lm;(function(t){t.method="workspace/diagnostic",t.messageDirection=Hi.MessageDirection.clientToServer,t.type=new Hi.ProtocolRequestType(t.method),t.partialResult=new dm.ProgressType})(lm||(hn.WorkspaceDiagnosticRequest=lm={}));var fm;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=Hi.MessageDirection.serverToClient,t.type=new Hi.ProtocolRequestType0(t.method)})(fm||(hn.DiagnosticRefreshRequest=fm={}))});var bm=V(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.DidCloseNotebookDocumentNotification=et.DidSaveNotebookDocumentNotification=et.DidChangeNotebookDocumentNotification=et.NotebookCellArrayChange=et.DidOpenNotebookDocumentNotification=et.NotebookDocumentSyncRegistrationType=et.NotebookDocument=et.NotebookCell=et.ExecutionSummary=et.NotebookCellKind=void 0;var bo=Qs(),kn=ea(),Bn=Je(),Wl;(function(t){t.Markup=1,t.Code=2;function r(o){return o===1||o===2}t.is=r})(Wl||(et.NotebookCellKind=Wl={}));var Ul;(function(t){function r(u,p){let R={executionOrder:u};return(p===!0||p===!1)&&(R.success=p),R}t.create=r;function o(u){let p=u;return kn.objectLiteral(p)&&bo.uinteger.is(p.executionOrder)&&(p.success===void 0||kn.boolean(p.success))}t.is=o;function s(u,p){return u===p?!0:u==null||p===null||p===void 0?!1:u.executionOrder===p.executionOrder&&u.success===p.success}t.equals=s})(Ul||(et.ExecutionSummary=Ul={}));var ha;(function(t){function r(p,R){return{kind:p,document:R}}t.create=r;function o(p){let R=p;return kn.objectLiteral(R)&&Wl.is(R.kind)&&bo.DocumentUri.is(R.document)&&(R.metadata===void 0||kn.objectLiteral(R.metadata))}t.is=o;function s(p,R){let k=new Set;return p.document!==R.document&&k.add("document"),p.kind!==R.kind&&k.add("kind"),p.executionSummary!==R.executionSummary&&k.add("executionSummary"),(p.metadata!==void 0||R.metadata!==void 0)&&!u(p.metadata,R.metadata)&&k.add("metadata"),(p.executionSummary!==void 0||R.executionSummary!==void 0)&&!Ul.equals(p.executionSummary,R.executionSummary)&&k.add("executionSummary"),k}t.diff=s;function u(p,R){if(p===R)return!0;if(p==null||R===null||R===void 0||typeof p!=typeof R||typeof p!="object")return!1;let k=Array.isArray(p),j=Array.isArray(R);if(k!==j)return!1;if(k&&j){if(p.length!==R.length)return!1;for(let N=0;N<p.length;N++)if(!u(p[N],R[N]))return!1}if(kn.objectLiteral(p)&&kn.objectLiteral(R)){let N=Object.keys(p),G=Object.keys(R);if(N.length!==G.length||(N.sort(),G.sort(),!u(N,G)))return!1;for(let J=0;J<N.length;J++){let Z=N[J];if(!u(p[Z],R[Z]))return!1}}return!0}})(ha||(et.NotebookCell=ha={}));var gm;(function(t){function r(s,u,p,R){return{uri:s,notebookType:u,version:p,cells:R}}t.create=r;function o(s){let u=s;return kn.objectLiteral(u)&&kn.string(u.uri)&&bo.integer.is(u.version)&&kn.typedArray(u.cells,ha.is)}t.is=o})(gm||(et.NotebookDocument=gm={}));var Bi;(function(t){t.method="notebookDocument/sync",t.messageDirection=Bn.MessageDirection.clientToServer,t.type=new Bn.RegistrationType(t.method)})(Bi||(et.NotebookDocumentSyncRegistrationType=Bi={}));var pm;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Bn.MessageDirection.clientToServer,t.type=new Bn.ProtocolNotificationType(t.method),t.registrationMethod=Bi.method})(pm||(et.DidOpenNotebookDocumentNotification=pm={}));var mm;(function(t){function r(s){let u=s;return kn.objectLiteral(u)&&bo.uinteger.is(u.start)&&bo.uinteger.is(u.deleteCount)&&(u.cells===void 0||kn.typedArray(u.cells,ha.is))}t.is=r;function o(s,u,p){let R={start:s,deleteCount:u};return p!==void 0&&(R.cells=p),R}t.create=o})(mm||(et.NotebookCellArrayChange=mm={}));var _m;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Bn.MessageDirection.clientToServer,t.type=new Bn.ProtocolNotificationType(t.method),t.registrationMethod=Bi.method})(_m||(et.DidChangeNotebookDocumentNotification=_m={}));var vm;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Bn.MessageDirection.clientToServer,t.type=new Bn.ProtocolNotificationType(t.method),t.registrationMethod=Bi.method})(vm||(et.DidSaveNotebookDocumentNotification=vm={}));var ym;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Bn.MessageDirection.clientToServer,t.type=new Bn.ProtocolNotificationType(t.method),t.registrationMethod=Bi.method})(ym||(et.DidCloseNotebookDocumentNotification=ym={}))});var Sm=V(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.InlineCompletionRequest=void 0;var wm=Je(),Rm;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=wm.MessageDirection.clientToServer,t.type=new wm.ProtocolRequestType(t.method)})(Rm||(ga.InlineCompletionRequest=Rm={}))});var L_=V(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.WorkspaceSymbolRequest=m.CodeActionResolveRequest=m.CodeActionRequest=m.DocumentSymbolRequest=m.DocumentHighlightRequest=m.ReferencesRequest=m.DefinitionRequest=m.SignatureHelpRequest=m.SignatureHelpTriggerKind=m.HoverRequest=m.CompletionResolveRequest=m.CompletionRequest=m.CompletionTriggerKind=m.PublishDiagnosticsNotification=m.WatchKind=m.RelativePattern=m.FileChangeType=m.DidChangeWatchedFilesNotification=m.WillSaveTextDocumentWaitUntilRequest=m.WillSaveTextDocumentNotification=m.TextDocumentSaveReason=m.DidSaveTextDocumentNotification=m.DidCloseTextDocumentNotification=m.DidChangeTextDocumentNotification=m.TextDocumentContentChangeEvent=m.DidOpenTextDocumentNotification=m.TextDocumentSyncKind=m.TelemetryEventNotification=m.LogMessageNotification=m.ShowMessageRequest=m.ShowMessageNotification=m.MessageType=m.DidChangeConfigurationNotification=m.ExitNotification=m.ShutdownRequest=m.InitializedNotification=m.InitializeErrorCodes=m.InitializeRequest=m.WorkDoneProgressOptions=m.TextDocumentRegistrationOptions=m.StaticRegistrationOptions=m.PositionEncodingKind=m.FailureHandlingKind=m.ResourceOperationKind=m.UnregistrationRequest=m.RegistrationRequest=m.DocumentSelector=m.NotebookCellTextDocumentFilter=m.NotebookDocumentFilter=m.TextDocumentFilter=void 0;m.MonikerRequest=m.MonikerKind=m.UniquenessLevel=m.WillDeleteFilesRequest=m.DidDeleteFilesNotification=m.WillRenameFilesRequest=m.DidRenameFilesNotification=m.WillCreateFilesRequest=m.DidCreateFilesNotification=m.FileOperationPatternKind=m.LinkedEditingRangeRequest=m.ShowDocumentRequest=m.SemanticTokensRegistrationType=m.SemanticTokensRefreshRequest=m.SemanticTokensRangeRequest=m.SemanticTokensDeltaRequest=m.SemanticTokensRequest=m.TokenFormat=m.CallHierarchyPrepareRequest=m.CallHierarchyOutgoingCallsRequest=m.CallHierarchyIncomingCallsRequest=m.WorkDoneProgressCancelNotification=m.WorkDoneProgressCreateRequest=m.WorkDoneProgress=m.SelectionRangeRequest=m.DeclarationRequest=m.FoldingRangeRefreshRequest=m.FoldingRangeRequest=m.ColorPresentationRequest=m.DocumentColorRequest=m.ConfigurationRequest=m.DidChangeWorkspaceFoldersNotification=m.WorkspaceFoldersRequest=m.TypeDefinitionRequest=m.ImplementationRequest=m.ApplyWorkspaceEditRequest=m.ExecuteCommandRequest=m.PrepareRenameRequest=m.RenameRequest=m.PrepareSupportDefaultBehavior=m.DocumentOnTypeFormattingRequest=m.DocumentRangesFormattingRequest=m.DocumentRangeFormattingRequest=m.DocumentFormattingRequest=m.DocumentLinkResolveRequest=m.DocumentLinkRequest=m.CodeLensRefreshRequest=m.CodeLensResolveRequest=m.CodeLensRequest=m.WorkspaceSymbolResolveRequest=void 0;m.InlineCompletionRequest=m.DidCloseNotebookDocumentNotification=m.DidSaveNotebookDocumentNotification=m.DidChangeNotebookDocumentNotification=m.NotebookCellArrayChange=m.DidOpenNotebookDocumentNotification=m.NotebookDocumentSyncRegistrationType=m.NotebookDocument=m.NotebookCell=m.ExecutionSummary=m.NotebookCellKind=m.DiagnosticRefreshRequest=m.WorkspaceDiagnosticRequest=m.DocumentDiagnosticRequest=m.DocumentDiagnosticReportKind=m.DiagnosticServerCancellationData=m.InlayHintRefreshRequest=m.InlayHintResolveRequest=m.InlayHintRequest=m.InlineValueRefreshRequest=m.InlineValueRequest=m.TypeHierarchySupertypesRequest=m.TypeHierarchySubtypesRequest=m.TypeHierarchyPrepareRequest=void 0;var U=Je(),Dm=Qs(),pt=ea(),hC=Kg();Object.defineProperty(m,"ImplementationRequest",{enumerable:!0,get:function(){return hC.ImplementationRequest}});var gC=Zg();Object.defineProperty(m,"TypeDefinitionRequest",{enumerable:!0,get:function(){return gC.TypeDefinitionRequest}});var O_=tp();Object.defineProperty(m,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return O_.WorkspaceFoldersRequest}});Object.defineProperty(m,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return O_.DidChangeWorkspaceFoldersNotification}});var pC=ip();Object.defineProperty(m,"ConfigurationRequest",{enumerable:!0,get:function(){return pC.ConfigurationRequest}});var I_=ap();Object.defineProperty(m,"DocumentColorRequest",{enumerable:!0,get:function(){return I_.DocumentColorRequest}});Object.defineProperty(m,"ColorPresentationRequest",{enumerable:!0,get:function(){return I_.ColorPresentationRequest}});var M_=lp();Object.defineProperty(m,"FoldingRangeRequest",{enumerable:!0,get:function(){return M_.FoldingRangeRequest}});Object.defineProperty(m,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return M_.FoldingRangeRefreshRequest}});var mC=hp();Object.defineProperty(m,"DeclarationRequest",{enumerable:!0,get:function(){return mC.DeclarationRequest}});var _C=mp();Object.defineProperty(m,"SelectionRangeRequest",{enumerable:!0,get:function(){return _C.SelectionRangeRequest}});var zl=bp();Object.defineProperty(m,"WorkDoneProgress",{enumerable:!0,get:function(){return zl.WorkDoneProgress}});Object.defineProperty(m,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return zl.WorkDoneProgressCreateRequest}});Object.defineProperty(m,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return zl.WorkDoneProgressCancelNotification}});var Gl=Dp();Object.defineProperty(m,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Gl.CallHierarchyIncomingCallsRequest}});Object.defineProperty(m,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Gl.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(m,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Gl.CallHierarchyPrepareRequest}});var $i=kp();Object.defineProperty(m,"TokenFormat",{enumerable:!0,get:function(){return $i.TokenFormat}});Object.defineProperty(m,"SemanticTokensRequest",{enumerable:!0,get:function(){return $i.SemanticTokensRequest}});Object.defineProperty(m,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return $i.SemanticTokensDeltaRequest}});Object.defineProperty(m,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return $i.SemanticTokensRangeRequest}});Object.defineProperty(m,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return $i.SemanticTokensRefreshRequest}});Object.defineProperty(m,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return $i.SemanticTokensRegistrationType}});var vC=Ip();Object.defineProperty(m,"ShowDocumentRequest",{enumerable:!0,get:function(){return vC.ShowDocumentRequest}});var yC=Lp();Object.defineProperty(m,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return yC.LinkedEditingRangeRequest}});var ti=$p();Object.defineProperty(m,"FileOperationPatternKind",{enumerable:!0,get:function(){return ti.FileOperationPatternKind}});Object.defineProperty(m,"DidCreateFilesNotification",{enumerable:!0,get:function(){return ti.DidCreateFilesNotification}});Object.defineProperty(m,"WillCreateFilesRequest",{enumerable:!0,get:function(){return ti.WillCreateFilesRequest}});Object.defineProperty(m,"DidRenameFilesNotification",{enumerable:!0,get:function(){return ti.DidRenameFilesNotification}});Object.defineProperty(m,"WillRenameFilesRequest",{enumerable:!0,get:function(){return ti.WillRenameFilesRequest}});Object.defineProperty(m,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return ti.DidDeleteFilesNotification}});Object.defineProperty(m,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return ti.WillDeleteFilesRequest}});var Vl=Kp();Object.defineProperty(m,"UniquenessLevel",{enumerable:!0,get:function(){return Vl.UniquenessLevel}});Object.defineProperty(m,"MonikerKind",{enumerable:!0,get:function(){return Vl.MonikerKind}});Object.defineProperty(m,"MonikerRequest",{enumerable:!0,get:function(){return Vl.MonikerRequest}});var Jl=Qp();Object.defineProperty(m,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Jl.TypeHierarchyPrepareRequest}});Object.defineProperty(m,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Jl.TypeHierarchySubtypesRequest}});Object.defineProperty(m,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Jl.TypeHierarchySupertypesRequest}});var A_=nm();Object.defineProperty(m,"InlineValueRequest",{enumerable:!0,get:function(){return A_.InlineValueRequest}});Object.defineProperty(m,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return A_.InlineValueRefreshRequest}});var Kl=sm();Object.defineProperty(m,"InlayHintRequest",{enumerable:!0,get:function(){return Kl.InlayHintRequest}});Object.defineProperty(m,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Kl.InlayHintResolveRequest}});Object.defineProperty(m,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Kl.InlayHintRefreshRequest}});var wo=hm();Object.defineProperty(m,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return wo.DiagnosticServerCancellationData}});Object.defineProperty(m,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return wo.DocumentDiagnosticReportKind}});Object.defineProperty(m,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return wo.DocumentDiagnosticRequest}});Object.defineProperty(m,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return wo.WorkspaceDiagnosticRequest}});Object.defineProperty(m,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return wo.DiagnosticRefreshRequest}});var $n=bm();Object.defineProperty(m,"NotebookCellKind",{enumerable:!0,get:function(){return $n.NotebookCellKind}});Object.defineProperty(m,"ExecutionSummary",{enumerable:!0,get:function(){return $n.ExecutionSummary}});Object.defineProperty(m,"NotebookCell",{enumerable:!0,get:function(){return $n.NotebookCell}});Object.defineProperty(m,"NotebookDocument",{enumerable:!0,get:function(){return $n.NotebookDocument}});Object.defineProperty(m,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return $n.NotebookDocumentSyncRegistrationType}});Object.defineProperty(m,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return $n.DidOpenNotebookDocumentNotification}});Object.defineProperty(m,"NotebookCellArrayChange",{enumerable:!0,get:function(){return $n.NotebookCellArrayChange}});Object.defineProperty(m,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return $n.DidChangeNotebookDocumentNotification}});Object.defineProperty(m,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return $n.DidSaveNotebookDocumentNotification}});Object.defineProperty(m,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return $n.DidCloseNotebookDocumentNotification}});var bC=Sm();Object.defineProperty(m,"InlineCompletionRequest",{enumerable:!0,get:function(){return bC.InlineCompletionRequest}});var jl;(function(t){function r(o){let s=o;return pt.string(s)||pt.string(s.language)||pt.string(s.scheme)||pt.string(s.pattern)}t.is=r})(jl||(m.TextDocumentFilter=jl={}));var Hl;(function(t){function r(o){let s=o;return pt.objectLiteral(s)&&(pt.string(s.notebookType)||pt.string(s.scheme)||pt.string(s.pattern))}t.is=r})(Hl||(m.NotebookDocumentFilter=Hl={}));var Bl;(function(t){function r(o){let s=o;return pt.objectLiteral(s)&&(pt.string(s.notebook)||Hl.is(s.notebook))&&(s.language===void 0||pt.string(s.language))}t.is=r})(Bl||(m.NotebookCellTextDocumentFilter=Bl={}));var $l;(function(t){function r(o){if(!Array.isArray(o))return!1;for(let s of o)if(!pt.string(s)&&!jl.is(s)&&!Bl.is(s))return!1;return!0}t.is=r})($l||(m.DocumentSelector=$l={}));var Tm;(function(t){t.method="client/registerCapability",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType(t.method)})(Tm||(m.RegistrationRequest=Tm={}));var Cm;(function(t){t.method="client/unregisterCapability",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType(t.method)})(Cm||(m.UnregistrationRequest=Cm={}));var xm;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(xm||(m.ResourceOperationKind=xm={}));var Pm;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Pm||(m.FailureHandlingKind=Pm={}));var Em;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(Em||(m.PositionEncodingKind=Em={}));var km;(function(t){function r(o){let s=o;return s&&pt.string(s.id)&&s.id.length>0}t.hasId=r})(km||(m.StaticRegistrationOptions=km={}));var qm;(function(t){function r(o){let s=o;return s&&(s.documentSelector===null||$l.is(s.documentSelector))}t.is=r})(qm||(m.TextDocumentRegistrationOptions=qm={}));var Om;(function(t){function r(s){let u=s;return pt.objectLiteral(u)&&(u.workDoneProgress===void 0||pt.boolean(u.workDoneProgress))}t.is=r;function o(s){let u=s;return u&&pt.boolean(u.workDoneProgress)}t.hasWorkDoneProgress=o})(Om||(m.WorkDoneProgressOptions=Om={}));var Im;(function(t){t.method="initialize",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Im||(m.InitializeRequest=Im={}));var Mm;(function(t){t.unknownProtocolVersion=1})(Mm||(m.InitializeErrorCodes=Mm={}));var Am;(function(t){t.method="initialized",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Am||(m.InitializedNotification=Am={}));var Lm;(function(t){t.method="shutdown",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType0(t.method)})(Lm||(m.ShutdownRequest=Lm={}));var Fm;(function(t){t.method="exit",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType0(t.method)})(Fm||(m.ExitNotification=Fm={}));var Nm;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Nm||(m.DidChangeConfigurationNotification=Nm={}));var Wm;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(Wm||(m.MessageType=Wm={}));var Um;(function(t){t.method="window/showMessage",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(Um||(m.ShowMessageNotification=Um={}));var jm;(function(t){t.method="window/showMessageRequest",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType(t.method)})(jm||(m.ShowMessageRequest=jm={}));var Hm;(function(t){t.method="window/logMessage",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(Hm||(m.LogMessageNotification=Hm={}));var Bm;(function(t){t.method="telemetry/event",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(Bm||(m.TelemetryEventNotification=Bm={}));var $m;(function(t){t.None=0,t.Full=1,t.Incremental=2})($m||(m.TextDocumentSyncKind=$m={}));var zm;(function(t){t.method="textDocument/didOpen",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(zm||(m.DidOpenTextDocumentNotification=zm={}));var Gm;(function(t){function r(s){let u=s;return u!=null&&typeof u.text=="string"&&u.range!==void 0&&(u.rangeLength===void 0||typeof u.rangeLength=="number")}t.isIncremental=r;function o(s){let u=s;return u!=null&&typeof u.text=="string"&&u.range===void 0&&u.rangeLength===void 0}t.isFull=o})(Gm||(m.TextDocumentContentChangeEvent=Gm={}));var Vm;(function(t){t.method="textDocument/didChange",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Vm||(m.DidChangeTextDocumentNotification=Vm={}));var Jm;(function(t){t.method="textDocument/didClose",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Jm||(m.DidCloseTextDocumentNotification=Jm={}));var Km;(function(t){t.method="textDocument/didSave",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Km||(m.DidSaveTextDocumentNotification=Km={}));var Xm;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Xm||(m.TextDocumentSaveReason=Xm={}));var Ym;(function(t){t.method="textDocument/willSave",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Ym||(m.WillSaveTextDocumentNotification=Ym={}));var Zm;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Zm||(m.WillSaveTextDocumentWaitUntilRequest=Zm={}));var Qm;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Qm||(m.DidChangeWatchedFilesNotification=Qm={}));var e_;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(e_||(m.FileChangeType=e_={}));var t_;(function(t){function r(o){let s=o;return pt.objectLiteral(s)&&(Dm.URI.is(s.baseUri)||Dm.WorkspaceFolder.is(s.baseUri))&&pt.string(s.pattern)}t.is=r})(t_||(m.RelativePattern=t_={}));var n_;(function(t){t.Create=1,t.Change=2,t.Delete=4})(n_||(m.WatchKind=n_={}));var r_;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(r_||(m.PublishDiagnosticsNotification=r_={}));var i_;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(i_||(m.CompletionTriggerKind=i_={}));var o_;(function(t){t.method="textDocument/completion",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(o_||(m.CompletionRequest=o_={}));var s_;(function(t){t.method="completionItem/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(s_||(m.CompletionResolveRequest=s_={}));var a_;(function(t){t.method="textDocument/hover",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(a_||(m.HoverRequest=a_={}));var u_;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(u_||(m.SignatureHelpTriggerKind=u_={}));var c_;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(c_||(m.SignatureHelpRequest=c_={}));var l_;(function(t){t.method="textDocument/definition",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(l_||(m.DefinitionRequest=l_={}));var f_;(function(t){t.method="textDocument/references",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(f_||(m.ReferencesRequest=f_={}));var d_;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(d_||(m.DocumentHighlightRequest=d_={}));var h_;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(h_||(m.DocumentSymbolRequest=h_={}));var g_;(function(t){t.method="textDocument/codeAction",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(g_||(m.CodeActionRequest=g_={}));var p_;(function(t){t.method="codeAction/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(p_||(m.CodeActionResolveRequest=p_={}));var m_;(function(t){t.method="workspace/symbol",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(m_||(m.WorkspaceSymbolRequest=m_={}));var __;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(__||(m.WorkspaceSymbolResolveRequest=__={}));var v_;(function(t){t.method="textDocument/codeLens",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(v_||(m.CodeLensRequest=v_={}));var y_;(function(t){t.method="codeLens/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(y_||(m.CodeLensResolveRequest=y_={}));var b_;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType0(t.method)})(b_||(m.CodeLensRefreshRequest=b_={}));var w_;(function(t){t.method="textDocument/documentLink",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(w_||(m.DocumentLinkRequest=w_={}));var R_;(function(t){t.method="documentLink/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(R_||(m.DocumentLinkResolveRequest=R_={}));var S_;(function(t){t.method="textDocument/formatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(S_||(m.DocumentFormattingRequest=S_={}));var D_;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(D_||(m.DocumentRangeFormattingRequest=D_={}));var T_;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(T_||(m.DocumentRangesFormattingRequest=T_={}));var C_;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(C_||(m.DocumentOnTypeFormattingRequest=C_={}));var x_;(function(t){t.Identifier=1})(x_||(m.PrepareSupportDefaultBehavior=x_={}));var P_;(function(t){t.method="textDocument/rename",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(P_||(m.RenameRequest=P_={}));var E_;(function(t){t.method="textDocument/prepareRename",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(E_||(m.PrepareRenameRequest=E_={}));var k_;(function(t){t.method="workspace/executeCommand",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(k_||(m.ExecuteCommandRequest=k_={}));var q_;(function(t){t.method="workspace/applyEdit",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType("workspace/applyEdit")})(q_||(m.ApplyWorkspaceEditRequest=q_={}))});var N_=V(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.createProtocolConnection=void 0;var F_=ei();function wC(t,r,o,s){return F_.ConnectionStrategy.is(s)&&(s={connectionStrategy:s}),(0,F_.createMessageConnection)(t,r,o,s)}pa.createProtocolConnection=wC});var U_=V(Ut=>{"use strict";var RC=Ut&&Ut.__createBinding||(Object.create?function(t,r,o,s){s===void 0&&(s=o);var u=Object.getOwnPropertyDescriptor(r,o);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(t,s,u)}:function(t,r,o,s){s===void 0&&(s=o),t[s]=r[o]}),ma=Ut&&Ut.__exportStar||function(t,r){for(var o in t)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&RC(r,t,o)};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.LSPErrorCodes=Ut.createProtocolConnection=void 0;ma(ei(),Ut);ma(Qs(),Ut);ma(Je(),Ut);ma(L_(),Ut);var SC=N_();Object.defineProperty(Ut,"createProtocolConnection",{enumerable:!0,get:function(){return SC.createProtocolConnection}});var W_;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(W_||(Ut.LSPErrorCodes=W_={}))});var ot=V(zn=>{"use strict";var DC=zn&&zn.__createBinding||(Object.create?function(t,r,o,s){s===void 0&&(s=o);var u=Object.getOwnPropertyDescriptor(r,o);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(t,s,u)}:function(t,r,o,s){s===void 0&&(s=o),t[s]=r[o]}),j_=zn&&zn.__exportStar||function(t,r){for(var o in t)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&DC(r,t,o)};Object.defineProperty(zn,"__esModule",{value:!0});zn.createProtocolConnection=void 0;var TC=Il();j_(Il(),zn);j_(U_(),zn);function CC(t,r,o,s){return(0,TC.createMessageConnection)(t,r,o,s)}zn.createProtocolConnection=CC});var Xl=V(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.generateUuid=gn.parse=gn.isUUID=gn.v4=gn.empty=void 0;var Ro=class{constructor(r){this._value=r}asHex(){return this._value}equals(r){return this.asHex()===r.asHex()}},So=class t extends Ro{static _oneOf(r){return r[Math.floor(r.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};So._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];So._timeHighBits=["8","9","a","b"];gn.empty=new Ro("00000000-0000-0000-0000-000000000000");function H_(){return new So}gn.v4=H_;var xC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function B_(t){return xC.test(t)}gn.isUUID=B_;function PC(t){if(!B_(t))throw new Error("invalid uuid");return new Ro(t)}gn.parse=PC;function EC(){return H_().asHex()}gn.generateUuid=EC});var $_=V(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.attachPartialResult=Ar.ProgressFeature=Ar.attachWorkDone=void 0;var Mr=ot(),kC=Xl(),ni=class t{constructor(r,o){this._connection=r,this._token=o,t.Instances.set(this._token,this)}begin(r,o,s,u){let p={kind:"begin",title:r,percentage:o,message:s,cancellable:u};this._connection.sendProgress(Mr.WorkDoneProgress.type,this._token,p)}report(r,o){let s={kind:"report"};typeof r=="number"?(s.percentage=r,o!==void 0&&(s.message=o)):s.message=r,this._connection.sendProgress(Mr.WorkDoneProgress.type,this._token,s)}done(){t.Instances.delete(this._token),this._connection.sendProgress(Mr.WorkDoneProgress.type,this._token,{kind:"end"})}};ni.Instances=new Map;var _a=class extends ni{constructor(r,o){super(r,o),this._source=new Mr.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Do=class{constructor(){}begin(){}report(){}done(){}},va=class extends Do{constructor(){super(),this._source=new Mr.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function qC(t,r){if(r===void 0||r.workDoneToken===void 0)return new Do;let o=r.workDoneToken;return delete r.workDoneToken,new ni(t,o)}Ar.attachWorkDone=qC;var OC=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(r){super.initialize(r),r?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Mr.WorkDoneProgressCancelNotification.type,o=>{let s=ni.Instances.get(o.token);(s instanceof _a||s instanceof va)&&s.cancel()}))}attachWorkDoneProgress(r){return r===void 0?new Do:new ni(this.connection,r)}createWorkDoneProgress(){if(this._progressSupported){let r=(0,kC.generateUuid)();return this.connection.sendRequest(Mr.WorkDoneProgressCreateRequest.type,{token:r}).then(()=>new _a(this.connection,r))}else return Promise.resolve(new va)}};Ar.ProgressFeature=OC;var Yl;(function(t){t.type=new Mr.ProgressType})(Yl||(Yl={}));var Zl=class{constructor(r,o){this._connection=r,this._token=o}report(r){this._connection.sendProgress(Yl.type,this._token,r)}};function IC(t,r){if(r===void 0||r.partialResultToken===void 0)return;let o=r.partialResultToken;return delete r.partialResultToken,new Zl(t,o)}Ar.attachPartialResult=IC});var z_=V(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.ConfigurationFeature=void 0;var MC=ot(),AC=ks(),LC=t=>class extends t{getConfiguration(r){return r?AC.string(r)?this._getConfiguration({section:r}):this._getConfiguration(r):this._getConfiguration({})}_getConfiguration(r){let o={items:Array.isArray(r)?r:[r]};return this.connection.sendRequest(MC.ConfigurationRequest.type,o).then(s=>Array.isArray(s)?Array.isArray(r)?s:s[0]:Array.isArray(r)?[]:null)}};ya.ConfigurationFeature=LC});var G_=V(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.WorkspaceFoldersFeature=void 0;var ba=ot(),FC=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(r){super.initialize(r);let o=r.workspace;o&&o.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new ba.Emitter,this.connection.onNotification(ba.DidChangeWorkspaceFoldersNotification.type,s=>{this._onDidChangeWorkspaceFolders.fire(s.event)}))}fillServerCapabilities(r){super.fillServerCapabilities(r);let o=r.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=o===!0||typeof o=="string"}getWorkspaceFolders(){return this.connection.sendRequest(ba.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(ba.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};wa.WorkspaceFoldersFeature=FC});var V_=V(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.CallHierarchyFeature=void 0;var Ql=ot(),NC=t=>class extends t{get callHierarchy(){return{onPrepare:r=>this.connection.onRequest(Ql.CallHierarchyPrepareRequest.type,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),void 0)),onIncomingCalls:r=>{let o=Ql.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(o,(s,u)=>r(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))},onOutgoingCalls:r=>{let o=Ql.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(o,(s,u)=>r(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))}}}};Ra.CallHierarchyFeature=NC});var tf=V(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.SemanticTokensBuilder=Lr.SemanticTokensDiff=Lr.SemanticTokensFeature=void 0;var Sa=ot(),WC=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Sa.SemanticTokensRefreshRequest.type),on:r=>{let o=Sa.SemanticTokensRequest.type;return this.connection.onRequest(o,(s,u)=>r(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))},onDelta:r=>{let o=Sa.SemanticTokensDeltaRequest.type;return this.connection.onRequest(o,(s,u)=>r(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))},onRange:r=>{let o=Sa.SemanticTokensRangeRequest.type;return this.connection.onRequest(o,(s,u)=>r(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))}}}};Lr.SemanticTokensFeature=WC;var Da=class{constructor(r,o){this.originalSequence=r,this.modifiedSequence=o}computeDiff(){let r=this.originalSequence.length,o=this.modifiedSequence.length,s=0;for(;s<o&&s<r&&this.originalSequence[s]===this.modifiedSequence[s];)s++;if(s<o&&s<r){let u=r-1,p=o-1;for(;u>=s&&p>=s&&this.originalSequence[u]===this.modifiedSequence[p];)u--,p--;(u<s||p<s)&&(u++,p++);let R=u-s+1,k=this.modifiedSequence.slice(s,p+1);return k.length===1&&k[0]===this.originalSequence[u]?[{start:s,deleteCount:R-1}]:[{start:s,deleteCount:R,data:k}]}else return s<o?[{start:s,deleteCount:0,data:this.modifiedSequence.slice(s)}]:s<r?[{start:s,deleteCount:r-s}]:[]}};Lr.SemanticTokensDiff=Da;var ef=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(r,o,s,u,p){let R=r,k=o;this._dataLen>0&&(R-=this._prevLine,R===0&&(k-=this._prevChar)),this._data[this._dataLen++]=R,this._data[this._dataLen++]=k,this._data[this._dataLen++]=s,this._data[this._dataLen++]=u,this._data[this._dataLen++]=p,this._prevLine=r,this._prevChar=o}get id(){return this._id.toString()}previousResult(r){this.id===r&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Da(this._prevData,this._data).computeDiff()}:this.build()}};Lr.SemanticTokensBuilder=ef});var J_=V(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.ShowDocumentFeature=void 0;var UC=ot(),jC=t=>class extends t{showDocument(r){return this.connection.sendRequest(UC.ShowDocumentRequest.type,r)}};Ta.ShowDocumentFeature=jC});var K_=V(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.FileOperationsFeature=void 0;var zi=ot(),HC=t=>class extends t{onDidCreateFiles(r){return this.connection.onNotification(zi.DidCreateFilesNotification.type,o=>{r(o)})}onDidRenameFiles(r){return this.connection.onNotification(zi.DidRenameFilesNotification.type,o=>{r(o)})}onDidDeleteFiles(r){return this.connection.onNotification(zi.DidDeleteFilesNotification.type,o=>{r(o)})}onWillCreateFiles(r){return this.connection.onRequest(zi.WillCreateFilesRequest.type,(o,s)=>r(o,s))}onWillRenameFiles(r){return this.connection.onRequest(zi.WillRenameFilesRequest.type,(o,s)=>r(o,s))}onWillDeleteFiles(r){return this.connection.onRequest(zi.WillDeleteFilesRequest.type,(o,s)=>r(o,s))}};Ca.FileOperationsFeature=HC});var X_=V(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.LinkedEditingRangeFeature=void 0;var BC=ot(),$C=t=>class extends t{onLinkedEditingRange(r){return this.connection.onRequest(BC.LinkedEditingRangeRequest.type,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),void 0))}};xa.LinkedEditingRangeFeature=$C});var Y_=V(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.TypeHierarchyFeature=void 0;var nf=ot(),zC=t=>class extends t{get typeHierarchy(){return{onPrepare:r=>this.connection.onRequest(nf.TypeHierarchyPrepareRequest.type,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),void 0)),onSupertypes:r=>{let o=nf.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(o,(s,u)=>r(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))},onSubtypes:r=>{let o=nf.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(o,(s,u)=>r(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))}}}};Pa.TypeHierarchyFeature=zC});var Q_=V(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.InlineValueFeature=void 0;var Z_=ot(),GC=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(Z_.InlineValueRefreshRequest.type),on:r=>this.connection.onRequest(Z_.InlineValueRequest.type,(o,s)=>r(o,s,this.attachWorkDoneProgress(o)))}}};Ea.InlineValueFeature=GC});var tv=V(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.FoldingRangeFeature=void 0;var ev=ot(),VC=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(ev.FoldingRangeRefreshRequest.type),on:r=>{let o=ev.FoldingRangeRequest.type;return this.connection.onRequest(o,(s,u)=>r(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))}}}};ka.FoldingRangeFeature=VC});var nv=V(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.InlayHintFeature=void 0;var rf=ot(),JC=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(rf.InlayHintRefreshRequest.type),on:r=>this.connection.onRequest(rf.InlayHintRequest.type,(o,s)=>r(o,s,this.attachWorkDoneProgress(o))),resolve:r=>this.connection.onRequest(rf.InlayHintResolveRequest.type,(o,s)=>r(o,s))}}};qa.InlayHintFeature=JC});var rv=V(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.DiagnosticFeature=void 0;var To=ot(),KC=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(To.DiagnosticRefreshRequest.type),on:r=>this.connection.onRequest(To.DocumentDiagnosticRequest.type,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(To.DocumentDiagnosticRequest.partialResult,o))),onWorkspace:r=>this.connection.onRequest(To.WorkspaceDiagnosticRequest.type,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(To.WorkspaceDiagnosticRequest.partialResult,o)))}}};Oa.DiagnosticFeature=KC});var sf=V(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.TextDocuments=void 0;var ri=ot(),of=class{constructor(r){this._configuration=r,this._syncedDocuments=new Map,this._onDidChangeContent=new ri.Emitter,this._onDidOpen=new ri.Emitter,this._onDidClose=new ri.Emitter,this._onDidSave=new ri.Emitter,this._onWillSave=new ri.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(r){this._willSaveWaitUntil=r}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(r){return this._syncedDocuments.get(r)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(r){r.__textDocumentSync=ri.TextDocumentSyncKind.Incremental;let o=[];return o.push(r.onDidOpenTextDocument(s=>{let u=s.textDocument,p=this._configuration.create(u.uri,u.languageId,u.version,u.text);this._syncedDocuments.set(u.uri,p);let R=Object.freeze({document:p});this._onDidOpen.fire(R),this._onDidChangeContent.fire(R)})),o.push(r.onDidChangeTextDocument(s=>{let u=s.textDocument,p=s.contentChanges;if(p.length===0)return;let{version:R}=u;if(R==null)throw new Error(`Received document change event for ${u.uri} without valid version identifier`);let k=this._syncedDocuments.get(u.uri);k!==void 0&&(k=this._configuration.update(k,p,R),this._syncedDocuments.set(u.uri,k),this._onDidChangeContent.fire(Object.freeze({document:k})))})),o.push(r.onDidCloseTextDocument(s=>{let u=this._syncedDocuments.get(s.textDocument.uri);u!==void 0&&(this._syncedDocuments.delete(s.textDocument.uri),this._onDidClose.fire(Object.freeze({document:u})))})),o.push(r.onWillSaveTextDocument(s=>{let u=this._syncedDocuments.get(s.textDocument.uri);u!==void 0&&this._onWillSave.fire(Object.freeze({document:u,reason:s.reason}))})),o.push(r.onWillSaveTextDocumentWaitUntil((s,u)=>{let p=this._syncedDocuments.get(s.textDocument.uri);return p!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:p,reason:s.reason}),u):[]})),o.push(r.onDidSaveTextDocument(s=>{let u=this._syncedDocuments.get(s.textDocument.uri);u!==void 0&&this._onDidSave.fire(Object.freeze({document:u}))})),ri.Disposable.create(()=>{o.forEach(s=>s.dispose())})}};Ia.TextDocuments=of});var uf=V(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.NotebookDocuments=Gi.NotebookSyncFeature=void 0;var pn=ot(),iv=sf(),XC=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:r=>this.connection.onNotification(pn.DidOpenNotebookDocumentNotification.type,o=>{r(o)}),onDidChangeNotebookDocument:r=>this.connection.onNotification(pn.DidChangeNotebookDocumentNotification.type,o=>{r(o)}),onDidSaveNotebookDocument:r=>this.connection.onNotification(pn.DidSaveNotebookDocumentNotification.type,o=>{r(o)}),onDidCloseNotebookDocument:r=>this.connection.onNotification(pn.DidCloseNotebookDocumentNotification.type,o=>{r(o)})}}};Gi.NotebookSyncFeature=XC;var Ma=class t{onDidOpenTextDocument(r){return this.openHandler=r,pn.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(r){this.openHandler&&this.openHandler(r)}onDidChangeTextDocument(r){return this.changeHandler=r,pn.Disposable.create(()=>{this.changeHandler=r})}changeTextDocument(r){this.changeHandler&&this.changeHandler(r)}onDidCloseTextDocument(r){return this.closeHandler=r,pn.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(r){this.closeHandler&&this.closeHandler(r)}onWillSaveTextDocument(){return t.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return t.NULL_DISPOSE}onDidSaveTextDocument(){return t.NULL_DISPOSE}};Ma.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var af=class{constructor(r){r instanceof iv.TextDocuments?this._cellTextDocuments=r:this._cellTextDocuments=new iv.TextDocuments(r),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new pn.Emitter,this._onDidChange=new pn.Emitter,this._onDidSave=new pn.Emitter,this._onDidClose=new pn.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(r){return this._cellTextDocuments.get(r.document)}getNotebookDocument(r){return this.notebookDocuments.get(r)}getNotebookCell(r){let o=this.notebookCellMap.get(r);return o&&o[0]}findNotebookDocumentForCell(r){let o=typeof r=="string"?r:r.document,s=this.notebookCellMap.get(o);return s&&s[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(r){let o=new Ma,s=[];return s.push(this.cellTextDocuments.listen(o)),s.push(r.notebooks.synchronization.onDidOpenNotebookDocument(u=>{this.notebookDocuments.set(u.notebookDocument.uri,u.notebookDocument);for(let p of u.cellTextDocuments)o.openTextDocument({textDocument:p});this.updateCellMap(u.notebookDocument),this._onDidOpen.fire(u.notebookDocument)})),s.push(r.notebooks.synchronization.onDidChangeNotebookDocument(u=>{let p=this.notebookDocuments.get(u.notebookDocument.uri);if(p===void 0)return;p.version=u.notebookDocument.version;let R=p.metadata,k=!1,j=u.change;j.metadata!==void 0&&(k=!0,p.metadata=j.metadata);let N=[],G=[],J=[],Z=[];if(j.cells!==void 0){let ne=j.cells;if(ne.structure!==void 0){let P=ne.structure.array;if(p.cells.splice(P.start,P.deleteCount,...P.cells!==void 0?P.cells:[]),ne.structure.didOpen!==void 0)for(let D of ne.structure.didOpen)o.openTextDocument({textDocument:D}),N.push(D.uri);if(ne.structure.didClose)for(let D of ne.structure.didClose)o.closeTextDocument({textDocument:D}),G.push(D.uri)}if(ne.data!==void 0){let P=new Map(ne.data.map(D=>[D.document,D]));for(let D=0;D<=p.cells.length;D++){let I=P.get(p.cells[D].document);if(I!==void 0){let ee=p.cells.splice(D,1,I);if(J.push({old:ee[0],new:I}),P.delete(I.document),P.size===0)break}}}if(ne.textContent!==void 0)for(let P of ne.textContent)o.changeTextDocument({textDocument:P.document,contentChanges:P.changes}),Z.push(P.document.uri)}this.updateCellMap(p);let be={notebookDocument:p};k&&(be.metadata={old:R,new:p.metadata});let K=[];for(let ne of N)K.push(this.getNotebookCell(ne));let se=[];for(let ne of G)se.push(this.getNotebookCell(ne));let B=[];for(let ne of Z)B.push(this.getNotebookCell(ne));(K.length>0||se.length>0||J.length>0||B.length>0)&&(be.cells={added:K,removed:se,changed:{data:J,textContent:B}}),(be.metadata!==void 0||be.cells!==void 0)&&this._onDidChange.fire(be)})),s.push(r.notebooks.synchronization.onDidSaveNotebookDocument(u=>{let p=this.notebookDocuments.get(u.notebookDocument.uri);p!==void 0&&this._onDidSave.fire(p)})),s.push(r.notebooks.synchronization.onDidCloseNotebookDocument(u=>{let p=this.notebookDocuments.get(u.notebookDocument.uri);if(p!==void 0){this._onDidClose.fire(p);for(let R of u.cellTextDocuments)o.closeTextDocument({textDocument:R});this.notebookDocuments.delete(u.notebookDocument.uri);for(let R of p.cells)this.notebookCellMap.delete(R.document)}})),pn.Disposable.create(()=>{s.forEach(u=>u.dispose())})}updateCellMap(r){for(let o of r.cells)this.notebookCellMap.set(o.document,[o,r])}};Gi.NotebookDocuments=af});var ov=V(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.MonikerFeature=void 0;var YC=ot(),ZC=t=>class extends t{get moniker(){return{on:r=>{let o=YC.MonikerRequest.type;return this.connection.onRequest(o,(s,u)=>r(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))}}}};Aa.MonikerFeature=ZC});var gf=V(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.createConnection=Pe.combineFeatures=Pe.combineNotebooksFeatures=Pe.combineLanguagesFeatures=Pe.combineWorkspaceFeatures=Pe.combineWindowFeatures=Pe.combineClientFeatures=Pe.combineTracerFeatures=Pe.combineTelemetryFeatures=Pe.combineConsoleFeatures=Pe._NotebooksImpl=Pe._LanguagesImpl=Pe.BulkUnregistration=Pe.BulkRegistration=Pe.ErrorMessageTracker=void 0;var $=ot(),mn=ks(),lf=Xl(),le=$_(),QC=z_(),ex=G_(),tx=V_(),nx=tf(),rx=J_(),ix=K_(),ox=X_(),sx=Y_(),ax=Q_(),ux=tv(),cx=nv(),lx=rv(),fx=uf(),dx=ov();function cf(t){if(t!==null)return t}var ff=class{constructor(){this._messages=Object.create(null)}add(r){let o=this._messages[r];o||(o=0),o++,this._messages[r]=o}sendErrors(r){Object.keys(this._messages).forEach(o=>{r.window.showErrorMessage(o)})}};Pe.ErrorMessageTracker=ff;var La=class{constructor(){}rawAttach(r){this._rawConnection=r}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(r){}initialize(r){}error(r){this.send($.MessageType.Error,r)}warn(r){this.send($.MessageType.Warning,r)}info(r){this.send($.MessageType.Info,r)}log(r){this.send($.MessageType.Log,r)}debug(r){this.send($.MessageType.Debug,r)}send(r,o){this._rawConnection&&this._rawConnection.sendNotification($.LogMessageNotification.type,{type:r,message:o}).catch(()=>{(0,$.RAL)().console.error("Sending log message failed")})}},df=class{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}showErrorMessage(r,...o){let s={type:$.MessageType.Error,message:r,actions:o};return this.connection.sendRequest($.ShowMessageRequest.type,s).then(cf)}showWarningMessage(r,...o){let s={type:$.MessageType.Warning,message:r,actions:o};return this.connection.sendRequest($.ShowMessageRequest.type,s).then(cf)}showInformationMessage(r,...o){let s={type:$.MessageType.Info,message:r,actions:o};return this.connection.sendRequest($.ShowMessageRequest.type,s).then(cf)}},sv=(0,rx.ShowDocumentFeature)((0,le.ProgressFeature)(df)),av;(function(t){function r(){return new Fa}t.create=r})(av||(Pe.BulkRegistration=av={}));var Fa=class{constructor(){this._registrations=[],this._registered=new Set}add(r,o){let s=mn.string(r)?r:r.method;if(this._registered.has(s))throw new Error(`${s} is already added to this registration`);let u=lf.generateUuid();this._registrations.push({id:u,method:s,registerOptions:o||{}}),this._registered.add(s)}asRegistrationParams(){return{registrations:this._registrations}}},uv;(function(t){function r(){return new Co(void 0,[])}t.create=r})(uv||(Pe.BulkUnregistration=uv={}));var Co=class{constructor(r,o){this._connection=r,this._unregistrations=new Map,o.forEach(s=>{this._unregistrations.set(s.method,s)})}get isAttached(){return!!this._connection}attach(r){this._connection=r}add(r){this._unregistrations.set(r.method,r)}dispose(){let r=[];for(let s of this._unregistrations.values())r.push(s);let o={unregisterations:r};this._connection.sendRequest($.UnregistrationRequest.type,o).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(r){let o=mn.string(r)?r:r.method,s=this._unregistrations.get(o);if(!s)return!1;let u={unregisterations:[s]};return this._connection.sendRequest($.UnregistrationRequest.type,u).then(()=>{this._unregistrations.delete(o)},p=>{this._connection.console.info(`Un-registering request handler for ${s.id} failed.`)}),!0}},Na=class{attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}register(r,o,s){return r instanceof Fa?this.registerMany(r):r instanceof Co?this.registerSingle1(r,o,s):this.registerSingle2(r,o)}registerSingle1(r,o,s){let u=mn.string(o)?o:o.method,p=lf.generateUuid(),R={registrations:[{id:p,method:u,registerOptions:s||{}}]};return r.isAttached||r.attach(this.connection),this.connection.sendRequest($.RegistrationRequest.type,R).then(k=>(r.add({id:p,method:u}),r),k=>(this.connection.console.info(`Registering request handler for ${u} failed.`),Promise.reject(k)))}registerSingle2(r,o){let s=mn.string(r)?r:r.method,u=lf.generateUuid(),p={registrations:[{id:u,method:s,registerOptions:o||{}}]};return this.connection.sendRequest($.RegistrationRequest.type,p).then(R=>$.Disposable.create(()=>{this.unregisterSingle(u,s).catch(()=>{this.connection.console.info(`Un-registering capability with id ${u} failed.`)})}),R=>(this.connection.console.info(`Registering request handler for ${s} failed.`),Promise.reject(R)))}unregisterSingle(r,o){let s={unregisterations:[{id:r,method:o}]};return this.connection.sendRequest($.UnregistrationRequest.type,s).catch(()=>{this.connection.console.info(`Un-registering request handler for ${r} failed.`)})}registerMany(r){let o=r.asRegistrationParams();return this.connection.sendRequest($.RegistrationRequest.type,o).then(()=>new Co(this._connection,o.registrations.map(s=>({id:s.id,method:s.method}))),s=>(this.connection.console.info("Bulk registration failed."),Promise.reject(s)))}},hf=class{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}applyEdit(r){function o(u){return u&&!!u.edit}let s=o(r)?r:{edit:r};return this.connection.sendRequest($.ApplyWorkspaceEditRequest.type,s)}},cv=(0,ix.FileOperationsFeature)((0,ex.WorkspaceFoldersFeature)((0,QC.ConfigurationFeature)(hf))),Wa=class{constructor(){this._trace=$.Trace.Off}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}set trace(r){this._trace=r}log(r,o){this._trace!==$.Trace.Off&&this.connection.sendNotification($.LogTraceNotification.type,{message:r,verbose:this._trace===$.Trace.Verbose?o:void 0}).catch(()=>{})}},Ua=class{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}logEvent(r){this.connection.sendNotification($.TelemetryEventNotification.type,r).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},ja=class{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}attachWorkDoneProgress(r){return(0,le.attachWorkDone)(this.connection,r)}attachPartialResultProgress(r,o){return(0,le.attachPartialResult)(this.connection,o)}};Pe._LanguagesImpl=ja;var lv=(0,ux.FoldingRangeFeature)((0,dx.MonikerFeature)((0,lx.DiagnosticFeature)((0,cx.InlayHintFeature)((0,ax.InlineValueFeature)((0,sx.TypeHierarchyFeature)((0,ox.LinkedEditingRangeFeature)((0,nx.SemanticTokensFeature)((0,tx.CallHierarchyFeature)(ja))))))))),Ha=class{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}attachWorkDoneProgress(r){return(0,le.attachWorkDone)(this.connection,r)}attachPartialResultProgress(r,o){return(0,le.attachPartialResult)(this.connection,o)}};Pe._NotebooksImpl=Ha;var fv=(0,fx.NotebookSyncFeature)(Ha);function dv(t,r){return function(o){return r(t(o))}}Pe.combineConsoleFeatures=dv;function hv(t,r){return function(o){return r(t(o))}}Pe.combineTelemetryFeatures=hv;function gv(t,r){return function(o){return r(t(o))}}Pe.combineTracerFeatures=gv;function pv(t,r){return function(o){return r(t(o))}}Pe.combineClientFeatures=pv;function mv(t,r){return function(o){return r(t(o))}}Pe.combineWindowFeatures=mv;function _v(t,r){return function(o){return r(t(o))}}Pe.combineWorkspaceFeatures=_v;function vv(t,r){return function(o){return r(t(o))}}Pe.combineLanguagesFeatures=vv;function yv(t,r){return function(o){return r(t(o))}}Pe.combineNotebooksFeatures=yv;function hx(t,r){function o(u,p,R){return u&&p?R(u,p):u||p}return{__brand:"features",console:o(t.console,r.console,dv),tracer:o(t.tracer,r.tracer,gv),telemetry:o(t.telemetry,r.telemetry,hv),client:o(t.client,r.client,pv),window:o(t.window,r.window,mv),workspace:o(t.workspace,r.workspace,_v),languages:o(t.languages,r.languages,vv),notebooks:o(t.notebooks,r.notebooks,yv)}}Pe.combineFeatures=hx;function gx(t,r,o){let s=o&&o.console?new(o.console(La)):new La,u=t(s);s.rawAttach(u);let p=o&&o.tracer?new(o.tracer(Wa)):new Wa,R=o&&o.telemetry?new(o.telemetry(Ua)):new Ua,k=o&&o.client?new(o.client(Na)):new Na,j=o&&o.window?new(o.window(sv)):new sv,N=o&&o.workspace?new(o.workspace(cv)):new cv,G=o&&o.languages?new(o.languages(lv)):new lv,J=o&&o.notebooks?new(o.notebooks(fv)):new fv,Z=[s,p,R,k,j,N,G,J];function be(P){return P instanceof Promise?P:mn.thenable(P)?new Promise((D,I)=>{P.then(ee=>D(ee),ee=>I(ee))}):Promise.resolve(P)}let K,se,B,ne={listen:()=>u.listen(),sendRequest:(P,...D)=>u.sendRequest(mn.string(P)?P:P.method,...D),onRequest:(P,D)=>u.onRequest(P,D),sendNotification:(P,D)=>{let I=mn.string(P)?P:P.method;return u.sendNotification(I,D)},onNotification:(P,D)=>u.onNotification(P,D),onProgress:u.onProgress,sendProgress:u.sendProgress,onInitialize:P=>(se=P,{dispose:()=>{se=void 0}}),onInitialized:P=>u.onNotification($.InitializedNotification.type,P),onShutdown:P=>(K=P,{dispose:()=>{K=void 0}}),onExit:P=>(B=P,{dispose:()=>{B=void 0}}),get console(){return s},get telemetry(){return R},get tracer(){return p},get client(){return k},get window(){return j},get workspace(){return N},get languages(){return G},get notebooks(){return J},onDidChangeConfiguration:P=>u.onNotification($.DidChangeConfigurationNotification.type,P),onDidChangeWatchedFiles:P=>u.onNotification($.DidChangeWatchedFilesNotification.type,P),__textDocumentSync:void 0,onDidOpenTextDocument:P=>u.onNotification($.DidOpenTextDocumentNotification.type,P),onDidChangeTextDocument:P=>u.onNotification($.DidChangeTextDocumentNotification.type,P),onDidCloseTextDocument:P=>u.onNotification($.DidCloseTextDocumentNotification.type,P),onWillSaveTextDocument:P=>u.onNotification($.WillSaveTextDocumentNotification.type,P),onWillSaveTextDocumentWaitUntil:P=>u.onRequest($.WillSaveTextDocumentWaitUntilRequest.type,P),onDidSaveTextDocument:P=>u.onNotification($.DidSaveTextDocumentNotification.type,P),sendDiagnostics:P=>u.sendNotification($.PublishDiagnosticsNotification.type,P),onHover:P=>u.onRequest($.HoverRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),void 0)),onCompletion:P=>u.onRequest($.CompletionRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onCompletionResolve:P=>u.onRequest($.CompletionResolveRequest.type,P),onSignatureHelp:P=>u.onRequest($.SignatureHelpRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),void 0)),onDeclaration:P=>u.onRequest($.DeclarationRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onDefinition:P=>u.onRequest($.DefinitionRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onTypeDefinition:P=>u.onRequest($.TypeDefinitionRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onImplementation:P=>u.onRequest($.ImplementationRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onReferences:P=>u.onRequest($.ReferencesRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onDocumentHighlight:P=>u.onRequest($.DocumentHighlightRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onDocumentSymbol:P=>u.onRequest($.DocumentSymbolRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onWorkspaceSymbol:P=>u.onRequest($.WorkspaceSymbolRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onWorkspaceSymbolResolve:P=>u.onRequest($.WorkspaceSymbolResolveRequest.type,P),onCodeAction:P=>u.onRequest($.CodeActionRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onCodeActionResolve:P=>u.onRequest($.CodeActionResolveRequest.type,(D,I)=>P(D,I)),onCodeLens:P=>u.onRequest($.CodeLensRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onCodeLensResolve:P=>u.onRequest($.CodeLensResolveRequest.type,(D,I)=>P(D,I)),onDocumentFormatting:P=>u.onRequest($.DocumentFormattingRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),void 0)),onDocumentRangeFormatting:P=>u.onRequest($.DocumentRangeFormattingRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),void 0)),onDocumentOnTypeFormatting:P=>u.onRequest($.DocumentOnTypeFormattingRequest.type,(D,I)=>P(D,I)),onRenameRequest:P=>u.onRequest($.RenameRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),void 0)),onPrepareRename:P=>u.onRequest($.PrepareRenameRequest.type,(D,I)=>P(D,I)),onDocumentLinks:P=>u.onRequest($.DocumentLinkRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onDocumentLinkResolve:P=>u.onRequest($.DocumentLinkResolveRequest.type,(D,I)=>P(D,I)),onDocumentColor:P=>u.onRequest($.DocumentColorRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onColorPresentation:P=>u.onRequest($.ColorPresentationRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onFoldingRanges:P=>u.onRequest($.FoldingRangeRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onSelectionRanges:P=>u.onRequest($.SelectionRangeRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),(0,le.attachPartialResult)(u,D))),onExecuteCommand:P=>u.onRequest($.ExecuteCommandRequest.type,(D,I)=>P(D,I,(0,le.attachWorkDone)(u,D),void 0)),dispose:()=>u.dispose()};for(let P of Z)P.attach(ne);return u.onRequest($.InitializeRequest.type,P=>{r.initialize(P),mn.string(P.trace)&&(p.trace=$.Trace.fromString(P.trace));for(let D of Z)D.initialize(P.capabilities);if(se){let D=se(P,new $.CancellationTokenSource().token,(0,le.attachWorkDone)(u,P),void 0);return be(D).then(I=>{if(I instanceof $.ResponseError)return I;let ee=I;ee||(ee={capabilities:{}});let we=ee.capabilities;we||(we={},ee.capabilities=we),we.textDocumentSync===void 0||we.textDocumentSync===null?we.textDocumentSync=mn.number(ne.__textDocumentSync)?ne.__textDocumentSync:$.TextDocumentSyncKind.None:!mn.number(we.textDocumentSync)&&!mn.number(we.textDocumentSync.change)&&(we.textDocumentSync.change=mn.number(ne.__textDocumentSync)?ne.__textDocumentSync:$.TextDocumentSyncKind.None);for(let Le of Z)Le.fillServerCapabilities(we);return ee})}else{let D={capabilities:{textDocumentSync:$.TextDocumentSyncKind.None}};for(let I of Z)I.fillServerCapabilities(D.capabilities);return D}}),u.onRequest($.ShutdownRequest.type,()=>{if(r.shutdownReceived=!0,K)return K(new $.CancellationTokenSource().token)}),u.onNotification($.ExitNotification.type,()=>{try{B&&B()}finally{r.shutdownReceived?r.exit(0):r.exit(1)}}),u.onNotification($.SetTraceNotification.type,P=>{p.trace=$.Trace.fromString(P.value)}),ne}Pe.createConnection=gx});var bv=V(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.resolveModulePath=jt.FileSystem=jt.resolveGlobalYarnPath=jt.resolveGlobalNodePath=jt.resolve=jt.uriToFilePath=void 0;var px=require("url"),qn=require("path"),pf=require("fs"),yf=require("child_process");function mx(t){let r=px.parse(t);if(r.protocol!=="file:"||!r.path)return;let o=r.path.split("/");for(var s=0,u=o.length;s<u;s++)o[s]=decodeURIComponent(o[s]);if(process.platform==="win32"&&o.length>1){let p=o[0],R=o[1];p.length===0&&R.length>1&&R[1]===":"&&o.shift()}return qn.normalize(o.join("/"))}jt.uriToFilePath=mx;function mf(){return process.platform==="win32"}function Ba(t,r,o,s){let u="NODE_PATH",p=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((R,k)=>{let j=process.env,N=Object.create(null);Object.keys(j).forEach(G=>N[G]=j[G]),r&&pf.existsSync(r)&&(N[u]?N[u]=r+qn.delimiter+N[u]:N[u]=r,s&&s(`NODE_PATH value is: ${N[u]}`)),N.ELECTRON_RUN_AS_NODE="1";try{let G=(0,yf.fork)("",[],{cwd:o,env:N,execArgv:["-e",p]});if(G.pid===void 0){k(new Error(`Starting process to resolve node module  ${t} failed`));return}G.on("error",Z=>{k(Z)}),G.on("message",Z=>{Z.c==="r"&&(G.send({c:"e"}),Z.s?R(Z.r):k(new Error(`Failed to resolve module: ${t}`)))});let J={c:"rs",a:t};G.send(J)}catch(G){k(G)}})}jt.resolve=Ba;function _f(t){let r="npm",o=Object.create(null);Object.keys(process.env).forEach(p=>o[p]=process.env[p]),o.NO_UPDATE_NOTIFIER="true";let s={encoding:"utf8",env:o};mf()&&(r="npm.cmd",s.shell=!0);let u=()=>{};try{process.on("SIGPIPE",u);let p=(0,yf.spawnSync)(r,["config","get","prefix"],s).stdout;if(!p){t&&t("'npm config get prefix' didn't return a value.");return}let R=p.trim();return t&&t(`'npm config get prefix' value is: ${R}`),R.length>0?mf()?qn.join(R,"node_modules"):qn.join(R,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",u)}}jt.resolveGlobalNodePath=_f;function _x(t){let r="yarn",o={encoding:"utf8"};mf()&&(r="yarn.cmd",o.shell=!0);let s=()=>{};try{process.on("SIGPIPE",s);let u=(0,yf.spawnSync)(r,["global","dir","--json"],o),p=u.stdout;if(!p){t&&(t("'yarn global dir' didn't return a value."),u.stderr&&t(u.stderr));return}let R=p.trim().split(/\r?\n/);for(let k of R)try{let j=JSON.parse(k);if(j.type==="log")return qn.join(j.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",s)}}jt.resolveGlobalYarnPath=_x;var vf;(function(t){let r;function o(){return r!==void 0||(process.platform==="win32"?r=!1:r=!pf.existsSync(__filename.toUpperCase())||!pf.existsSync(__filename.toLowerCase())),r}t.isCaseSensitive=o;function s(u,p){return o()?qn.normalize(p).indexOf(qn.normalize(u))===0:qn.normalize(p).toLowerCase().indexOf(qn.normalize(u).toLowerCase())===0}t.isParent=s})(vf||(jt.FileSystem=vf={}));function vx(t,r,o,s){return o?(qn.isAbsolute(o)||(o=qn.join(t,o)),Ba(r,o,o,s).then(u=>vf.isParent(o,u)?u:Promise.reject(new Error(`Failed to load ${r} from node path location.`))).then(void 0,u=>Ba(r,_f(s),t,s))):Ba(r,_f(s),t,s)}jt.resolveModulePath=vx});var bf=V((T1,wv)=>{"use strict";wv.exports=ot()});var Rv=V($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.InlineCompletionFeature=void 0;var yx=ot(),bx=t=>class extends t{get inlineCompletion(){return{on:r=>this.connection.onRequest(yx.InlineCompletionRequest.type,(o,s)=>r(o,s,this.attachWorkDoneProgress(o)))}}};$a.InlineCompletionFeature=bx});var Tv=V(Ct=>{"use strict";var wx=Ct&&Ct.__createBinding||(Object.create?function(t,r,o,s){s===void 0&&(s=o);var u=Object.getOwnPropertyDescriptor(r,o);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(t,s,u)}:function(t,r,o,s){s===void 0&&(s=o),t[s]=r[o]}),Dv=Ct&&Ct.__exportStar||function(t,r){for(var o in t)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&wx(r,t,o)};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.ProposedFeatures=Ct.NotebookDocuments=Ct.TextDocuments=Ct.SemanticTokensBuilder=void 0;var Rx=tf();Object.defineProperty(Ct,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Rx.SemanticTokensBuilder}});var Sx=Rv();Dv(ot(),Ct);var Dx=sf();Object.defineProperty(Ct,"TextDocuments",{enumerable:!0,get:function(){return Dx.TextDocuments}});var Tx=uf();Object.defineProperty(Ct,"NotebookDocuments",{enumerable:!0,get:function(){return Tx.NotebookDocuments}});Dv(gf(),Ct);var Sv;(function(t){t.all={__brand:"features",languages:Sx.InlineCompletionFeature}})(Sv||(Ct.ProposedFeatures=Sv={}))});var qv=V(_n=>{"use strict";var Cx=_n&&_n.__createBinding||(Object.create?function(t,r,o,s){s===void 0&&(s=o);var u=Object.getOwnPropertyDescriptor(r,o);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(t,s,u)}:function(t,r,o,s){s===void 0&&(s=o),t[s]=r[o]}),Ev=_n&&_n.__exportStar||function(t,r){for(var o in t)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&Cx(r,t,o)};Object.defineProperty(_n,"__esModule",{value:!0});_n.createConnection=_n.Files=void 0;var Cv=require("node:util"),wf=ks(),xx=gf(),xo=bv(),ii=bf();Ev(bf(),_n);Ev(Tv(),_n);var xv;(function(t){t.uriToFilePath=xo.uriToFilePath,t.resolveGlobalNodePath=xo.resolveGlobalNodePath,t.resolveGlobalYarnPath=xo.resolveGlobalYarnPath,t.resolve=xo.resolve,t.resolveModulePath=xo.resolveModulePath})(xv||(_n.Files=xv={}));var Pv;function za(){if(Pv!==void 0)try{Pv.end()}catch{}}var Vi=!1,kv;function Px(){let t="--clientProcessId";function r(o){try{let s=parseInt(o);isNaN(s)||(kv=setInterval(()=>{try{process.kill(s,0)}catch{za(),process.exit(Vi?0:1)}},3e3))}catch{}}for(let o=2;o<process.argv.length;o++){let s=process.argv[o];if(s===t&&o+1<process.argv.length){r(process.argv[o+1]);return}else{let u=s.split("=");u[0]===t&&r(u[1])}}}Px();var Ex={initialize:t=>{let r=t.processId;wf.number(r)&&kv===void 0&&setInterval(()=>{try{process.kill(r,0)}catch{process.exit(Vi?0:1)}},3e3)},get shutdownReceived(){return Vi},set shutdownReceived(t){Vi=t},exit:t=>{za(),process.exit(t)}};function kx(t,r,o,s){let u,p,R,k;return t!==void 0&&t.__brand==="features"&&(u=t,t=r,r=o,o=s),ii.ConnectionStrategy.is(t)||ii.ConnectionOptions.is(t)?k=t:(p=t,R=r,k=o),qx(p,R,k,u)}_n.createConnection=kx;function qx(t,r,o,s){let u=!1;if(!t&&!r&&process.argv.length>2){let j,N,G=process.argv.slice(2);for(let J=0;J<G.length;J++){let Z=G[J];if(Z==="--node-ipc"){t=new ii.IPCMessageReader(process),r=new ii.IPCMessageWriter(process);break}else if(Z==="--stdio"){u=!0,t=process.stdin,r=process.stdout;break}else if(Z==="--socket"){j=parseInt(G[J+1]);break}else if(Z==="--pipe"){N=G[J+1];break}else{var p=Z.split("=");if(p[0]==="--socket"){j=parseInt(p[1]);break}else if(p[0]==="--pipe"){N=p[1];break}}}if(j){let J=(0,ii.createServerSocketTransport)(j);t=J[0],r=J[1]}else if(N){let J=(0,ii.createServerPipeTransport)(N);t=J[0],r=J[1]}}var R="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+R);if(!r)throw new Error("Connection output stream is not set. "+R);if(wf.func(t.read)&&wf.func(t.on)){let j=t;j.on("end",()=>{za(),process.exit(Vi?0:1)}),j.on("close",()=>{za(),process.exit(Vi?0:1)})}let k=j=>{let N=(0,ii.createProtocolConnection)(t,r,j,o);return u&&Ox(j),N};return(0,xx.createConnection)(k,Ex,s)}function Ox(t){function r(s){return s.map(u=>typeof u=="string"?u:(0,Cv.inspect)(u)).join(" ")}let o=new Map;console.assert=function(u,...p){if(!u)if(p.length===0)t.error("Assertion failed");else{let[R,...k]=p;t.error(`Assertion failed: ${R} ${r(k)}`)}},console.count=function(u="default"){let p=String(u),R=o.get(p)??0;R+=1,o.set(p,R),t.log(`${p}: ${p}`)},console.countReset=function(u){u===void 0?o.clear():o.delete(String(u))},console.debug=function(...u){t.log(r(u))},console.dir=function(u,p){t.log((0,Cv.inspect)(u,p))},console.log=function(...u){t.log(r(u))},console.error=function(...u){t.error(r(u))},console.trace=function(...u){let p=new Error().stack.replace(/(.+\n){2}/,""),R="Trace";u.length!==0&&(R+=`: ${r(u)}`),t.log(`${R}
${p}`)},console.warn=function(...u){t.warn(r(u))}}});var Iv=V((k1,Ov)=>{"use strict";Ov.exports=qv()});var Wv=V((Ji,ko)=>{"use strict";(function(){var t,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",p="Invalid `variable` option passed into `_.template`",R="__lodash_hash_undefined__",k=500,j="__lodash_placeholder__",N=1,G=2,J=4,Z=1,be=2,K=1,se=2,B=4,ne=8,P=16,D=32,I=64,ee=128,we=256,Le=512,ct=30,en="...",Re=800,Ne=16,Ze=1,yn=2,In=3,tn=1/0,nn=9007199254740991,ai=17976931348623157e292,Mn=NaN,dt=4294967295,bn=dt-1,dr=dt>>>1,Gn=[["ary",ee],["bind",K],["bindKey",se],["curry",ne],["curryRight",P],["flip",Le],["partial",D],["partialRight",I],["rearg",we]],wn="[object Arguments]",An="[object Array]",Wr="[object AsyncFunction]",Ln="[object Boolean]",Fn="[object Date]",ui="[object DOMException]",Vn="[object Error]",Jn="[object Function]",Kn="[object GeneratorFunction]",Ke="[object Map]",Nn="[object Number]",ci="[object Null]",mt="[object Object]",Ur="[object Promise]",hr="[object Proxy]",Wn="[object RegExp]",nt="[object Set]",qt="[object String]",Xn="[object Symbol]",li="[object Undefined]",bt="[object WeakMap]",jr="[object WeakSet]",Rn="[object ArrayBuffer]",Ht="[object DataView]",Yn="[object Float32Array]",Bt="[object Float64Array]",v="[object Int8Array]",M="[object Int16Array]",H="[object Int32Array]",X="[object Uint8Array]",xe="[object Uint8ClampedArray]",Ce="[object Uint16Array]",Ie="[object Uint32Array]",Ue=/\b__p \+= '';/g,pe=/\b(__p \+=) '' \+/g,Me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Se=/&(?:amp|lt|gt|quot|#39);/g,Be=/[&<>"']/g,st=RegExp(Se.source),xt=RegExp(Be.source),fi=/<%-([\s\S]+?)%>/g,Mo=/<%([\s\S]+?)%>/g,Xi=/<%=([\s\S]+?)%>/g,Ao=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lo=/^\w*$/,fu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/[\\^$.*+?()[\]{}|]/g,f=RegExp(C.source),y=/^\s+/,w=/\s/,g=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,l=/\{\n\/\* \[wrapped with (.+)\] \*/,x=/,? & /,L=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,Ge=/\\(\\)?/g,Fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ot=/\w*$/,$t=/^[-+]0x[0-9a-f]+$/i,Sn=/^0b[01]+$/i,_e=/^\[object .+?Constructor\]$/,gr=/^0o[0-7]+$/i,di=/^(?:0|[1-9]\d*)$/,Fo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,No=/($^)/,ny=/['\n\r\u2028\u2029\\]/g,Wo="\\ud800-\\udfff",ry="\\u0300-\\u036f",iy="\\ufe20-\\ufe2f",oy="\\u20d0-\\u20ff",If=ry+iy+oy,Mf="\\u2700-\\u27bf",Af="a-z\\xdf-\\xf6\\xf8-\\xff",sy="\\xac\\xb1\\xd7\\xf7",ay="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uy="\\u2000-\\u206f",cy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lf="A-Z\\xc0-\\xd6\\xd8-\\xde",Ff="\\ufe0e\\ufe0f",Nf=sy+ay+uy+cy,du="['\u2019]",ly="["+Wo+"]",Wf="["+Nf+"]",Uo="["+If+"]",Uf="\\d+",fy="["+Mf+"]",jf="["+Af+"]",Hf="[^"+Wo+Nf+Uf+Mf+Af+Lf+"]",hu="\\ud83c[\\udffb-\\udfff]",dy="(?:"+Uo+"|"+hu+")",Bf="[^"+Wo+"]",gu="(?:\\ud83c[\\udde6-\\uddff]){2}",pu="[\\ud800-\\udbff][\\udc00-\\udfff]",hi="["+Lf+"]",$f="\\u200d",zf="(?:"+jf+"|"+Hf+")",hy="(?:"+hi+"|"+Hf+")",Gf="(?:"+du+"(?:d|ll|m|re|s|t|ve))?",Vf="(?:"+du+"(?:D|LL|M|RE|S|T|VE))?",Jf=dy+"?",Kf="["+Ff+"]?",gy="(?:"+$f+"(?:"+[Bf,gu,pu].join("|")+")"+Kf+Jf+")*",py="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",my="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xf=Kf+Jf+gy,_y="(?:"+[fy,gu,pu].join("|")+")"+Xf,vy="(?:"+[Bf+Uo+"?",Uo,gu,pu,ly].join("|")+")",yy=RegExp(du,"g"),by=RegExp(Uo,"g"),mu=RegExp(hu+"(?="+hu+")|"+vy+Xf,"g"),wy=RegExp([hi+"?"+jf+"+"+Gf+"(?="+[Wf,hi,"$"].join("|")+")",hy+"+"+Vf+"(?="+[Wf,hi+zf,"$"].join("|")+")",hi+"?"+zf+"+"+Gf,hi+"+"+Vf,my,py,Uf,_y].join("|"),"g"),Ry=RegExp("["+$f+Wo+If+Ff+"]"),Sy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Dy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ty=-1,$e={};$e[Yn]=$e[Bt]=$e[v]=$e[M]=$e[H]=$e[X]=$e[xe]=$e[Ce]=$e[Ie]=!0,$e[wn]=$e[An]=$e[Rn]=$e[Ln]=$e[Ht]=$e[Fn]=$e[Vn]=$e[Jn]=$e[Ke]=$e[Nn]=$e[mt]=$e[Wn]=$e[nt]=$e[qt]=$e[bt]=!1;var je={};je[wn]=je[An]=je[Rn]=je[Ht]=je[Ln]=je[Fn]=je[Yn]=je[Bt]=je[v]=je[M]=je[H]=je[Ke]=je[Nn]=je[mt]=je[Wn]=je[nt]=je[qt]=je[Xn]=je[X]=je[xe]=je[Ce]=je[Ie]=!0,je[Vn]=je[Jn]=je[bt]=!1;var Cy={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},xy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Py={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ey={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ky=parseFloat,qy=parseInt,Yf=typeof global=="object"&&global&&global.Object===Object&&global,Oy=typeof self=="object"&&self&&self.Object===Object&&self,ht=Yf||Oy||Function("return this")(),_u=typeof Ji=="object"&&Ji&&!Ji.nodeType&&Ji,Hr=_u&&typeof ko=="object"&&ko&&!ko.nodeType&&ko,Zf=Hr&&Hr.exports===_u,vu=Zf&&Yf.process,rn=function(){try{var S=Hr&&Hr.require&&Hr.require("util").types;return S||vu&&vu.binding&&vu.binding("util")}catch{}}(),Qf=rn&&rn.isArrayBuffer,ed=rn&&rn.isDate,td=rn&&rn.isMap,nd=rn&&rn.isRegExp,rd=rn&&rn.isSet,id=rn&&rn.isTypedArray;function zt(S,q,E){switch(E.length){case 0:return S.call(q);case 1:return S.call(q,E[0]);case 2:return S.call(q,E[0],E[1]);case 3:return S.call(q,E[0],E[1],E[2])}return S.apply(q,E)}function Iy(S,q,E,Y){for(var ce=-1,Ee=S==null?0:S.length;++ce<Ee;){var lt=S[ce];q(Y,lt,E(lt),S)}return Y}function on(S,q){for(var E=-1,Y=S==null?0:S.length;++E<Y&&q(S[E],E,S)!==!1;);return S}function My(S,q){for(var E=S==null?0:S.length;E--&&q(S[E],E,S)!==!1;);return S}function od(S,q){for(var E=-1,Y=S==null?0:S.length;++E<Y;)if(!q(S[E],E,S))return!1;return!0}function pr(S,q){for(var E=-1,Y=S==null?0:S.length,ce=0,Ee=[];++E<Y;){var lt=S[E];q(lt,E,S)&&(Ee[ce++]=lt)}return Ee}function jo(S,q){var E=S==null?0:S.length;return!!E&&gi(S,q,0)>-1}function yu(S,q,E){for(var Y=-1,ce=S==null?0:S.length;++Y<ce;)if(E(q,S[Y]))return!0;return!1}function Ve(S,q){for(var E=-1,Y=S==null?0:S.length,ce=Array(Y);++E<Y;)ce[E]=q(S[E],E,S);return ce}function mr(S,q){for(var E=-1,Y=q.length,ce=S.length;++E<Y;)S[ce+E]=q[E];return S}function bu(S,q,E,Y){var ce=-1,Ee=S==null?0:S.length;for(Y&&Ee&&(E=S[++ce]);++ce<Ee;)E=q(E,S[ce],ce,S);return E}function Ay(S,q,E,Y){var ce=S==null?0:S.length;for(Y&&ce&&(E=S[--ce]);ce--;)E=q(E,S[ce],ce,S);return E}function wu(S,q){for(var E=-1,Y=S==null?0:S.length;++E<Y;)if(q(S[E],E,S))return!0;return!1}var Ly=Ru("length");function Fy(S){return S.split("")}function Ny(S){return S.match(L)||[]}function sd(S,q,E){var Y;return E(S,function(ce,Ee,lt){if(q(ce,Ee,lt))return Y=Ee,!1}),Y}function Ho(S,q,E,Y){for(var ce=S.length,Ee=E+(Y?1:-1);Y?Ee--:++Ee<ce;)if(q(S[Ee],Ee,S))return Ee;return-1}function gi(S,q,E){return q===q?Xy(S,q,E):Ho(S,ad,E)}function Wy(S,q,E,Y){for(var ce=E-1,Ee=S.length;++ce<Ee;)if(Y(S[ce],q))return ce;return-1}function ad(S){return S!==S}function ud(S,q){var E=S==null?0:S.length;return E?Du(S,q)/E:Mn}function Ru(S){return function(q){return q==null?t:q[S]}}function Su(S){return function(q){return S==null?t:S[q]}}function cd(S,q,E,Y,ce){return ce(S,function(Ee,lt,We){E=Y?(Y=!1,Ee):q(E,Ee,lt,We)}),E}function Uy(S,q){var E=S.length;for(S.sort(q);E--;)S[E]=S[E].value;return S}function Du(S,q){for(var E,Y=-1,ce=S.length;++Y<ce;){var Ee=q(S[Y]);Ee!==t&&(E=E===t?Ee:E+Ee)}return E}function Tu(S,q){for(var E=-1,Y=Array(S);++E<S;)Y[E]=q(E);return Y}function jy(S,q){return Ve(q,function(E){return[E,S[E]]})}function ld(S){return S&&S.slice(0,gd(S)+1).replace(y,"")}function Gt(S){return function(q){return S(q)}}function Cu(S,q){return Ve(q,function(E){return S[E]})}function Yi(S,q){return S.has(q)}function fd(S,q){for(var E=-1,Y=S.length;++E<Y&&gi(q,S[E],0)>-1;);return E}function dd(S,q){for(var E=S.length;E--&&gi(q,S[E],0)>-1;);return E}function Hy(S,q){for(var E=S.length,Y=0;E--;)S[E]===q&&++Y;return Y}var By=Su(Cy),$y=Su(xy);function zy(S){return"\\"+Ey[S]}function Gy(S,q){return S==null?t:S[q]}function pi(S){return Ry.test(S)}function Vy(S){return Sy.test(S)}function Jy(S){for(var q,E=[];!(q=S.next()).done;)E.push(q.value);return E}function xu(S){var q=-1,E=Array(S.size);return S.forEach(function(Y,ce){E[++q]=[ce,Y]}),E}function hd(S,q){return function(E){return S(q(E))}}function _r(S,q){for(var E=-1,Y=S.length,ce=0,Ee=[];++E<Y;){var lt=S[E];(lt===q||lt===j)&&(S[E]=j,Ee[ce++]=E)}return Ee}function Bo(S){var q=-1,E=Array(S.size);return S.forEach(function(Y){E[++q]=Y}),E}function Ky(S){var q=-1,E=Array(S.size);return S.forEach(function(Y){E[++q]=[Y,Y]}),E}function Xy(S,q,E){for(var Y=E-1,ce=S.length;++Y<ce;)if(S[Y]===q)return Y;return-1}function Yy(S,q,E){for(var Y=E+1;Y--;)if(S[Y]===q)return Y;return Y}function mi(S){return pi(S)?Qy(S):Ly(S)}function Dn(S){return pi(S)?eb(S):Fy(S)}function gd(S){for(var q=S.length;q--&&w.test(S.charAt(q)););return q}var Zy=Su(Py);function Qy(S){for(var q=mu.lastIndex=0;mu.test(S);)++q;return q}function eb(S){return S.match(mu)||[]}function tb(S){return S.match(wy)||[]}var nb=function S(q){q=q==null?ht:vr.defaults(ht.Object(),q,vr.pick(ht,Dy));var E=q.Array,Y=q.Date,ce=q.Error,Ee=q.Function,lt=q.Math,We=q.Object,Pu=q.RegExp,rb=q.String,sn=q.TypeError,$o=E.prototype,ib=Ee.prototype,_i=We.prototype,zo=q["__core-js_shared__"],Go=ib.toString,Ae=_i.hasOwnProperty,ob=0,pd=function(){var e=/[^.]+$/.exec(zo&&zo.keys&&zo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Vo=_i.toString,sb=Go.call(We),ab=ht._,ub=Pu("^"+Go.call(Ae).replace(C,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jo=Zf?q.Buffer:t,yr=q.Symbol,Ko=q.Uint8Array,md=Jo?Jo.allocUnsafe:t,Xo=hd(We.getPrototypeOf,We),_d=We.create,vd=_i.propertyIsEnumerable,Yo=$o.splice,yd=yr?yr.isConcatSpreadable:t,Zi=yr?yr.iterator:t,Br=yr?yr.toStringTag:t,Zo=function(){try{var e=Jr(We,"defineProperty");return e({},"",{}),e}catch{}}(),cb=q.clearTimeout!==ht.clearTimeout&&q.clearTimeout,lb=Y&&Y.now!==ht.Date.now&&Y.now,fb=q.setTimeout!==ht.setTimeout&&q.setTimeout,Qo=lt.ceil,es=lt.floor,Eu=We.getOwnPropertySymbols,db=Jo?Jo.isBuffer:t,bd=q.isFinite,hb=$o.join,gb=hd(We.keys,We),ft=lt.max,wt=lt.min,pb=Y.now,mb=q.parseInt,wd=lt.random,_b=$o.reverse,ku=Jr(q,"DataView"),Qi=Jr(q,"Map"),qu=Jr(q,"Promise"),vi=Jr(q,"Set"),eo=Jr(q,"WeakMap"),to=Jr(We,"create"),ts=eo&&new eo,yi={},vb=Kr(ku),yb=Kr(Qi),bb=Kr(qu),wb=Kr(vi),Rb=Kr(eo),ns=yr?yr.prototype:t,no=ns?ns.valueOf:t,Rd=ns?ns.toString:t;function d(e){if(Qe(e)&&!fe(e)&&!(e instanceof ye)){if(e instanceof an)return e;if(Ae.call(e,"__wrapped__"))return Sh(e)}return new an(e)}var bi=function(){function e(){}return function(n){if(!Xe(n))return{};if(_d)return _d(n);e.prototype=n;var i=new e;return e.prototype=t,i}}();function rs(){}function an(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}d.templateSettings={escape:fi,evaluate:Mo,interpolate:Xi,variable:"",imports:{_:d}},d.prototype=rs.prototype,d.prototype.constructor=d,an.prototype=bi(rs.prototype),an.prototype.constructor=an;function ye(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dt,this.__views__=[]}function Sb(){var e=new ye(this.__wrapped__);return e.__actions__=It(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=It(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=It(this.__views__),e}function Db(){if(this.__filtered__){var e=new ye(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Tb(){var e=this.__wrapped__.value(),n=this.__dir__,i=fe(e),a=n<0,c=i?e.length:0,h=Fw(0,c,this.__views__),_=h.start,b=h.end,T=b-_,A=a?b:_-1,F=this.__iteratees__,W=F.length,z=0,Q=wt(T,this.__takeCount__);if(!i||!a&&c==T&&Q==T)return Gd(e,this.__actions__);var ie=[];e:for(;T--&&z<Q;){A+=n;for(var ge=-1,oe=e[A];++ge<W;){var ve=F[ge],De=ve.iteratee,Kt=ve.type,kt=De(oe);if(Kt==yn)oe=kt;else if(!kt){if(Kt==Ze)continue e;break e}}ie[z++]=oe}return ie}ye.prototype=bi(rs.prototype),ye.prototype.constructor=ye;function $r(e){var n=-1,i=e==null?0:e.length;for(this.clear();++n<i;){var a=e[n];this.set(a[0],a[1])}}function Cb(){this.__data__=to?to(null):{},this.size=0}function xb(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Pb(e){var n=this.__data__;if(to){var i=n[e];return i===R?t:i}return Ae.call(n,e)?n[e]:t}function Eb(e){var n=this.__data__;return to?n[e]!==t:Ae.call(n,e)}function kb(e,n){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=to&&n===t?R:n,this}$r.prototype.clear=Cb,$r.prototype.delete=xb,$r.prototype.get=Pb,$r.prototype.has=Eb,$r.prototype.set=kb;function Zn(e){var n=-1,i=e==null?0:e.length;for(this.clear();++n<i;){var a=e[n];this.set(a[0],a[1])}}function qb(){this.__data__=[],this.size=0}function Ob(e){var n=this.__data__,i=is(n,e);if(i<0)return!1;var a=n.length-1;return i==a?n.pop():Yo.call(n,i,1),--this.size,!0}function Ib(e){var n=this.__data__,i=is(n,e);return i<0?t:n[i][1]}function Mb(e){return is(this.__data__,e)>-1}function Ab(e,n){var i=this.__data__,a=is(i,e);return a<0?(++this.size,i.push([e,n])):i[a][1]=n,this}Zn.prototype.clear=qb,Zn.prototype.delete=Ob,Zn.prototype.get=Ib,Zn.prototype.has=Mb,Zn.prototype.set=Ab;function Qn(e){var n=-1,i=e==null?0:e.length;for(this.clear();++n<i;){var a=e[n];this.set(a[0],a[1])}}function Lb(){this.size=0,this.__data__={hash:new $r,map:new(Qi||Zn),string:new $r}}function Fb(e){var n=ms(this,e).delete(e);return this.size-=n?1:0,n}function Nb(e){return ms(this,e).get(e)}function Wb(e){return ms(this,e).has(e)}function Ub(e,n){var i=ms(this,e),a=i.size;return i.set(e,n),this.size+=i.size==a?0:1,this}Qn.prototype.clear=Lb,Qn.prototype.delete=Fb,Qn.prototype.get=Nb,Qn.prototype.has=Wb,Qn.prototype.set=Ub;function zr(e){var n=-1,i=e==null?0:e.length;for(this.__data__=new Qn;++n<i;)this.add(e[n])}function jb(e){return this.__data__.set(e,R),this}function Hb(e){return this.__data__.has(e)}zr.prototype.add=zr.prototype.push=jb,zr.prototype.has=Hb;function Tn(e){var n=this.__data__=new Zn(e);this.size=n.size}function Bb(){this.__data__=new Zn,this.size=0}function $b(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}function zb(e){return this.__data__.get(e)}function Gb(e){return this.__data__.has(e)}function Vb(e,n){var i=this.__data__;if(i instanceof Zn){var a=i.__data__;if(!Qi||a.length<o-1)return a.push([e,n]),this.size=++i.size,this;i=this.__data__=new Qn(a)}return i.set(e,n),this.size=i.size,this}Tn.prototype.clear=Bb,Tn.prototype.delete=$b,Tn.prototype.get=zb,Tn.prototype.has=Gb,Tn.prototype.set=Vb;function Sd(e,n){var i=fe(e),a=!i&&Xr(e),c=!i&&!a&&Dr(e),h=!i&&!a&&!c&&Di(e),_=i||a||c||h,b=_?Tu(e.length,rb):[],T=b.length;for(var A in e)(n||Ae.call(e,A))&&!(_&&(A=="length"||c&&(A=="offset"||A=="parent")||h&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||rr(A,T)))&&b.push(A);return b}function Dd(e){var n=e.length;return n?e[Hu(0,n-1)]:t}function Jb(e,n){return _s(It(e),Gr(n,0,e.length))}function Kb(e){return _s(It(e))}function Ou(e,n,i){(i!==t&&!Cn(e[n],i)||i===t&&!(n in e))&&er(e,n,i)}function ro(e,n,i){var a=e[n];(!(Ae.call(e,n)&&Cn(a,i))||i===t&&!(n in e))&&er(e,n,i)}function is(e,n){for(var i=e.length;i--;)if(Cn(e[i][0],n))return i;return-1}function Xb(e,n,i,a){return br(e,function(c,h,_){n(a,c,i(c),_)}),a}function Td(e,n){return e&&jn(n,gt(n),e)}function Yb(e,n){return e&&jn(n,At(n),e)}function er(e,n,i){n=="__proto__"&&Zo?Zo(e,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[n]=i}function Iu(e,n){for(var i=-1,a=n.length,c=E(a),h=e==null;++i<a;)c[i]=h?t:hc(e,n[i]);return c}function Gr(e,n,i){return e===e&&(i!==t&&(e=e<=i?e:i),n!==t&&(e=e>=n?e:n)),e}function un(e,n,i,a,c,h){var _,b=n&N,T=n&G,A=n&J;if(i&&(_=c?i(e,a,c,h):i(e)),_!==t)return _;if(!Xe(e))return e;var F=fe(e);if(F){if(_=Ww(e),!b)return It(e,_)}else{var W=Rt(e),z=W==Jn||W==Kn;if(Dr(e))return Kd(e,b);if(W==mt||W==wn||z&&!c){if(_=T||z?{}:gh(e),!b)return T?Pw(e,Yb(_,e)):xw(e,Td(_,e))}else{if(!je[W])return c?e:{};_=Uw(e,W,b)}}h||(h=new Tn);var Q=h.get(e);if(Q)return Q;h.set(e,_),Bh(e)?e.forEach(function(oe){_.add(un(oe,n,i,oe,e,h))}):jh(e)&&e.forEach(function(oe,ve){_.set(ve,un(oe,n,i,ve,e,h))});var ie=A?T?Qu:Zu:T?At:gt,ge=F?t:ie(e);return on(ge||e,function(oe,ve){ge&&(ve=oe,oe=e[ve]),ro(_,ve,un(oe,n,i,ve,e,h))}),_}function Zb(e){var n=gt(e);return function(i){return Cd(i,e,n)}}function Cd(e,n,i){var a=i.length;if(e==null)return!a;for(e=We(e);a--;){var c=i[a],h=n[c],_=e[c];if(_===t&&!(c in e)||!h(_))return!1}return!0}function xd(e,n,i){if(typeof e!="function")throw new sn(u);return lo(function(){e.apply(t,i)},n)}function io(e,n,i,a){var c=-1,h=jo,_=!0,b=e.length,T=[],A=n.length;if(!b)return T;i&&(n=Ve(n,Gt(i))),a?(h=yu,_=!1):n.length>=o&&(h=Yi,_=!1,n=new zr(n));e:for(;++c<b;){var F=e[c],W=i==null?F:i(F);if(F=a||F!==0?F:0,_&&W===W){for(var z=A;z--;)if(n[z]===W)continue e;T.push(F)}else h(n,W,a)||T.push(F)}return T}var br=eh(Un),Pd=eh(Au,!0);function Qb(e,n){var i=!0;return br(e,function(a,c,h){return i=!!n(a,c,h),i}),i}function os(e,n,i){for(var a=-1,c=e.length;++a<c;){var h=e[a],_=n(h);if(_!=null&&(b===t?_===_&&!Jt(_):i(_,b)))var b=_,T=h}return T}function ew(e,n,i,a){var c=e.length;for(i=he(i),i<0&&(i=-i>c?0:c+i),a=a===t||a>c?c:he(a),a<0&&(a+=c),a=i>a?0:zh(a);i<a;)e[i++]=n;return e}function Ed(e,n){var i=[];return br(e,function(a,c,h){n(a,c,h)&&i.push(a)}),i}function _t(e,n,i,a,c){var h=-1,_=e.length;for(i||(i=Hw),c||(c=[]);++h<_;){var b=e[h];n>0&&i(b)?n>1?_t(b,n-1,i,a,c):mr(c,b):a||(c[c.length]=b)}return c}var Mu=th(),kd=th(!0);function Un(e,n){return e&&Mu(e,n,gt)}function Au(e,n){return e&&kd(e,n,gt)}function ss(e,n){return pr(n,function(i){return ir(e[i])})}function Vr(e,n){n=Rr(n,e);for(var i=0,a=n.length;e!=null&&i<a;)e=e[Hn(n[i++])];return i&&i==a?e:t}function qd(e,n,i){var a=n(e);return fe(e)?a:mr(a,i(e))}function Pt(e){return e==null?e===t?li:ci:Br&&Br in We(e)?Lw(e):Kw(e)}function Lu(e,n){return e>n}function tw(e,n){return e!=null&&Ae.call(e,n)}function nw(e,n){return e!=null&&n in We(e)}function rw(e,n,i){return e>=wt(n,i)&&e<ft(n,i)}function Fu(e,n,i){for(var a=i?yu:jo,c=e[0].length,h=e.length,_=h,b=E(h),T=1/0,A=[];_--;){var F=e[_];_&&n&&(F=Ve(F,Gt(n))),T=wt(F.length,T),b[_]=!i&&(n||c>=120&&F.length>=120)?new zr(_&&F):t}F=e[0];var W=-1,z=b[0];e:for(;++W<c&&A.length<T;){var Q=F[W],ie=n?n(Q):Q;if(Q=i||Q!==0?Q:0,!(z?Yi(z,ie):a(A,ie,i))){for(_=h;--_;){var ge=b[_];if(!(ge?Yi(ge,ie):a(e[_],ie,i)))continue e}z&&z.push(ie),A.push(Q)}}return A}function iw(e,n,i,a){return Un(e,function(c,h,_){n(a,i(c),h,_)}),a}function oo(e,n,i){n=Rr(n,e),e=vh(e,n);var a=e==null?e:e[Hn(ln(n))];return a==null?t:zt(a,e,i)}function Od(e){return Qe(e)&&Pt(e)==wn}function ow(e){return Qe(e)&&Pt(e)==Rn}function sw(e){return Qe(e)&&Pt(e)==Fn}function so(e,n,i,a,c){return e===n?!0:e==null||n==null||!Qe(e)&&!Qe(n)?e!==e&&n!==n:aw(e,n,i,a,so,c)}function aw(e,n,i,a,c,h){var _=fe(e),b=fe(n),T=_?An:Rt(e),A=b?An:Rt(n);T=T==wn?mt:T,A=A==wn?mt:A;var F=T==mt,W=A==mt,z=T==A;if(z&&Dr(e)){if(!Dr(n))return!1;_=!0,F=!1}if(z&&!F)return h||(h=new Tn),_||Di(e)?fh(e,n,i,a,c,h):Mw(e,n,T,i,a,c,h);if(!(i&Z)){var Q=F&&Ae.call(e,"__wrapped__"),ie=W&&Ae.call(n,"__wrapped__");if(Q||ie){var ge=Q?e.value():e,oe=ie?n.value():n;return h||(h=new Tn),c(ge,oe,i,a,h)}}return z?(h||(h=new Tn),Aw(e,n,i,a,c,h)):!1}function uw(e){return Qe(e)&&Rt(e)==Ke}function Nu(e,n,i,a){var c=i.length,h=c,_=!a;if(e==null)return!h;for(e=We(e);c--;){var b=i[c];if(_&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++c<h;){b=i[c];var T=b[0],A=e[T],F=b[1];if(_&&b[2]){if(A===t&&!(T in e))return!1}else{var W=new Tn;if(a)var z=a(A,F,T,e,n,W);if(!(z===t?so(F,A,Z|be,a,W):z))return!1}}return!0}function Id(e){if(!Xe(e)||$w(e))return!1;var n=ir(e)?ub:_e;return n.test(Kr(e))}function cw(e){return Qe(e)&&Pt(e)==Wn}function lw(e){return Qe(e)&&Rt(e)==nt}function fw(e){return Qe(e)&&Ss(e.length)&&!!$e[Pt(e)]}function Md(e){return typeof e=="function"?e:e==null?Lt:typeof e=="object"?fe(e)?Fd(e[0],e[1]):Ld(e):ng(e)}function Wu(e){if(!co(e))return gb(e);var n=[];for(var i in We(e))Ae.call(e,i)&&i!="constructor"&&n.push(i);return n}function dw(e){if(!Xe(e))return Jw(e);var n=co(e),i=[];for(var a in e)a=="constructor"&&(n||!Ae.call(e,a))||i.push(a);return i}function Uu(e,n){return e<n}function Ad(e,n){var i=-1,a=Mt(e)?E(e.length):[];return br(e,function(c,h,_){a[++i]=n(c,h,_)}),a}function Ld(e){var n=tc(e);return n.length==1&&n[0][2]?mh(n[0][0],n[0][1]):function(i){return i===e||Nu(i,e,n)}}function Fd(e,n){return rc(e)&&ph(n)?mh(Hn(e),n):function(i){var a=hc(i,e);return a===t&&a===n?gc(i,e):so(n,a,Z|be)}}function as(e,n,i,a,c){e!==n&&Mu(n,function(h,_){if(c||(c=new Tn),Xe(h))hw(e,n,_,i,as,a,c);else{var b=a?a(oc(e,_),h,_+"",e,n,c):t;b===t&&(b=h),Ou(e,_,b)}},At)}function hw(e,n,i,a,c,h,_){var b=oc(e,i),T=oc(n,i),A=_.get(T);if(A){Ou(e,i,A);return}var F=h?h(b,T,i+"",e,n,_):t,W=F===t;if(W){var z=fe(T),Q=!z&&Dr(T),ie=!z&&!Q&&Di(T);F=T,z||Q||ie?fe(b)?F=b:rt(b)?F=It(b):Q?(W=!1,F=Kd(T,!0)):ie?(W=!1,F=Xd(T,!0)):F=[]:fo(T)||Xr(T)?(F=b,Xr(b)?F=Gh(b):(!Xe(b)||ir(b))&&(F=gh(T))):W=!1}W&&(_.set(T,F),c(F,T,a,h,_),_.delete(T)),Ou(e,i,F)}function Nd(e,n){var i=e.length;if(i)return n+=n<0?i:0,rr(n,i)?e[n]:t}function Wd(e,n,i){n.length?n=Ve(n,function(h){return fe(h)?function(_){return Vr(_,h.length===1?h[0]:h)}:h}):n=[Lt];var a=-1;n=Ve(n,Gt(re()));var c=Ad(e,function(h,_,b){var T=Ve(n,function(A){return A(h)});return{criteria:T,index:++a,value:h}});return Uy(c,function(h,_){return Cw(h,_,i)})}function gw(e,n){return Ud(e,n,function(i,a){return gc(e,a)})}function Ud(e,n,i){for(var a=-1,c=n.length,h={};++a<c;){var _=n[a],b=Vr(e,_);i(b,_)&&ao(h,Rr(_,e),b)}return h}function pw(e){return function(n){return Vr(n,e)}}function ju(e,n,i,a){var c=a?Wy:gi,h=-1,_=n.length,b=e;for(e===n&&(n=It(n)),i&&(b=Ve(e,Gt(i)));++h<_;)for(var T=0,A=n[h],F=i?i(A):A;(T=c(b,F,T,a))>-1;)b!==e&&Yo.call(b,T,1),Yo.call(e,T,1);return e}function jd(e,n){for(var i=e?n.length:0,a=i-1;i--;){var c=n[i];if(i==a||c!==h){var h=c;rr(c)?Yo.call(e,c,1):zu(e,c)}}return e}function Hu(e,n){return e+es(wd()*(n-e+1))}function mw(e,n,i,a){for(var c=-1,h=ft(Qo((n-e)/(i||1)),0),_=E(h);h--;)_[a?h:++c]=e,e+=i;return _}function Bu(e,n){var i="";if(!e||n<1||n>nn)return i;do n%2&&(i+=e),n=es(n/2),n&&(e+=e);while(n);return i}function me(e,n){return sc(_h(e,n,Lt),e+"")}function _w(e){return Dd(Ti(e))}function vw(e,n){var i=Ti(e);return _s(i,Gr(n,0,i.length))}function ao(e,n,i,a){if(!Xe(e))return e;n=Rr(n,e);for(var c=-1,h=n.length,_=h-1,b=e;b!=null&&++c<h;){var T=Hn(n[c]),A=i;if(T==="__proto__"||T==="constructor"||T==="prototype")return e;if(c!=_){var F=b[T];A=a?a(F,T,b):t,A===t&&(A=Xe(F)?F:rr(n[c+1])?[]:{})}ro(b,T,A),b=b[T]}return e}var Hd=ts?function(e,n){return ts.set(e,n),e}:Lt,yw=Zo?function(e,n){return Zo(e,"toString",{configurable:!0,enumerable:!1,value:mc(n),writable:!0})}:Lt;function bw(e){return _s(Ti(e))}function cn(e,n,i){var a=-1,c=e.length;n<0&&(n=-n>c?0:c+n),i=i>c?c:i,i<0&&(i+=c),c=n>i?0:i-n>>>0,n>>>=0;for(var h=E(c);++a<c;)h[a]=e[a+n];return h}function ww(e,n){var i;return br(e,function(a,c,h){return i=n(a,c,h),!i}),!!i}function us(e,n,i){var a=0,c=e==null?a:e.length;if(typeof n=="number"&&n===n&&c<=dr){for(;a<c;){var h=a+c>>>1,_=e[h];_!==null&&!Jt(_)&&(i?_<=n:_<n)?a=h+1:c=h}return c}return $u(e,n,Lt,i)}function $u(e,n,i,a){var c=0,h=e==null?0:e.length;if(h===0)return 0;n=i(n);for(var _=n!==n,b=n===null,T=Jt(n),A=n===t;c<h;){var F=es((c+h)/2),W=i(e[F]),z=W!==t,Q=W===null,ie=W===W,ge=Jt(W);if(_)var oe=a||ie;else A?oe=ie&&(a||z):b?oe=ie&&z&&(a||!Q):T?oe=ie&&z&&!Q&&(a||!ge):Q||ge?oe=!1:oe=a?W<=n:W<n;oe?c=F+1:h=F}return wt(h,bn)}function Bd(e,n){for(var i=-1,a=e.length,c=0,h=[];++i<a;){var _=e[i],b=n?n(_):_;if(!i||!Cn(b,T)){var T=b;h[c++]=_===0?0:_}}return h}function $d(e){return typeof e=="number"?e:Jt(e)?Mn:+e}function Vt(e){if(typeof e=="string")return e;if(fe(e))return Ve(e,Vt)+"";if(Jt(e))return Rd?Rd.call(e):"";var n=e+"";return n=="0"&&1/e==-tn?"-0":n}function wr(e,n,i){var a=-1,c=jo,h=e.length,_=!0,b=[],T=b;if(i)_=!1,c=yu;else if(h>=o){var A=n?null:Ow(e);if(A)return Bo(A);_=!1,c=Yi,T=new zr}else T=n?[]:b;e:for(;++a<h;){var F=e[a],W=n?n(F):F;if(F=i||F!==0?F:0,_&&W===W){for(var z=T.length;z--;)if(T[z]===W)continue e;n&&T.push(W),b.push(F)}else c(T,W,i)||(T!==b&&T.push(W),b.push(F))}return b}function zu(e,n){return n=Rr(n,e),e=vh(e,n),e==null||delete e[Hn(ln(n))]}function zd(e,n,i,a){return ao(e,n,i(Vr(e,n)),a)}function cs(e,n,i,a){for(var c=e.length,h=a?c:-1;(a?h--:++h<c)&&n(e[h],h,e););return i?cn(e,a?0:h,a?h+1:c):cn(e,a?h+1:0,a?c:h)}function Gd(e,n){var i=e;return i instanceof ye&&(i=i.value()),bu(n,function(a,c){return c.func.apply(c.thisArg,mr([a],c.args))},i)}function Gu(e,n,i){var a=e.length;if(a<2)return a?wr(e[0]):[];for(var c=-1,h=E(a);++c<a;)for(var _=e[c],b=-1;++b<a;)b!=c&&(h[c]=io(h[c]||_,e[b],n,i));return wr(_t(h,1),n,i)}function Vd(e,n,i){for(var a=-1,c=e.length,h=n.length,_={};++a<c;){var b=a<h?n[a]:t;i(_,e[a],b)}return _}function Vu(e){return rt(e)?e:[]}function Ju(e){return typeof e=="function"?e:Lt}function Rr(e,n){return fe(e)?e:rc(e,n)?[e]:Rh(qe(e))}var Rw=me;function Sr(e,n,i){var a=e.length;return i=i===t?a:i,!n&&i>=a?e:cn(e,n,i)}var Jd=cb||function(e){return ht.clearTimeout(e)};function Kd(e,n){if(n)return e.slice();var i=e.length,a=md?md(i):new e.constructor(i);return e.copy(a),a}function Ku(e){var n=new e.constructor(e.byteLength);return new Ko(n).set(new Ko(e)),n}function Sw(e,n){var i=n?Ku(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function Dw(e){var n=new e.constructor(e.source,Ot.exec(e));return n.lastIndex=e.lastIndex,n}function Tw(e){return no?We(no.call(e)):{}}function Xd(e,n){var i=n?Ku(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Yd(e,n){if(e!==n){var i=e!==t,a=e===null,c=e===e,h=Jt(e),_=n!==t,b=n===null,T=n===n,A=Jt(n);if(!b&&!A&&!h&&e>n||h&&_&&T&&!b&&!A||a&&_&&T||!i&&T||!c)return 1;if(!a&&!h&&!A&&e<n||A&&i&&c&&!a&&!h||b&&i&&c||!_&&c||!T)return-1}return 0}function Cw(e,n,i){for(var a=-1,c=e.criteria,h=n.criteria,_=c.length,b=i.length;++a<_;){var T=Yd(c[a],h[a]);if(T){if(a>=b)return T;var A=i[a];return T*(A=="desc"?-1:1)}}return e.index-n.index}function Zd(e,n,i,a){for(var c=-1,h=e.length,_=i.length,b=-1,T=n.length,A=ft(h-_,0),F=E(T+A),W=!a;++b<T;)F[b]=n[b];for(;++c<_;)(W||c<h)&&(F[i[c]]=e[c]);for(;A--;)F[b++]=e[c++];return F}function Qd(e,n,i,a){for(var c=-1,h=e.length,_=-1,b=i.length,T=-1,A=n.length,F=ft(h-b,0),W=E(F+A),z=!a;++c<F;)W[c]=e[c];for(var Q=c;++T<A;)W[Q+T]=n[T];for(;++_<b;)(z||c<h)&&(W[Q+i[_]]=e[c++]);return W}function It(e,n){var i=-1,a=e.length;for(n||(n=E(a));++i<a;)n[i]=e[i];return n}function jn(e,n,i,a){var c=!i;i||(i={});for(var h=-1,_=n.length;++h<_;){var b=n[h],T=a?a(i[b],e[b],b,i,e):t;T===t&&(T=e[b]),c?er(i,b,T):ro(i,b,T)}return i}function xw(e,n){return jn(e,nc(e),n)}function Pw(e,n){return jn(e,dh(e),n)}function ls(e,n){return function(i,a){var c=fe(i)?Iy:Xb,h=n?n():{};return c(i,e,re(a,2),h)}}function wi(e){return me(function(n,i){var a=-1,c=i.length,h=c>1?i[c-1]:t,_=c>2?i[2]:t;for(h=e.length>3&&typeof h=="function"?(c--,h):t,_&&Et(i[0],i[1],_)&&(h=c<3?t:h,c=1),n=We(n);++a<c;){var b=i[a];b&&e(n,b,a,h)}return n})}function eh(e,n){return function(i,a){if(i==null)return i;if(!Mt(i))return e(i,a);for(var c=i.length,h=n?c:-1,_=We(i);(n?h--:++h<c)&&a(_[h],h,_)!==!1;);return i}}function th(e){return function(n,i,a){for(var c=-1,h=We(n),_=a(n),b=_.length;b--;){var T=_[e?b:++c];if(i(h[T],T,h)===!1)break}return n}}function Ew(e,n,i){var a=n&K,c=uo(e);function h(){var _=this&&this!==ht&&this instanceof h?c:e;return _.apply(a?i:this,arguments)}return h}function nh(e){return function(n){n=qe(n);var i=pi(n)?Dn(n):t,a=i?i[0]:n.charAt(0),c=i?Sr(i,1).join(""):n.slice(1);return a[e]()+c}}function Ri(e){return function(n){return bu(eg(Qh(n).replace(yy,"")),e,"")}}function uo(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var i=bi(e.prototype),a=e.apply(i,n);return Xe(a)?a:i}}function kw(e,n,i){var a=uo(e);function c(){for(var h=arguments.length,_=E(h),b=h,T=Si(c);b--;)_[b]=arguments[b];var A=h<3&&_[0]!==T&&_[h-1]!==T?[]:_r(_,T);if(h-=A.length,h<i)return ah(e,n,fs,c.placeholder,t,_,A,t,t,i-h);var F=this&&this!==ht&&this instanceof c?a:e;return zt(F,this,_)}return c}function rh(e){return function(n,i,a){var c=We(n);if(!Mt(n)){var h=re(i,3);n=gt(n),i=function(b){return h(c[b],b,c)}}var _=e(n,i,a);return _>-1?c[h?n[_]:_]:t}}function ih(e){return nr(function(n){var i=n.length,a=i,c=an.prototype.thru;for(e&&n.reverse();a--;){var h=n[a];if(typeof h!="function")throw new sn(u);if(c&&!_&&ps(h)=="wrapper")var _=new an([],!0)}for(a=_?a:i;++a<i;){h=n[a];var b=ps(h),T=b=="wrapper"?ec(h):t;T&&ic(T[0])&&T[1]==(ee|ne|D|we)&&!T[4].length&&T[9]==1?_=_[ps(T[0])].apply(_,T[3]):_=h.length==1&&ic(h)?_[b]():_.thru(h)}return function(){var A=arguments,F=A[0];if(_&&A.length==1&&fe(F))return _.plant(F).value();for(var W=0,z=i?n[W].apply(this,A):F;++W<i;)z=n[W].call(this,z);return z}})}function fs(e,n,i,a,c,h,_,b,T,A){var F=n&ee,W=n&K,z=n&se,Q=n&(ne|P),ie=n&Le,ge=z?t:uo(e);function oe(){for(var ve=arguments.length,De=E(ve),Kt=ve;Kt--;)De[Kt]=arguments[Kt];if(Q)var kt=Si(oe),Xt=Hy(De,kt);if(a&&(De=Zd(De,a,c,Q)),h&&(De=Qd(De,h,_,Q)),ve-=Xt,Q&&ve<A){var it=_r(De,kt);return ah(e,n,fs,oe.placeholder,i,De,it,b,T,A-ve)}var xn=W?i:this,sr=z?xn[e]:e;return ve=De.length,b?De=Xw(De,b):ie&&ve>1&&De.reverse(),F&&T<ve&&(De.length=T),this&&this!==ht&&this instanceof oe&&(sr=ge||uo(sr)),sr.apply(xn,De)}return oe}function oh(e,n){return function(i,a){return iw(i,e,n(a),{})}}function ds(e,n){return function(i,a){var c;if(i===t&&a===t)return n;if(i!==t&&(c=i),a!==t){if(c===t)return a;typeof i=="string"||typeof a=="string"?(i=Vt(i),a=Vt(a)):(i=$d(i),a=$d(a)),c=e(i,a)}return c}}function Xu(e){return nr(function(n){return n=Ve(n,Gt(re())),me(function(i){var a=this;return e(n,function(c){return zt(c,a,i)})})})}function hs(e,n){n=n===t?" ":Vt(n);var i=n.length;if(i<2)return i?Bu(n,e):n;var a=Bu(n,Qo(e/mi(n)));return pi(n)?Sr(Dn(a),0,e).join(""):a.slice(0,e)}function qw(e,n,i,a){var c=n&K,h=uo(e);function _(){for(var b=-1,T=arguments.length,A=-1,F=a.length,W=E(F+T),z=this&&this!==ht&&this instanceof _?h:e;++A<F;)W[A]=a[A];for(;T--;)W[A++]=arguments[++b];return zt(z,c?i:this,W)}return _}function sh(e){return function(n,i,a){return a&&typeof a!="number"&&Et(n,i,a)&&(i=a=t),n=or(n),i===t?(i=n,n=0):i=or(i),a=a===t?n<i?1:-1:or(a),mw(n,i,a,e)}}function gs(e){return function(n,i){return typeof n=="string"&&typeof i=="string"||(n=fn(n),i=fn(i)),e(n,i)}}function ah(e,n,i,a,c,h,_,b,T,A){var F=n&ne,W=F?_:t,z=F?t:_,Q=F?h:t,ie=F?t:h;n|=F?D:I,n&=~(F?I:D),n&B||(n&=~(K|se));var ge=[e,n,c,Q,W,ie,z,b,T,A],oe=i.apply(t,ge);return ic(e)&&yh(oe,ge),oe.placeholder=a,bh(oe,e,n)}function Yu(e){var n=lt[e];return function(i,a){if(i=fn(i),a=a==null?0:wt(he(a),292),a&&bd(i)){var c=(qe(i)+"e").split("e"),h=n(c[0]+"e"+(+c[1]+a));return c=(qe(h)+"e").split("e"),+(c[0]+"e"+(+c[1]-a))}return n(i)}}var Ow=vi&&1/Bo(new vi([,-0]))[1]==tn?function(e){return new vi(e)}:yc;function uh(e){return function(n){var i=Rt(n);return i==Ke?xu(n):i==nt?Ky(n):jy(n,e(n))}}function tr(e,n,i,a,c,h,_,b){var T=n&se;if(!T&&typeof e!="function")throw new sn(u);var A=a?a.length:0;if(A||(n&=~(D|I),a=c=t),_=_===t?_:ft(he(_),0),b=b===t?b:he(b),A-=c?c.length:0,n&I){var F=a,W=c;a=c=t}var z=T?t:ec(e),Q=[e,n,i,a,c,F,W,h,_,b];if(z&&Vw(Q,z),e=Q[0],n=Q[1],i=Q[2],a=Q[3],c=Q[4],b=Q[9]=Q[9]===t?T?0:e.length:ft(Q[9]-A,0),!b&&n&(ne|P)&&(n&=~(ne|P)),!n||n==K)var ie=Ew(e,n,i);else n==ne||n==P?ie=kw(e,n,b):(n==D||n==(K|D))&&!c.length?ie=qw(e,n,i,a):ie=fs.apply(t,Q);var ge=z?Hd:yh;return bh(ge(ie,Q),e,n)}function ch(e,n,i,a){return e===t||Cn(e,_i[i])&&!Ae.call(a,i)?n:e}function lh(e,n,i,a,c,h){return Xe(e)&&Xe(n)&&(h.set(n,e),as(e,n,t,lh,h),h.delete(n)),e}function Iw(e){return fo(e)?t:e}function fh(e,n,i,a,c,h){var _=i&Z,b=e.length,T=n.length;if(b!=T&&!(_&&T>b))return!1;var A=h.get(e),F=h.get(n);if(A&&F)return A==n&&F==e;var W=-1,z=!0,Q=i&be?new zr:t;for(h.set(e,n),h.set(n,e);++W<b;){var ie=e[W],ge=n[W];if(a)var oe=_?a(ge,ie,W,n,e,h):a(ie,ge,W,e,n,h);if(oe!==t){if(oe)continue;z=!1;break}if(Q){if(!wu(n,function(ve,De){if(!Yi(Q,De)&&(ie===ve||c(ie,ve,i,a,h)))return Q.push(De)})){z=!1;break}}else if(!(ie===ge||c(ie,ge,i,a,h))){z=!1;break}}return h.delete(e),h.delete(n),z}function Mw(e,n,i,a,c,h,_){switch(i){case Ht:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Rn:return!(e.byteLength!=n.byteLength||!h(new Ko(e),new Ko(n)));case Ln:case Fn:case Nn:return Cn(+e,+n);case Vn:return e.name==n.name&&e.message==n.message;case Wn:case qt:return e==n+"";case Ke:var b=xu;case nt:var T=a&Z;if(b||(b=Bo),e.size!=n.size&&!T)return!1;var A=_.get(e);if(A)return A==n;a|=be,_.set(e,n);var F=fh(b(e),b(n),a,c,h,_);return _.delete(e),F;case Xn:if(no)return no.call(e)==no.call(n)}return!1}function Aw(e,n,i,a,c,h){var _=i&Z,b=Zu(e),T=b.length,A=Zu(n),F=A.length;if(T!=F&&!_)return!1;for(var W=T;W--;){var z=b[W];if(!(_?z in n:Ae.call(n,z)))return!1}var Q=h.get(e),ie=h.get(n);if(Q&&ie)return Q==n&&ie==e;var ge=!0;h.set(e,n),h.set(n,e);for(var oe=_;++W<T;){z=b[W];var ve=e[z],De=n[z];if(a)var Kt=_?a(De,ve,z,n,e,h):a(ve,De,z,e,n,h);if(!(Kt===t?ve===De||c(ve,De,i,a,h):Kt)){ge=!1;break}oe||(oe=z=="constructor")}if(ge&&!oe){var kt=e.constructor,Xt=n.constructor;kt!=Xt&&"constructor"in e&&"constructor"in n&&!(typeof kt=="function"&&kt instanceof kt&&typeof Xt=="function"&&Xt instanceof Xt)&&(ge=!1)}return h.delete(e),h.delete(n),ge}function nr(e){return sc(_h(e,t,Ch),e+"")}function Zu(e){return qd(e,gt,nc)}function Qu(e){return qd(e,At,dh)}var ec=ts?function(e){return ts.get(e)}:yc;function ps(e){for(var n=e.name+"",i=yi[n],a=Ae.call(yi,n)?i.length:0;a--;){var c=i[a],h=c.func;if(h==null||h==e)return c.name}return n}function Si(e){var n=Ae.call(d,"placeholder")?d:e;return n.placeholder}function re(){var e=d.iteratee||_c;return e=e===_c?Md:e,arguments.length?e(arguments[0],arguments[1]):e}function ms(e,n){var i=e.__data__;return Bw(n)?i[typeof n=="string"?"string":"hash"]:i.map}function tc(e){for(var n=gt(e),i=n.length;i--;){var a=n[i],c=e[a];n[i]=[a,c,ph(c)]}return n}function Jr(e,n){var i=Gy(e,n);return Id(i)?i:t}function Lw(e){var n=Ae.call(e,Br),i=e[Br];try{e[Br]=t;var a=!0}catch{}var c=Vo.call(e);return a&&(n?e[Br]=i:delete e[Br]),c}var nc=Eu?function(e){return e==null?[]:(e=We(e),pr(Eu(e),function(n){return vd.call(e,n)}))}:bc,dh=Eu?function(e){for(var n=[];e;)mr(n,nc(e)),e=Xo(e);return n}:bc,Rt=Pt;(ku&&Rt(new ku(new ArrayBuffer(1)))!=Ht||Qi&&Rt(new Qi)!=Ke||qu&&Rt(qu.resolve())!=Ur||vi&&Rt(new vi)!=nt||eo&&Rt(new eo)!=bt)&&(Rt=function(e){var n=Pt(e),i=n==mt?e.constructor:t,a=i?Kr(i):"";if(a)switch(a){case vb:return Ht;case yb:return Ke;case bb:return Ur;case wb:return nt;case Rb:return bt}return n});function Fw(e,n,i){for(var a=-1,c=i.length;++a<c;){var h=i[a],_=h.size;switch(h.type){case"drop":e+=_;break;case"dropRight":n-=_;break;case"take":n=wt(n,e+_);break;case"takeRight":e=ft(e,n-_);break}}return{start:e,end:n}}function Nw(e){var n=e.match(l);return n?n[1].split(x):[]}function hh(e,n,i){n=Rr(n,e);for(var a=-1,c=n.length,h=!1;++a<c;){var _=Hn(n[a]);if(!(h=e!=null&&i(e,_)))break;e=e[_]}return h||++a!=c?h:(c=e==null?0:e.length,!!c&&Ss(c)&&rr(_,c)&&(fe(e)||Xr(e)))}function Ww(e){var n=e.length,i=new e.constructor(n);return n&&typeof e[0]=="string"&&Ae.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function gh(e){return typeof e.constructor=="function"&&!co(e)?bi(Xo(e)):{}}function Uw(e,n,i){var a=e.constructor;switch(n){case Rn:return Ku(e);case Ln:case Fn:return new a(+e);case Ht:return Sw(e,i);case Yn:case Bt:case v:case M:case H:case X:case xe:case Ce:case Ie:return Xd(e,i);case Ke:return new a;case Nn:case qt:return new a(e);case Wn:return Dw(e);case nt:return new a;case Xn:return Tw(e)}}function jw(e,n){var i=n.length;if(!i)return e;var a=i-1;return n[a]=(i>1?"& ":"")+n[a],n=n.join(i>2?", ":" "),e.replace(g,`{
/* [wrapped with `+n+`] */
`)}function Hw(e){return fe(e)||Xr(e)||!!(yd&&e&&e[yd])}function rr(e,n){var i=typeof e;return n=n??nn,!!n&&(i=="number"||i!="symbol"&&di.test(e))&&e>-1&&e%1==0&&e<n}function Et(e,n,i){if(!Xe(i))return!1;var a=typeof n;return(a=="number"?Mt(i)&&rr(n,i.length):a=="string"&&n in i)?Cn(i[n],e):!1}function rc(e,n){if(fe(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||Jt(e)?!0:Lo.test(e)||!Ao.test(e)||n!=null&&e in We(n)}function Bw(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function ic(e){var n=ps(e),i=d[n];if(typeof i!="function"||!(n in ye.prototype))return!1;if(e===i)return!0;var a=ec(i);return!!a&&e===a[0]}function $w(e){return!!pd&&pd in e}var zw=zo?ir:wc;function co(e){var n=e&&e.constructor,i=typeof n=="function"&&n.prototype||_i;return e===i}function ph(e){return e===e&&!Xe(e)}function mh(e,n){return function(i){return i==null?!1:i[e]===n&&(n!==t||e in We(i))}}function Gw(e){var n=ws(e,function(a){return i.size===k&&i.clear(),a}),i=n.cache;return n}function Vw(e,n){var i=e[1],a=n[1],c=i|a,h=c<(K|se|ee),_=a==ee&&i==ne||a==ee&&i==we&&e[7].length<=n[8]||a==(ee|we)&&n[7].length<=n[8]&&i==ne;if(!(h||_))return e;a&K&&(e[2]=n[2],c|=i&K?0:B);var b=n[3];if(b){var T=e[3];e[3]=T?Zd(T,b,n[4]):b,e[4]=T?_r(e[3],j):n[4]}return b=n[5],b&&(T=e[5],e[5]=T?Qd(T,b,n[6]):b,e[6]=T?_r(e[5],j):n[6]),b=n[7],b&&(e[7]=b),a&ee&&(e[8]=e[8]==null?n[8]:wt(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=c,e}function Jw(e){var n=[];if(e!=null)for(var i in We(e))n.push(i);return n}function Kw(e){return Vo.call(e)}function _h(e,n,i){return n=ft(n===t?e.length-1:n,0),function(){for(var a=arguments,c=-1,h=ft(a.length-n,0),_=E(h);++c<h;)_[c]=a[n+c];c=-1;for(var b=E(n+1);++c<n;)b[c]=a[c];return b[n]=i(_),zt(e,this,b)}}function vh(e,n){return n.length<2?e:Vr(e,cn(n,0,-1))}function Xw(e,n){for(var i=e.length,a=wt(n.length,i),c=It(e);a--;){var h=n[a];e[a]=rr(h,i)?c[h]:t}return e}function oc(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var yh=wh(Hd),lo=fb||function(e,n){return ht.setTimeout(e,n)},sc=wh(yw);function bh(e,n,i){var a=n+"";return sc(e,jw(a,Yw(Nw(a),i)))}function wh(e){var n=0,i=0;return function(){var a=pb(),c=Ne-(a-i);if(i=a,c>0){if(++n>=Re)return arguments[0]}else n=0;return e.apply(t,arguments)}}function _s(e,n){var i=-1,a=e.length,c=a-1;for(n=n===t?a:n;++i<n;){var h=Hu(i,c),_=e[h];e[h]=e[i],e[i]=_}return e.length=n,e}var Rh=Gw(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(fu,function(i,a,c,h){n.push(c?h.replace(Ge,"$1"):a||i)}),n});function Hn(e){if(typeof e=="string"||Jt(e))return e;var n=e+"";return n=="0"&&1/e==-tn?"-0":n}function Kr(e){if(e!=null){try{return Go.call(e)}catch{}try{return e+""}catch{}}return""}function Yw(e,n){return on(Gn,function(i){var a="_."+i[0];n&i[1]&&!jo(e,a)&&e.push(a)}),e.sort()}function Sh(e){if(e instanceof ye)return e.clone();var n=new an(e.__wrapped__,e.__chain__);return n.__actions__=It(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function Zw(e,n,i){(i?Et(e,n,i):n===t)?n=1:n=ft(he(n),0);var a=e==null?0:e.length;if(!a||n<1)return[];for(var c=0,h=0,_=E(Qo(a/n));c<a;)_[h++]=cn(e,c,c+=n);return _}function Qw(e){for(var n=-1,i=e==null?0:e.length,a=0,c=[];++n<i;){var h=e[n];h&&(c[a++]=h)}return c}function e0(){var e=arguments.length;if(!e)return[];for(var n=E(e-1),i=arguments[0],a=e;a--;)n[a-1]=arguments[a];return mr(fe(i)?It(i):[i],_t(n,1))}var t0=me(function(e,n){return rt(e)?io(e,_t(n,1,rt,!0)):[]}),n0=me(function(e,n){var i=ln(n);return rt(i)&&(i=t),rt(e)?io(e,_t(n,1,rt,!0),re(i,2)):[]}),r0=me(function(e,n){var i=ln(n);return rt(i)&&(i=t),rt(e)?io(e,_t(n,1,rt,!0),t,i):[]});function i0(e,n,i){var a=e==null?0:e.length;return a?(n=i||n===t?1:he(n),cn(e,n<0?0:n,a)):[]}function o0(e,n,i){var a=e==null?0:e.length;return a?(n=i||n===t?1:he(n),n=a-n,cn(e,0,n<0?0:n)):[]}function s0(e,n){return e&&e.length?cs(e,re(n,3),!0,!0):[]}function a0(e,n){return e&&e.length?cs(e,re(n,3),!0):[]}function u0(e,n,i,a){var c=e==null?0:e.length;return c?(i&&typeof i!="number"&&Et(e,n,i)&&(i=0,a=c),ew(e,n,i,a)):[]}function Dh(e,n,i){var a=e==null?0:e.length;if(!a)return-1;var c=i==null?0:he(i);return c<0&&(c=ft(a+c,0)),Ho(e,re(n,3),c)}function Th(e,n,i){var a=e==null?0:e.length;if(!a)return-1;var c=a-1;return i!==t&&(c=he(i),c=i<0?ft(a+c,0):wt(c,a-1)),Ho(e,re(n,3),c,!0)}function Ch(e){var n=e==null?0:e.length;return n?_t(e,1):[]}function c0(e){var n=e==null?0:e.length;return n?_t(e,tn):[]}function l0(e,n){var i=e==null?0:e.length;return i?(n=n===t?1:he(n),_t(e,n)):[]}function f0(e){for(var n=-1,i=e==null?0:e.length,a={};++n<i;){var c=e[n];a[c[0]]=c[1]}return a}function xh(e){return e&&e.length?e[0]:t}function d0(e,n,i){var a=e==null?0:e.length;if(!a)return-1;var c=i==null?0:he(i);return c<0&&(c=ft(a+c,0)),gi(e,n,c)}function h0(e){var n=e==null?0:e.length;return n?cn(e,0,-1):[]}var g0=me(function(e){var n=Ve(e,Vu);return n.length&&n[0]===e[0]?Fu(n):[]}),p0=me(function(e){var n=ln(e),i=Ve(e,Vu);return n===ln(i)?n=t:i.pop(),i.length&&i[0]===e[0]?Fu(i,re(n,2)):[]}),m0=me(function(e){var n=ln(e),i=Ve(e,Vu);return n=typeof n=="function"?n:t,n&&i.pop(),i.length&&i[0]===e[0]?Fu(i,t,n):[]});function _0(e,n){return e==null?"":hb.call(e,n)}function ln(e){var n=e==null?0:e.length;return n?e[n-1]:t}function v0(e,n,i){var a=e==null?0:e.length;if(!a)return-1;var c=a;return i!==t&&(c=he(i),c=c<0?ft(a+c,0):wt(c,a-1)),n===n?Yy(e,n,c):Ho(e,ad,c,!0)}function y0(e,n){return e&&e.length?Nd(e,he(n)):t}var b0=me(Ph);function Ph(e,n){return e&&e.length&&n&&n.length?ju(e,n):e}function w0(e,n,i){return e&&e.length&&n&&n.length?ju(e,n,re(i,2)):e}function R0(e,n,i){return e&&e.length&&n&&n.length?ju(e,n,t,i):e}var S0=nr(function(e,n){var i=e==null?0:e.length,a=Iu(e,n);return jd(e,Ve(n,function(c){return rr(c,i)?+c:c}).sort(Yd)),a});function D0(e,n){var i=[];if(!(e&&e.length))return i;var a=-1,c=[],h=e.length;for(n=re(n,3);++a<h;){var _=e[a];n(_,a,e)&&(i.push(_),c.push(a))}return jd(e,c),i}function ac(e){return e==null?e:_b.call(e)}function T0(e,n,i){var a=e==null?0:e.length;return a?(i&&typeof i!="number"&&Et(e,n,i)?(n=0,i=a):(n=n==null?0:he(n),i=i===t?a:he(i)),cn(e,n,i)):[]}function C0(e,n){return us(e,n)}function x0(e,n,i){return $u(e,n,re(i,2))}function P0(e,n){var i=e==null?0:e.length;if(i){var a=us(e,n);if(a<i&&Cn(e[a],n))return a}return-1}function E0(e,n){return us(e,n,!0)}function k0(e,n,i){return $u(e,n,re(i,2),!0)}function q0(e,n){var i=e==null?0:e.length;if(i){var a=us(e,n,!0)-1;if(Cn(e[a],n))return a}return-1}function O0(e){return e&&e.length?Bd(e):[]}function I0(e,n){return e&&e.length?Bd(e,re(n,2)):[]}function M0(e){var n=e==null?0:e.length;return n?cn(e,1,n):[]}function A0(e,n,i){return e&&e.length?(n=i||n===t?1:he(n),cn(e,0,n<0?0:n)):[]}function L0(e,n,i){var a=e==null?0:e.length;return a?(n=i||n===t?1:he(n),n=a-n,cn(e,n<0?0:n,a)):[]}function F0(e,n){return e&&e.length?cs(e,re(n,3),!1,!0):[]}function N0(e,n){return e&&e.length?cs(e,re(n,3)):[]}var W0=me(function(e){return wr(_t(e,1,rt,!0))}),U0=me(function(e){var n=ln(e);return rt(n)&&(n=t),wr(_t(e,1,rt,!0),re(n,2))}),j0=me(function(e){var n=ln(e);return n=typeof n=="function"?n:t,wr(_t(e,1,rt,!0),t,n)});function H0(e){return e&&e.length?wr(e):[]}function B0(e,n){return e&&e.length?wr(e,re(n,2)):[]}function $0(e,n){return n=typeof n=="function"?n:t,e&&e.length?wr(e,t,n):[]}function uc(e){if(!(e&&e.length))return[];var n=0;return e=pr(e,function(i){if(rt(i))return n=ft(i.length,n),!0}),Tu(n,function(i){return Ve(e,Ru(i))})}function Eh(e,n){if(!(e&&e.length))return[];var i=uc(e);return n==null?i:Ve(i,function(a){return zt(n,t,a)})}var z0=me(function(e,n){return rt(e)?io(e,n):[]}),G0=me(function(e){return Gu(pr(e,rt))}),V0=me(function(e){var n=ln(e);return rt(n)&&(n=t),Gu(pr(e,rt),re(n,2))}),J0=me(function(e){var n=ln(e);return n=typeof n=="function"?n:t,Gu(pr(e,rt),t,n)}),K0=me(uc);function X0(e,n){return Vd(e||[],n||[],ro)}function Y0(e,n){return Vd(e||[],n||[],ao)}var Z0=me(function(e){var n=e.length,i=n>1?e[n-1]:t;return i=typeof i=="function"?(e.pop(),i):t,Eh(e,i)});function kh(e){var n=d(e);return n.__chain__=!0,n}function Q0(e,n){return n(e),e}function vs(e,n){return n(e)}var eR=nr(function(e){var n=e.length,i=n?e[0]:0,a=this.__wrapped__,c=function(h){return Iu(h,e)};return n>1||this.__actions__.length||!(a instanceof ye)||!rr(i)?this.thru(c):(a=a.slice(i,+i+(n?1:0)),a.__actions__.push({func:vs,args:[c],thisArg:t}),new an(a,this.__chain__).thru(function(h){return n&&!h.length&&h.push(t),h}))});function tR(){return kh(this)}function nR(){return new an(this.value(),this.__chain__)}function rR(){this.__values__===t&&(this.__values__=$h(this.value()));var e=this.__index__>=this.__values__.length,n=e?t:this.__values__[this.__index__++];return{done:e,value:n}}function iR(){return this}function oR(e){for(var n,i=this;i instanceof rs;){var a=Sh(i);a.__index__=0,a.__values__=t,n?c.__wrapped__=a:n=a;var c=a;i=i.__wrapped__}return c.__wrapped__=e,n}function sR(){var e=this.__wrapped__;if(e instanceof ye){var n=e;return this.__actions__.length&&(n=new ye(this)),n=n.reverse(),n.__actions__.push({func:vs,args:[ac],thisArg:t}),new an(n,this.__chain__)}return this.thru(ac)}function aR(){return Gd(this.__wrapped__,this.__actions__)}var uR=ls(function(e,n,i){Ae.call(e,i)?++e[i]:er(e,i,1)});function cR(e,n,i){var a=fe(e)?od:Qb;return i&&Et(e,n,i)&&(n=t),a(e,re(n,3))}function lR(e,n){var i=fe(e)?pr:Ed;return i(e,re(n,3))}var fR=rh(Dh),dR=rh(Th);function hR(e,n){return _t(ys(e,n),1)}function gR(e,n){return _t(ys(e,n),tn)}function pR(e,n,i){return i=i===t?1:he(i),_t(ys(e,n),i)}function qh(e,n){var i=fe(e)?on:br;return i(e,re(n,3))}function Oh(e,n){var i=fe(e)?My:Pd;return i(e,re(n,3))}var mR=ls(function(e,n,i){Ae.call(e,i)?e[i].push(n):er(e,i,[n])});function _R(e,n,i,a){e=Mt(e)?e:Ti(e),i=i&&!a?he(i):0;var c=e.length;return i<0&&(i=ft(c+i,0)),Ds(e)?i<=c&&e.indexOf(n,i)>-1:!!c&&gi(e,n,i)>-1}var vR=me(function(e,n,i){var a=-1,c=typeof n=="function",h=Mt(e)?E(e.length):[];return br(e,function(_){h[++a]=c?zt(n,_,i):oo(_,n,i)}),h}),yR=ls(function(e,n,i){er(e,i,n)});function ys(e,n){var i=fe(e)?Ve:Ad;return i(e,re(n,3))}function bR(e,n,i,a){return e==null?[]:(fe(n)||(n=n==null?[]:[n]),i=a?t:i,fe(i)||(i=i==null?[]:[i]),Wd(e,n,i))}var wR=ls(function(e,n,i){e[i?0:1].push(n)},function(){return[[],[]]});function RR(e,n,i){var a=fe(e)?bu:cd,c=arguments.length<3;return a(e,re(n,4),i,c,br)}function SR(e,n,i){var a=fe(e)?Ay:cd,c=arguments.length<3;return a(e,re(n,4),i,c,Pd)}function DR(e,n){var i=fe(e)?pr:Ed;return i(e,Rs(re(n,3)))}function TR(e){var n=fe(e)?Dd:_w;return n(e)}function CR(e,n,i){(i?Et(e,n,i):n===t)?n=1:n=he(n);var a=fe(e)?Jb:vw;return a(e,n)}function xR(e){var n=fe(e)?Kb:bw;return n(e)}function PR(e){if(e==null)return 0;if(Mt(e))return Ds(e)?mi(e):e.length;var n=Rt(e);return n==Ke||n==nt?e.size:Wu(e).length}function ER(e,n,i){var a=fe(e)?wu:ww;return i&&Et(e,n,i)&&(n=t),a(e,re(n,3))}var kR=me(function(e,n){if(e==null)return[];var i=n.length;return i>1&&Et(e,n[0],n[1])?n=[]:i>2&&Et(n[0],n[1],n[2])&&(n=[n[0]]),Wd(e,_t(n,1),[])}),bs=lb||function(){return ht.Date.now()};function qR(e,n){if(typeof n!="function")throw new sn(u);return e=he(e),function(){if(--e<1)return n.apply(this,arguments)}}function Ih(e,n,i){return n=i?t:n,n=e&&n==null?e.length:n,tr(e,ee,t,t,t,t,n)}function Mh(e,n){var i;if(typeof n!="function")throw new sn(u);return e=he(e),function(){return--e>0&&(i=n.apply(this,arguments)),e<=1&&(n=t),i}}var cc=me(function(e,n,i){var a=K;if(i.length){var c=_r(i,Si(cc));a|=D}return tr(e,a,n,i,c)}),Ah=me(function(e,n,i){var a=K|se;if(i.length){var c=_r(i,Si(Ah));a|=D}return tr(n,a,e,i,c)});function Lh(e,n,i){n=i?t:n;var a=tr(e,ne,t,t,t,t,t,n);return a.placeholder=Lh.placeholder,a}function Fh(e,n,i){n=i?t:n;var a=tr(e,P,t,t,t,t,t,n);return a.placeholder=Fh.placeholder,a}function Nh(e,n,i){var a,c,h,_,b,T,A=0,F=!1,W=!1,z=!0;if(typeof e!="function")throw new sn(u);n=fn(n)||0,Xe(i)&&(F=!!i.leading,W="maxWait"in i,h=W?ft(fn(i.maxWait)||0,n):h,z="trailing"in i?!!i.trailing:z);function Q(it){var xn=a,sr=c;return a=c=t,A=it,_=e.apply(sr,xn),_}function ie(it){return A=it,b=lo(ve,n),F?Q(it):_}function ge(it){var xn=it-T,sr=it-A,rg=n-xn;return W?wt(rg,h-sr):rg}function oe(it){var xn=it-T,sr=it-A;return T===t||xn>=n||xn<0||W&&sr>=h}function ve(){var it=bs();if(oe(it))return De(it);b=lo(ve,ge(it))}function De(it){return b=t,z&&a?Q(it):(a=c=t,_)}function Kt(){b!==t&&Jd(b),A=0,a=T=c=b=t}function kt(){return b===t?_:De(bs())}function Xt(){var it=bs(),xn=oe(it);if(a=arguments,c=this,T=it,xn){if(b===t)return ie(T);if(W)return Jd(b),b=lo(ve,n),Q(T)}return b===t&&(b=lo(ve,n)),_}return Xt.cancel=Kt,Xt.flush=kt,Xt}var OR=me(function(e,n){return xd(e,1,n)}),IR=me(function(e,n,i){return xd(e,fn(n)||0,i)});function MR(e){return tr(e,Le)}function ws(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new sn(u);var i=function(){var a=arguments,c=n?n.apply(this,a):a[0],h=i.cache;if(h.has(c))return h.get(c);var _=e.apply(this,a);return i.cache=h.set(c,_)||h,_};return i.cache=new(ws.Cache||Qn),i}ws.Cache=Qn;function Rs(e){if(typeof e!="function")throw new sn(u);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function AR(e){return Mh(2,e)}var LR=Rw(function(e,n){n=n.length==1&&fe(n[0])?Ve(n[0],Gt(re())):Ve(_t(n,1),Gt(re()));var i=n.length;return me(function(a){for(var c=-1,h=wt(a.length,i);++c<h;)a[c]=n[c].call(this,a[c]);return zt(e,this,a)})}),lc=me(function(e,n){var i=_r(n,Si(lc));return tr(e,D,t,n,i)}),Wh=me(function(e,n){var i=_r(n,Si(Wh));return tr(e,I,t,n,i)}),FR=nr(function(e,n){return tr(e,we,t,t,t,n)});function NR(e,n){if(typeof e!="function")throw new sn(u);return n=n===t?n:he(n),me(e,n)}function WR(e,n){if(typeof e!="function")throw new sn(u);return n=n==null?0:ft(he(n),0),me(function(i){var a=i[n],c=Sr(i,0,n);return a&&mr(c,a),zt(e,this,c)})}function UR(e,n,i){var a=!0,c=!0;if(typeof e!="function")throw new sn(u);return Xe(i)&&(a="leading"in i?!!i.leading:a,c="trailing"in i?!!i.trailing:c),Nh(e,n,{leading:a,maxWait:n,trailing:c})}function jR(e){return Ih(e,1)}function HR(e,n){return lc(Ju(n),e)}function BR(){if(!arguments.length)return[];var e=arguments[0];return fe(e)?e:[e]}function $R(e){return un(e,J)}function zR(e,n){return n=typeof n=="function"?n:t,un(e,J,n)}function GR(e){return un(e,N|J)}function VR(e,n){return n=typeof n=="function"?n:t,un(e,N|J,n)}function JR(e,n){return n==null||Cd(e,n,gt(n))}function Cn(e,n){return e===n||e!==e&&n!==n}var KR=gs(Lu),XR=gs(function(e,n){return e>=n}),Xr=Od(function(){return arguments}())?Od:function(e){return Qe(e)&&Ae.call(e,"callee")&&!vd.call(e,"callee")},fe=E.isArray,YR=Qf?Gt(Qf):ow;function Mt(e){return e!=null&&Ss(e.length)&&!ir(e)}function rt(e){return Qe(e)&&Mt(e)}function ZR(e){return e===!0||e===!1||Qe(e)&&Pt(e)==Ln}var Dr=db||wc,QR=ed?Gt(ed):sw;function eS(e){return Qe(e)&&e.nodeType===1&&!fo(e)}function tS(e){if(e==null)return!0;if(Mt(e)&&(fe(e)||typeof e=="string"||typeof e.splice=="function"||Dr(e)||Di(e)||Xr(e)))return!e.length;var n=Rt(e);if(n==Ke||n==nt)return!e.size;if(co(e))return!Wu(e).length;for(var i in e)if(Ae.call(e,i))return!1;return!0}function nS(e,n){return so(e,n)}function rS(e,n,i){i=typeof i=="function"?i:t;var a=i?i(e,n):t;return a===t?so(e,n,t,i):!!a}function fc(e){if(!Qe(e))return!1;var n=Pt(e);return n==Vn||n==ui||typeof e.message=="string"&&typeof e.name=="string"&&!fo(e)}function iS(e){return typeof e=="number"&&bd(e)}function ir(e){if(!Xe(e))return!1;var n=Pt(e);return n==Jn||n==Kn||n==Wr||n==hr}function Uh(e){return typeof e=="number"&&e==he(e)}function Ss(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nn}function Xe(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Qe(e){return e!=null&&typeof e=="object"}var jh=td?Gt(td):uw;function oS(e,n){return e===n||Nu(e,n,tc(n))}function sS(e,n,i){return i=typeof i=="function"?i:t,Nu(e,n,tc(n),i)}function aS(e){return Hh(e)&&e!=+e}function uS(e){if(zw(e))throw new ce(s);return Id(e)}function cS(e){return e===null}function lS(e){return e==null}function Hh(e){return typeof e=="number"||Qe(e)&&Pt(e)==Nn}function fo(e){if(!Qe(e)||Pt(e)!=mt)return!1;var n=Xo(e);if(n===null)return!0;var i=Ae.call(n,"constructor")&&n.constructor;return typeof i=="function"&&i instanceof i&&Go.call(i)==sb}var dc=nd?Gt(nd):cw;function fS(e){return Uh(e)&&e>=-nn&&e<=nn}var Bh=rd?Gt(rd):lw;function Ds(e){return typeof e=="string"||!fe(e)&&Qe(e)&&Pt(e)==qt}function Jt(e){return typeof e=="symbol"||Qe(e)&&Pt(e)==Xn}var Di=id?Gt(id):fw;function dS(e){return e===t}function hS(e){return Qe(e)&&Rt(e)==bt}function gS(e){return Qe(e)&&Pt(e)==jr}var pS=gs(Uu),mS=gs(function(e,n){return e<=n});function $h(e){if(!e)return[];if(Mt(e))return Ds(e)?Dn(e):It(e);if(Zi&&e[Zi])return Jy(e[Zi]());var n=Rt(e),i=n==Ke?xu:n==nt?Bo:Ti;return i(e)}function or(e){if(!e)return e===0?e:0;if(e=fn(e),e===tn||e===-tn){var n=e<0?-1:1;return n*ai}return e===e?e:0}function he(e){var n=or(e),i=n%1;return n===n?i?n-i:n:0}function zh(e){return e?Gr(he(e),0,dt):0}function fn(e){if(typeof e=="number")return e;if(Jt(e))return Mn;if(Xe(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Xe(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ld(e);var i=Sn.test(e);return i||gr.test(e)?qy(e.slice(2),i?2:8):$t.test(e)?Mn:+e}function Gh(e){return jn(e,At(e))}function _S(e){return e?Gr(he(e),-nn,nn):e===0?e:0}function qe(e){return e==null?"":Vt(e)}var vS=wi(function(e,n){if(co(n)||Mt(n)){jn(n,gt(n),e);return}for(var i in n)Ae.call(n,i)&&ro(e,i,n[i])}),Vh=wi(function(e,n){jn(n,At(n),e)}),Ts=wi(function(e,n,i,a){jn(n,At(n),e,a)}),yS=wi(function(e,n,i,a){jn(n,gt(n),e,a)}),bS=nr(Iu);function wS(e,n){var i=bi(e);return n==null?i:Td(i,n)}var RS=me(function(e,n){e=We(e);var i=-1,a=n.length,c=a>2?n[2]:t;for(c&&Et(n[0],n[1],c)&&(a=1);++i<a;)for(var h=n[i],_=At(h),b=-1,T=_.length;++b<T;){var A=_[b],F=e[A];(F===t||Cn(F,_i[A])&&!Ae.call(e,A))&&(e[A]=h[A])}return e}),SS=me(function(e){return e.push(t,lh),zt(Jh,t,e)});function DS(e,n){return sd(e,re(n,3),Un)}function TS(e,n){return sd(e,re(n,3),Au)}function CS(e,n){return e==null?e:Mu(e,re(n,3),At)}function xS(e,n){return e==null?e:kd(e,re(n,3),At)}function PS(e,n){return e&&Un(e,re(n,3))}function ES(e,n){return e&&Au(e,re(n,3))}function kS(e){return e==null?[]:ss(e,gt(e))}function qS(e){return e==null?[]:ss(e,At(e))}function hc(e,n,i){var a=e==null?t:Vr(e,n);return a===t?i:a}function OS(e,n){return e!=null&&hh(e,n,tw)}function gc(e,n){return e!=null&&hh(e,n,nw)}var IS=oh(function(e,n,i){n!=null&&typeof n.toString!="function"&&(n=Vo.call(n)),e[n]=i},mc(Lt)),MS=oh(function(e,n,i){n!=null&&typeof n.toString!="function"&&(n=Vo.call(n)),Ae.call(e,n)?e[n].push(i):e[n]=[i]},re),AS=me(oo);function gt(e){return Mt(e)?Sd(e):Wu(e)}function At(e){return Mt(e)?Sd(e,!0):dw(e)}function LS(e,n){var i={};return n=re(n,3),Un(e,function(a,c,h){er(i,n(a,c,h),a)}),i}function FS(e,n){var i={};return n=re(n,3),Un(e,function(a,c,h){er(i,c,n(a,c,h))}),i}var NS=wi(function(e,n,i){as(e,n,i)}),Jh=wi(function(e,n,i,a){as(e,n,i,a)}),WS=nr(function(e,n){var i={};if(e==null)return i;var a=!1;n=Ve(n,function(h){return h=Rr(h,e),a||(a=h.length>1),h}),jn(e,Qu(e),i),a&&(i=un(i,N|G|J,Iw));for(var c=n.length;c--;)zu(i,n[c]);return i});function US(e,n){return Kh(e,Rs(re(n)))}var jS=nr(function(e,n){return e==null?{}:gw(e,n)});function Kh(e,n){if(e==null)return{};var i=Ve(Qu(e),function(a){return[a]});return n=re(n),Ud(e,i,function(a,c){return n(a,c[0])})}function HS(e,n,i){n=Rr(n,e);var a=-1,c=n.length;for(c||(c=1,e=t);++a<c;){var h=e==null?t:e[Hn(n[a])];h===t&&(a=c,h=i),e=ir(h)?h.call(e):h}return e}function BS(e,n,i){return e==null?e:ao(e,n,i)}function $S(e,n,i,a){return a=typeof a=="function"?a:t,e==null?e:ao(e,n,i,a)}var Xh=uh(gt),Yh=uh(At);function zS(e,n,i){var a=fe(e),c=a||Dr(e)||Di(e);if(n=re(n,4),i==null){var h=e&&e.constructor;c?i=a?new h:[]:Xe(e)?i=ir(h)?bi(Xo(e)):{}:i={}}return(c?on:Un)(e,function(_,b,T){return n(i,_,b,T)}),i}function GS(e,n){return e==null?!0:zu(e,n)}function VS(e,n,i){return e==null?e:zd(e,n,Ju(i))}function JS(e,n,i,a){return a=typeof a=="function"?a:t,e==null?e:zd(e,n,Ju(i),a)}function Ti(e){return e==null?[]:Cu(e,gt(e))}function KS(e){return e==null?[]:Cu(e,At(e))}function XS(e,n,i){return i===t&&(i=n,n=t),i!==t&&(i=fn(i),i=i===i?i:0),n!==t&&(n=fn(n),n=n===n?n:0),Gr(fn(e),n,i)}function YS(e,n,i){return n=or(n),i===t?(i=n,n=0):i=or(i),e=fn(e),rw(e,n,i)}function ZS(e,n,i){if(i&&typeof i!="boolean"&&Et(e,n,i)&&(n=i=t),i===t&&(typeof n=="boolean"?(i=n,n=t):typeof e=="boolean"&&(i=e,e=t)),e===t&&n===t?(e=0,n=1):(e=or(e),n===t?(n=e,e=0):n=or(n)),e>n){var a=e;e=n,n=a}if(i||e%1||n%1){var c=wd();return wt(e+c*(n-e+ky("1e-"+((c+"").length-1))),n)}return Hu(e,n)}var QS=Ri(function(e,n,i){return n=n.toLowerCase(),e+(i?Zh(n):n)});function Zh(e){return pc(qe(e).toLowerCase())}function Qh(e){return e=qe(e),e&&e.replace(Fo,By).replace(by,"")}function eD(e,n,i){e=qe(e),n=Vt(n);var a=e.length;i=i===t?a:Gr(he(i),0,a);var c=i;return i-=n.length,i>=0&&e.slice(i,c)==n}function tD(e){return e=qe(e),e&&xt.test(e)?e.replace(Be,$y):e}function nD(e){return e=qe(e),e&&f.test(e)?e.replace(C,"\\$&"):e}var rD=Ri(function(e,n,i){return e+(i?"-":"")+n.toLowerCase()}),iD=Ri(function(e,n,i){return e+(i?" ":"")+n.toLowerCase()}),oD=nh("toLowerCase");function sD(e,n,i){e=qe(e),n=he(n);var a=n?mi(e):0;if(!n||a>=n)return e;var c=(n-a)/2;return hs(es(c),i)+e+hs(Qo(c),i)}function aD(e,n,i){e=qe(e),n=he(n);var a=n?mi(e):0;return n&&a<n?e+hs(n-a,i):e}function uD(e,n,i){e=qe(e),n=he(n);var a=n?mi(e):0;return n&&a<n?hs(n-a,i)+e:e}function cD(e,n,i){return i||n==null?n=0:n&&(n=+n),mb(qe(e).replace(y,""),n||0)}function lD(e,n,i){return(i?Et(e,n,i):n===t)?n=1:n=he(n),Bu(qe(e),n)}function fD(){var e=arguments,n=qe(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var dD=Ri(function(e,n,i){return e+(i?"_":"")+n.toLowerCase()});function hD(e,n,i){return i&&typeof i!="number"&&Et(e,n,i)&&(n=i=t),i=i===t?dt:i>>>0,i?(e=qe(e),e&&(typeof n=="string"||n!=null&&!dc(n))&&(n=Vt(n),!n&&pi(e))?Sr(Dn(e),0,i):e.split(n,i)):[]}var gD=Ri(function(e,n,i){return e+(i?" ":"")+pc(n)});function pD(e,n,i){return e=qe(e),i=i==null?0:Gr(he(i),0,e.length),n=Vt(n),e.slice(i,i+n.length)==n}function mD(e,n,i){var a=d.templateSettings;i&&Et(e,n,i)&&(n=t),e=qe(e),n=Ts({},n,a,ch);var c=Ts({},n.imports,a.imports,ch),h=gt(c),_=Cu(c,h),b,T,A=0,F=n.interpolate||No,W="__p += '",z=Pu((n.escape||No).source+"|"+F.source+"|"+(F===Xi?Fe:No).source+"|"+(n.evaluate||No).source+"|$","g"),Q="//# sourceURL="+(Ae.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ty+"]")+`
`;e.replace(z,function(oe,ve,De,Kt,kt,Xt){return De||(De=Kt),W+=e.slice(A,Xt).replace(ny,zy),ve&&(b=!0,W+=`' +
__e(`+ve+`) +
'`),kt&&(T=!0,W+=`';
`+kt+`;
__p += '`),De&&(W+=`' +
((__t = (`+De+`)) == null ? '' : __t) +
'`),A=Xt+oe.length,oe}),W+=`';
`;var ie=Ae.call(n,"variable")&&n.variable;if(!ie)W=`with (obj) {
`+W+`
}
`;else if(ue.test(ie))throw new ce(p);W=(T?W.replace(Ue,""):W).replace(pe,"$1").replace(Me,"$1;"),W="function("+(ie||"obj")+`) {
`+(ie?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var ge=tg(function(){return Ee(h,Q+"return "+W).apply(t,_)});if(ge.source=W,fc(ge))throw ge;return ge}function _D(e){return qe(e).toLowerCase()}function vD(e){return qe(e).toUpperCase()}function yD(e,n,i){if(e=qe(e),e&&(i||n===t))return ld(e);if(!e||!(n=Vt(n)))return e;var a=Dn(e),c=Dn(n),h=fd(a,c),_=dd(a,c)+1;return Sr(a,h,_).join("")}function bD(e,n,i){if(e=qe(e),e&&(i||n===t))return e.slice(0,gd(e)+1);if(!e||!(n=Vt(n)))return e;var a=Dn(e),c=dd(a,Dn(n))+1;return Sr(a,0,c).join("")}function wD(e,n,i){if(e=qe(e),e&&(i||n===t))return e.replace(y,"");if(!e||!(n=Vt(n)))return e;var a=Dn(e),c=fd(a,Dn(n));return Sr(a,c).join("")}function RD(e,n){var i=ct,a=en;if(Xe(n)){var c="separator"in n?n.separator:c;i="length"in n?he(n.length):i,a="omission"in n?Vt(n.omission):a}e=qe(e);var h=e.length;if(pi(e)){var _=Dn(e);h=_.length}if(i>=h)return e;var b=i-mi(a);if(b<1)return a;var T=_?Sr(_,0,b).join(""):e.slice(0,b);if(c===t)return T+a;if(_&&(b+=T.length-b),dc(c)){if(e.slice(b).search(c)){var A,F=T;for(c.global||(c=Pu(c.source,qe(Ot.exec(c))+"g")),c.lastIndex=0;A=c.exec(F);)var W=A.index;T=T.slice(0,W===t?b:W)}}else if(e.indexOf(Vt(c),b)!=b){var z=T.lastIndexOf(c);z>-1&&(T=T.slice(0,z))}return T+a}function SD(e){return e=qe(e),e&&st.test(e)?e.replace(Se,Zy):e}var DD=Ri(function(e,n,i){return e+(i?" ":"")+n.toUpperCase()}),pc=nh("toUpperCase");function eg(e,n,i){return e=qe(e),n=i?t:n,n===t?Vy(e)?tb(e):Ny(e):e.match(n)||[]}var tg=me(function(e,n){try{return zt(e,t,n)}catch(i){return fc(i)?i:new ce(i)}}),TD=nr(function(e,n){return on(n,function(i){i=Hn(i),er(e,i,cc(e[i],e))}),e});function CD(e){var n=e==null?0:e.length,i=re();return e=n?Ve(e,function(a){if(typeof a[1]!="function")throw new sn(u);return[i(a[0]),a[1]]}):[],me(function(a){for(var c=-1;++c<n;){var h=e[c];if(zt(h[0],this,a))return zt(h[1],this,a)}})}function xD(e){return Zb(un(e,N))}function mc(e){return function(){return e}}function PD(e,n){return e==null||e!==e?n:e}var ED=ih(),kD=ih(!0);function Lt(e){return e}function _c(e){return Md(typeof e=="function"?e:un(e,N))}function qD(e){return Ld(un(e,N))}function OD(e,n){return Fd(e,un(n,N))}var ID=me(function(e,n){return function(i){return oo(i,e,n)}}),MD=me(function(e,n){return function(i){return oo(e,i,n)}});function vc(e,n,i){var a=gt(n),c=ss(n,a);i==null&&!(Xe(n)&&(c.length||!a.length))&&(i=n,n=e,e=this,c=ss(n,gt(n)));var h=!(Xe(i)&&"chain"in i)||!!i.chain,_=ir(e);return on(c,function(b){var T=n[b];e[b]=T,_&&(e.prototype[b]=function(){var A=this.__chain__;if(h||A){var F=e(this.__wrapped__),W=F.__actions__=It(this.__actions__);return W.push({func:T,args:arguments,thisArg:e}),F.__chain__=A,F}return T.apply(e,mr([this.value()],arguments))})}),e}function AD(){return ht._===this&&(ht._=ab),this}function yc(){}function LD(e){return e=he(e),me(function(n){return Nd(n,e)})}var FD=Xu(Ve),ND=Xu(od),WD=Xu(wu);function ng(e){return rc(e)?Ru(Hn(e)):pw(e)}function UD(e){return function(n){return e==null?t:Vr(e,n)}}var jD=sh(),HD=sh(!0);function bc(){return[]}function wc(){return!1}function BD(){return{}}function $D(){return""}function zD(){return!0}function GD(e,n){if(e=he(e),e<1||e>nn)return[];var i=dt,a=wt(e,dt);n=re(n),e-=dt;for(var c=Tu(a,n);++i<e;)n(i);return c}function VD(e){return fe(e)?Ve(e,Hn):Jt(e)?[e]:It(Rh(qe(e)))}function JD(e){var n=++ob;return qe(e)+n}var KD=ds(function(e,n){return e+n},0),XD=Yu("ceil"),YD=ds(function(e,n){return e/n},1),ZD=Yu("floor");function QD(e){return e&&e.length?os(e,Lt,Lu):t}function eT(e,n){return e&&e.length?os(e,re(n,2),Lu):t}function tT(e){return ud(e,Lt)}function nT(e,n){return ud(e,re(n,2))}function rT(e){return e&&e.length?os(e,Lt,Uu):t}function iT(e,n){return e&&e.length?os(e,re(n,2),Uu):t}var oT=ds(function(e,n){return e*n},1),sT=Yu("round"),aT=ds(function(e,n){return e-n},0);function uT(e){return e&&e.length?Du(e,Lt):0}function cT(e,n){return e&&e.length?Du(e,re(n,2)):0}return d.after=qR,d.ary=Ih,d.assign=vS,d.assignIn=Vh,d.assignInWith=Ts,d.assignWith=yS,d.at=bS,d.before=Mh,d.bind=cc,d.bindAll=TD,d.bindKey=Ah,d.castArray=BR,d.chain=kh,d.chunk=Zw,d.compact=Qw,d.concat=e0,d.cond=CD,d.conforms=xD,d.constant=mc,d.countBy=uR,d.create=wS,d.curry=Lh,d.curryRight=Fh,d.debounce=Nh,d.defaults=RS,d.defaultsDeep=SS,d.defer=OR,d.delay=IR,d.difference=t0,d.differenceBy=n0,d.differenceWith=r0,d.drop=i0,d.dropRight=o0,d.dropRightWhile=s0,d.dropWhile=a0,d.fill=u0,d.filter=lR,d.flatMap=hR,d.flatMapDeep=gR,d.flatMapDepth=pR,d.flatten=Ch,d.flattenDeep=c0,d.flattenDepth=l0,d.flip=MR,d.flow=ED,d.flowRight=kD,d.fromPairs=f0,d.functions=kS,d.functionsIn=qS,d.groupBy=mR,d.initial=h0,d.intersection=g0,d.intersectionBy=p0,d.intersectionWith=m0,d.invert=IS,d.invertBy=MS,d.invokeMap=vR,d.iteratee=_c,d.keyBy=yR,d.keys=gt,d.keysIn=At,d.map=ys,d.mapKeys=LS,d.mapValues=FS,d.matches=qD,d.matchesProperty=OD,d.memoize=ws,d.merge=NS,d.mergeWith=Jh,d.method=ID,d.methodOf=MD,d.mixin=vc,d.negate=Rs,d.nthArg=LD,d.omit=WS,d.omitBy=US,d.once=AR,d.orderBy=bR,d.over=FD,d.overArgs=LR,d.overEvery=ND,d.overSome=WD,d.partial=lc,d.partialRight=Wh,d.partition=wR,d.pick=jS,d.pickBy=Kh,d.property=ng,d.propertyOf=UD,d.pull=b0,d.pullAll=Ph,d.pullAllBy=w0,d.pullAllWith=R0,d.pullAt=S0,d.range=jD,d.rangeRight=HD,d.rearg=FR,d.reject=DR,d.remove=D0,d.rest=NR,d.reverse=ac,d.sampleSize=CR,d.set=BS,d.setWith=$S,d.shuffle=xR,d.slice=T0,d.sortBy=kR,d.sortedUniq=O0,d.sortedUniqBy=I0,d.split=hD,d.spread=WR,d.tail=M0,d.take=A0,d.takeRight=L0,d.takeRightWhile=F0,d.takeWhile=N0,d.tap=Q0,d.throttle=UR,d.thru=vs,d.toArray=$h,d.toPairs=Xh,d.toPairsIn=Yh,d.toPath=VD,d.toPlainObject=Gh,d.transform=zS,d.unary=jR,d.union=W0,d.unionBy=U0,d.unionWith=j0,d.uniq=H0,d.uniqBy=B0,d.uniqWith=$0,d.unset=GS,d.unzip=uc,d.unzipWith=Eh,d.update=VS,d.updateWith=JS,d.values=Ti,d.valuesIn=KS,d.without=z0,d.words=eg,d.wrap=HR,d.xor=G0,d.xorBy=V0,d.xorWith=J0,d.zip=K0,d.zipObject=X0,d.zipObjectDeep=Y0,d.zipWith=Z0,d.entries=Xh,d.entriesIn=Yh,d.extend=Vh,d.extendWith=Ts,vc(d,d),d.add=KD,d.attempt=tg,d.camelCase=QS,d.capitalize=Zh,d.ceil=XD,d.clamp=XS,d.clone=$R,d.cloneDeep=GR,d.cloneDeepWith=VR,d.cloneWith=zR,d.conformsTo=JR,d.deburr=Qh,d.defaultTo=PD,d.divide=YD,d.endsWith=eD,d.eq=Cn,d.escape=tD,d.escapeRegExp=nD,d.every=cR,d.find=fR,d.findIndex=Dh,d.findKey=DS,d.findLast=dR,d.findLastIndex=Th,d.findLastKey=TS,d.floor=ZD,d.forEach=qh,d.forEachRight=Oh,d.forIn=CS,d.forInRight=xS,d.forOwn=PS,d.forOwnRight=ES,d.get=hc,d.gt=KR,d.gte=XR,d.has=OS,d.hasIn=gc,d.head=xh,d.identity=Lt,d.includes=_R,d.indexOf=d0,d.inRange=YS,d.invoke=AS,d.isArguments=Xr,d.isArray=fe,d.isArrayBuffer=YR,d.isArrayLike=Mt,d.isArrayLikeObject=rt,d.isBoolean=ZR,d.isBuffer=Dr,d.isDate=QR,d.isElement=eS,d.isEmpty=tS,d.isEqual=nS,d.isEqualWith=rS,d.isError=fc,d.isFinite=iS,d.isFunction=ir,d.isInteger=Uh,d.isLength=Ss,d.isMap=jh,d.isMatch=oS,d.isMatchWith=sS,d.isNaN=aS,d.isNative=uS,d.isNil=lS,d.isNull=cS,d.isNumber=Hh,d.isObject=Xe,d.isObjectLike=Qe,d.isPlainObject=fo,d.isRegExp=dc,d.isSafeInteger=fS,d.isSet=Bh,d.isString=Ds,d.isSymbol=Jt,d.isTypedArray=Di,d.isUndefined=dS,d.isWeakMap=hS,d.isWeakSet=gS,d.join=_0,d.kebabCase=rD,d.last=ln,d.lastIndexOf=v0,d.lowerCase=iD,d.lowerFirst=oD,d.lt=pS,d.lte=mS,d.max=QD,d.maxBy=eT,d.mean=tT,d.meanBy=nT,d.min=rT,d.minBy=iT,d.stubArray=bc,d.stubFalse=wc,d.stubObject=BD,d.stubString=$D,d.stubTrue=zD,d.multiply=oT,d.nth=y0,d.noConflict=AD,d.noop=yc,d.now=bs,d.pad=sD,d.padEnd=aD,d.padStart=uD,d.parseInt=cD,d.random=ZS,d.reduce=RR,d.reduceRight=SR,d.repeat=lD,d.replace=fD,d.result=HS,d.round=sT,d.runInContext=S,d.sample=TR,d.size=PR,d.snakeCase=dD,d.some=ER,d.sortedIndex=C0,d.sortedIndexBy=x0,d.sortedIndexOf=P0,d.sortedLastIndex=E0,d.sortedLastIndexBy=k0,d.sortedLastIndexOf=q0,d.startCase=gD,d.startsWith=pD,d.subtract=aT,d.sum=uT,d.sumBy=cT,d.template=mD,d.times=GD,d.toFinite=or,d.toInteger=he,d.toLength=zh,d.toLower=_D,d.toNumber=fn,d.toSafeInteger=_S,d.toString=qe,d.toUpper=vD,d.trim=yD,d.trimEnd=bD,d.trimStart=wD,d.truncate=RD,d.unescape=SD,d.uniqueId=JD,d.upperCase=DD,d.upperFirst=pc,d.each=qh,d.eachRight=Oh,d.first=xh,vc(d,function(){var e={};return Un(d,function(n,i){Ae.call(d.prototype,i)||(e[i]=n)}),e}(),{chain:!1}),d.VERSION=r,on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),on(["drop","take"],function(e,n){ye.prototype[e]=function(i){i=i===t?1:ft(he(i),0);var a=this.__filtered__&&!n?new ye(this):this.clone();return a.__filtered__?a.__takeCount__=wt(i,a.__takeCount__):a.__views__.push({size:wt(i,dt),type:e+(a.__dir__<0?"Right":"")}),a},ye.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),on(["filter","map","takeWhile"],function(e,n){var i=n+1,a=i==Ze||i==In;ye.prototype[e]=function(c){var h=this.clone();return h.__iteratees__.push({iteratee:re(c,3),type:i}),h.__filtered__=h.__filtered__||a,h}}),on(["head","last"],function(e,n){var i="take"+(n?"Right":"");ye.prototype[e]=function(){return this[i](1).value()[0]}}),on(["initial","tail"],function(e,n){var i="drop"+(n?"":"Right");ye.prototype[e]=function(){return this.__filtered__?new ye(this):this[i](1)}}),ye.prototype.compact=function(){return this.filter(Lt)},ye.prototype.find=function(e){return this.filter(e).head()},ye.prototype.findLast=function(e){return this.reverse().find(e)},ye.prototype.invokeMap=me(function(e,n){return typeof e=="function"?new ye(this):this.map(function(i){return oo(i,e,n)})}),ye.prototype.reject=function(e){return this.filter(Rs(re(e)))},ye.prototype.slice=function(e,n){e=he(e);var i=this;return i.__filtered__&&(e>0||n<0)?new ye(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),n!==t&&(n=he(n),i=n<0?i.dropRight(-n):i.take(n-e)),i)},ye.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ye.prototype.toArray=function(){return this.take(dt)},Un(ye.prototype,function(e,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),c=d[a?"take"+(n=="last"?"Right":""):n],h=a||/^find/.test(n);c&&(d.prototype[n]=function(){var _=this.__wrapped__,b=a?[1]:arguments,T=_ instanceof ye,A=b[0],F=T||fe(_),W=function(ve){var De=c.apply(d,mr([ve],b));return a&&z?De[0]:De};F&&i&&typeof A=="function"&&A.length!=1&&(T=F=!1);var z=this.__chain__,Q=!!this.__actions__.length,ie=h&&!z,ge=T&&!Q;if(!h&&F){_=ge?_:new ye(this);var oe=e.apply(_,b);return oe.__actions__.push({func:vs,args:[W],thisArg:t}),new an(oe,z)}return ie&&ge?e.apply(this,b):(oe=this.thru(W),ie?a?oe.value()[0]:oe.value():oe)})}),on(["pop","push","shift","sort","splice","unshift"],function(e){var n=$o[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);d.prototype[e]=function(){var c=arguments;if(a&&!this.__chain__){var h=this.value();return n.apply(fe(h)?h:[],c)}return this[i](function(_){return n.apply(fe(_)?_:[],c)})}}),Un(ye.prototype,function(e,n){var i=d[n];if(i){var a=i.name+"";Ae.call(yi,a)||(yi[a]=[]),yi[a].push({name:n,func:i})}}),yi[fs(t,se).name]=[{name:"wrapper",func:t}],ye.prototype.clone=Sb,ye.prototype.reverse=Db,ye.prototype.value=Tb,d.prototype.at=eR,d.prototype.chain=tR,d.prototype.commit=nR,d.prototype.next=rR,d.prototype.plant=oR,d.prototype.reverse=sR,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=aR,d.prototype.first=d.prototype.head,Zi&&(d.prototype[Zi]=iR),d},vr=nb();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ht._=vr,define(function(){return vr})):Hr?((Hr.exports=vr)._=vr,_u._=vr):ht._=vr}).call(Ji)});var Yx={};pT(Yx,{API_ENDPOINT:()=>Qv});module.exports=mT(Yx);var lr=Pn(require("fs")),lu=Pn(sg()),qf=Pn(require("os")),Nr=Pn(require("path"));var Ps=class t{constructor(r,o,s,u){this._uri=r,this._languageId=o,this._version=s,this._content=u,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(r){if(r){let o=this.offsetAt(r.start),s=this.offsetAt(r.end);return this._content.substring(o,s)}return this._content}update(r,o){for(let s of r)if(t.isIncremental(s)){let u=cg(s.range),p=this.offsetAt(u.start),R=this.offsetAt(u.end);this._content=this._content.substring(0,p)+s.text+this._content.substring(R,this._content.length);let k=Math.max(u.start.line,0),j=Math.max(u.end.line,0),N=this._lineOffsets,G=ag(s.text,!1,p);if(j-k===G.length)for(let Z=0,be=G.length;Z<be;Z++)N[Z+k+1]=G[Z];else G.length<1e4?N.splice(k+1,j-k,...G):this._lineOffsets=N=N.slice(0,k+1).concat(G,N.slice(j+1));let J=s.text.length-(R-p);if(J!==0)for(let Z=k+1+G.length,be=N.length;Z<be;Z++)N[Z]=N[Z]+J}else if(t.isFull(s))this._content=s.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=o}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=ag(this._content,!0)),this._lineOffsets}positionAt(r){r=Math.max(Math.min(r,this._content.length),0);let o=this.getLineOffsets(),s=0,u=o.length;if(u===0)return{line:0,character:r};for(;s<u;){let R=Math.floor((s+u)/2);o[R]>r?u=R:s=R+1}let p=s-1;return r=this.ensureBeforeEOL(r,o[p]),{line:p,character:r-o[p]}}offsetAt(r){let o=this.getLineOffsets();if(r.line>=o.length)return this._content.length;if(r.line<0)return 0;let s=o[r.line];if(r.character<=0)return s;let u=r.line+1<o.length?o[r.line+1]:this._content.length,p=Math.min(s+r.character,u);return this.ensureBeforeEOL(p,s)}ensureBeforeEOL(r,o){for(;r>o&&ug(this._content.charCodeAt(r-1));)r--;return r}get lineCount(){return this.getLineOffsets().length}static isIncremental(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range!==void 0&&(o.rangeLength===void 0||typeof o.rangeLength=="number")}static isFull(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range===void 0&&o.rangeLength===void 0}},Es;(function(t){function r(u,p,R,k){return new Ps(u,p,R,k)}t.create=r;function o(u,p,R){if(u instanceof Ps)return u.update(p,R),u;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=o;function s(u,p){let R=u.getText(),k=Rc(p.map(_T),(G,J)=>{let Z=G.range.start.line-J.range.start.line;return Z===0?G.range.start.character-J.range.start.character:Z}),j=0,N=[];for(let G of k){let J=u.offsetAt(G.range.start);if(J<j)throw new Error("Overlapping edit");J>j&&N.push(R.substring(j,J)),G.newText.length&&N.push(G.newText),j=u.offsetAt(G.range.end)}return N.push(R.substr(j)),N.join("")}t.applyEdits=s})(Es||(Es={}));function Rc(t,r){if(t.length<=1)return t;let o=t.length/2|0,s=t.slice(0,o),u=t.slice(o);Rc(s,r),Rc(u,r);let p=0,R=0,k=0;for(;p<s.length&&R<u.length;)r(s[p],u[R])<=0?t[k++]=s[p++]:t[k++]=u[R++];for(;p<s.length;)t[k++]=s[p++];for(;R<u.length;)t[k++]=u[R++];return t}function ag(t,r,o=0){let s=r?[o]:[];for(let u=0;u<t.length;u++){let p=t.charCodeAt(u);ug(p)&&(p===13&&u+1<t.length&&t.charCodeAt(u+1)===10&&u++,s.push(o+u+1))}return s}function ug(t){return t===13||t===10}function cg(t){let r=t.start,o=t.end;return r.line>o.line||r.line===o.line&&r.character>o.character?{start:o,end:r}:t}function _T(t){let r=cg(t.range);return r!==t.range?{newText:t.newText,range:r}:t}var tt=Pn(Iv());var Mv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Ix(t){return typeof t=="string"&&Mv.test(t)}var Rf=Ix;var yt=[];for(let t=0;t<256;++t)yt.push((t+256).toString(16).slice(1));function Av(t,r=0){return(yt[t[r+0]]+yt[t[r+1]]+yt[t[r+2]]+yt[t[r+3]]+"-"+yt[t[r+4]]+yt[t[r+5]]+"-"+yt[t[r+6]]+yt[t[r+7]]+"-"+yt[t[r+8]]+yt[t[r+9]]+"-"+yt[t[r+10]]+yt[t[r+11]]+yt[t[r+12]]+yt[t[r+13]]+yt[t[r+14]]+yt[t[r+15]]).toLowerCase()}var Lv=require("crypto"),Va=new Uint8Array(256),Ga=Va.length;function Sf(){return Ga>Va.length-16&&((0,Lv.randomFillSync)(Va),Ga=0),Va.slice(Ga,Ga+=16)}var Fv=require("crypto"),Df={randomUUID:Fv.randomUUID};function Mx(t,r,o){if(Df.randomUUID&&!r&&!t)return Df.randomUUID();t=t||{};let s=t.random||(t.rng||Sf)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,r){o=o||0;for(let u=0;u<16;++u)r[o+u]=s[u];return r}return Av(s)}var Po=Mx;var Ja=class extends Error{constructor(o){super(`Configured model "${o}" is not available`);this.modelName=o}};var Ka=class extends Error{constructor(){super("No models available")}};var oi=class t extends Error{constructor(o,s){super(s);this.status=o}static transientIssue(o){return new t(3,o)}static fromResponse(o){return new t(Ax(o.status),`HTTP error: ${o.status} ${o.statusText}`)}static isAPIErrorWithStatus(o,s){return o instanceof t?o.status===s:!1}static isRetriableAPIError(o){return o instanceof t?Lx.has(o.status):!1}};function Ax(t){switch(t){case 200:return 0;case 400:return 5;case 401:return 7;case 403:return 8;case 404:return 4;case 413:return 10;case 429:return 6;case 499:return 1;case 504:return 9}return t>=500&&t<600?3:2}var Lx=new Set([3,1]);function Fx(t){return t.cause instanceof String?String(t.cause):t.cause instanceof Object?JSON.stringify(t.cause):""}function On(t,r=!1){if(t instanceof Error){if(r){let o=Fx(t);if(o!=="")return`${t.message} (due to ${o})`}return t.message}return String(t)}var Nx=128*1024,Tf={gitDiff:!1,gitDiffPollingFrequencyMSec:0,additionalChatModels:"",smallSyncThreshold:15,bigSyncThreshold:1e3,enableWorkspaceManagerUi:!1,enableInstructions:!1,enableSmartPaste:!1,enableSmartPasteMinVersion:"",enableViewTextDocument:!1,bypassLanguageFilter:!1,enableHindsight:!1,maxUploadSizeBytes:Nx,vscodeNextEditMinVersion:"",vscodeFlywheelMinVersion:"",vscodeExternalSourcesInChatMinVersion:"",vscodeShareMinVersion:"",maxTrackableFileCount:25e4,maxTrackableFileCountWithoutPermission:15e4,minUploadedPercentageWithoutPermission:90,vscodeSourcesMinVersion:"",vscodeChatHintDecorationMinVersion:"",nextEditDebounceMs:400,enableCompletionFileEditEvents:!1,vscodeEnableCpuProfile:!1,verifyFolderIsSourceRepo:!1,refuseToSyncHomeDirectories:!1,enableFileLimitsForSyncingPermission:!1,enableChatMermaidDiagrams:!1,enableSummaryTitles:!1,vscodeNewThreadsMenuMinVersion:"",vscodeEditableHistoryMinVersion:""},Xa=class{constructor(r){this.logger=r;this._flags=Tf}_flags;get currentFlags(){return this._flags}update(r){this._flags=r}};function Eo(t,r,o){if(!Array.isArray(o))throw new Error(`Value of ${t}.${r} is not Array`)}function Ya(t,r,o){let s=typeof o;if(s!=="number")throw new Error(`Value of ${t}.${r} has unexpected type. Expected number, received ${s}`);return o}function Fr(t,r,o){let s=typeof o;if(s!=="string")throw new Error(`Value of ${t}.${r} has unexpected type. Expected string, received ${s}`);return o}function Cf(t,r,o){Eo(t,r,o);let s=[];for(let u of o)s.push(Fr(t,r,u));return s}function Nv(t,r,o,s=!1){if(o===null)return s;let u=typeof o;if(u!=="boolean")throw new Error(`Value of ${t}.${r} has unexpected type. Expected boolean, received ${u}`);return o}function Wx(t){return{checkpoint_id:t.checkpointId,added_blobs:t.addedBlobs.sort(),deleted_blobs:t.deletedBlobs.sort()}}var xf=class extends Error{constructor(r,o){super(`Conversion failure: ${r}. Response = ${o}`)}},Za=class t{constructor(r,o,s,u,p,R){this.config=r;this._auth=o;this.sessionId=s;this._userAgent=u;this._fetchFunction=p;this._logger=R}static defaultRequestTimeoutMs=3e4;_sequenceId=new Ef;getSessionId(){return this.sessionId}createRequestId(){return Po()}async callApi(r,o,s,u,p,R,k,j){let N=o.apiToken,G=!1;if(this._auth.useOAuth){let I=await this._auth.getSession();I&&(N=I.accessToken,G=!0,R||(R=I.tenantURL))}else R||(R=o.completionURL);if(!R)throw new Error("Please configure Augment API URL");let J;try{J=new URL(s,R)}catch(I){throw this._logger.error("Augment API URL is invalid:",I),new Pf}if(!J.protocol.startsWith("http"))throw new Error("Augment API URL must start with 'http://' or 'https://'");let Z=JSON.stringify(u,(I,ee)=>ee===void 0?null:ee),be=k??t.defaultRequestTimeoutMs,K=AbortSignal.timeout(be),se="POST",B,ne,P;try{let I={"Content-Type":"application/json","User-Agent":this._userAgent,"x-request-id":`${r}`,"x-request-session-id":`${this.sessionId}`,"x-api-version":"2"};N&&(I.Authorization=`Bearer ${N}`),ne=Date.now(),B=await Ux(this._fetchFunction(J.toString(),{method:se,headers:I,body:Z,signal:K}),be),P=Date.now()}catch(I){throw I instanceof Error?(this._logger.error(`API request ${r} to ${J.toString()} failed: ${On(I,!0)}`),oi.transientIssue(I.message)):I}if(j&&(j.rpcStart=ne,j.rpcEnd=P),!B.ok)throw B.status===499?oi.fromResponse(B):(B.status===401&&G&&this._auth.removeSession(),B.status===400&&o.enableDebugFeatures&&this._logger.error(`API request ${r} to ${J.toString()} failed: ${await B.text()}`),this._logger.error(`API request ${r} to ${J.toString()} response ${B.status}: ${B.statusText}`),oi.fromResponse(B).status===10&&this._logger.debug("object size is big"),oi.fromResponse(B));let D;try{if(B.headers.get("content-length")==="0")return;D=await B.json()}catch(I){throw this._logger.error(`API request ${r} to ${J.toString()} failed to convert response to json: ${I.message}`),I}try{return p?p(D):D}catch(I){throw new xf(On(I),JSON.stringify(D))}}_toCompletionItem(r){if(typeof r.text!="string")throw new Error(`Completion item text is not a string: ${JSON.stringify(r)}`);if(r.skipped_suffix!==void 0&&typeof r.skipped_suffix!="string")throw new Error(`Completion item skipped suffix is not a string: ${JSON.stringify(r)}`);if(r.suffix_replacement_text!==void 0&&typeof r.suffix_replacement_text!="string")throw new Error(`Completion item suffix replacement text is not a string: ${JSON.stringify(r)}`);return{text:r.text,suffixReplacementText:r.suffix_replacement_text??"",skippedSuffix:r.skipped_suffix??"",filterScore:r.filter_score??void 0}}_extractCompletions(r){return Array.isArray(r.completion_items)?r.completion_items.map(o=>this._toCompletionItem(o)):Array.isArray(r.completions)?Cf("BackCompletionResult","completions",r.completions).map(s=>({text:s,suffixReplacementText:"",skippedSuffix:""})):[{text:Fr("BackCompletionResult","text",r.text),suffixReplacementText:"",skippedSuffix:""}]}toCompleteResult(r){let o=this._extractCompletions(r),s=Cf("BackCompletionResult","unknown_blob_names/unknown_memory_names",r.unknown_blob_names??r.unknown_memory_names),u=r.checkpoint_not_found===void 0?!1:Nv("BackCompletionResult","checkpoint_not_found",r.checkpoint_not_found,!1);return{completionItems:o,unknownBlobNames:s,checkpointNotFound:u,suggestedPrefixCharCount:r.suggested_prefix_char_count,suggestedSuffixCharCount:r.suggested_suffix_char_count,completionTimeoutMs:r.completion_timeout_ms}}toFileDiffsPayload(r){return[]}async complete(r,o,s,u,p,R,k,j,N,G,J,Z,be){let K={recent_changes:N},se={model:this.config.modelName,prompt:o,suffix:s,path:u,blob_name:p,prefix_begin:R?.prefixBegin,cursor_position:R?.cursorPosition,suffix_end:R?.suffixEnd,lang:void 0,blobs:Wx(j),recency_info:K,probe_only:Z,sequence_id:this._sequenceId.next(),filter_threshold:this.config.completions.filterThreshold,edit_events:this.toFileDiffsPayload(G??[])},B=this.config;return await this.callApi(r,B,"completion",se,ne=>this.toCompleteResult(ne),void 0,J,be)}toModel(r){let o=r.completion_timeout_ms!==void 0?Ya("BackModelInfo","completion_timeout_ms",r.completion_timeout_ms):void 0;return{name:Fr("BackModelInfo","name",r.name),suggestedPrefixCharCount:Ya("BackModelInfo","suggested_prefix_char_count",r.suggested_prefix_char_count),suggestedSuffixCharCount:Ya("BackModelInfo","suggested_suffix_char_count",r.suggested_suffix_char_count),completionTimeoutMs:o}}toLanguage(r){let o=Fr("BackLanguageInfo","name",r.name),s=Fr("BackLanguageInfo","vscodeName",r.vscode_name);Eo("BackLanguageInfo","extensions",r.extensions);let u=[];for(let p of r.extensions)u.push(Fr("BackLanguageInfo","extensions",p));return{name:o,vscodeName:s,extensions:u}}toGetModelsResult(r){let o=Fr("BackGetModelsResult","default_model",r.default_model);Eo("BackGetModelsResult","models",r.models);let s=[];for(let R of r.models)s.push(this.toModel(R));let u=Tf;if(r.feature_flags!==void 0){let R=r.feature_flags.git_diff_polling_freq_msec;R!==void 0&&R>0&&(u.gitDiff=!0,u.gitDiffPollingFrequencyMSec=R),r.feature_flags.small_sync_threshold!==void 0&&(u.smallSyncThreshold=r.feature_flags.small_sync_threshold),r.feature_flags.big_sync_threshold!==void 0&&(u.bigSyncThreshold=r.feature_flags.big_sync_threshold),r.feature_flags.enable_workspace_manager_ui_launch!==void 0&&(u.enableWorkspaceManagerUi=r.feature_flags.enable_workspace_manager_ui_launch),r.feature_flags.enable_instructions!==void 0&&(u.enableInstructions=r.feature_flags.enable_instructions),r.feature_flags.enable_smart_paste!==void 0&&(u.enableSmartPaste=r.feature_flags.enable_smart_paste),r.feature_flags.enable_smart_paste_min_version!==void 0&&(u.enableSmartPasteMinVersion=r.feature_flags.enable_smart_paste_min_version),r.feature_flags.enable_view_text_document!==void 0&&(u.enableViewTextDocument=r.feature_flags.enable_view_text_document),r.feature_flags.bypass_language_filter!==void 0&&(u.bypassLanguageFilter=r.feature_flags.bypass_language_filter),r.feature_flags.additional_chat_models!==void 0&&(u.additionalChatModels=r.feature_flags.additional_chat_models),r.feature_flags.enable_hindsight!==void 0&&(u.enableHindsight=r.feature_flags.enable_hindsight),r.feature_flags.max_upload_size_bytes!==void 0&&(u.maxUploadSizeBytes=r.feature_flags.max_upload_size_bytes),r.feature_flags.vscode_next_edit_min_version!==void 0&&(u.vscodeNextEditMinVersion=r.feature_flags.vscode_next_edit_min_version),r.feature_flags.vscode_flywheel_min_version!==void 0&&(u.vscodeFlywheelMinVersion=r.feature_flags.vscode_flywheel_min_version),r.feature_flags.vscode_external_sources_in_chat_min_version!==void 0&&(u.vscodeExternalSourcesInChatMinVersion=r.feature_flags.vscode_external_sources_in_chat_min_version),r.feature_flags.vscode_share_min_version!==void 0&&(u.vscodeShareMinVersion=r.feature_flags.vscode_share_min_version),r.feature_flags.max_trackable_file_count!==void 0&&(u.maxTrackableFileCount=r.feature_flags.max_trackable_file_count),r.feature_flags.max_trackable_file_count_without_permission!==void 0&&(u.maxTrackableFileCountWithoutPermission=r.feature_flags.max_trackable_file_count_without_permission),r.feature_flags.min_uploaded_percentage_without_permission!==void 0&&(u.minUploadedPercentageWithoutPermission=r.feature_flags.min_uploaded_percentage_without_permission),r.feature_flags.vscode_sources_min_version!==void 0&&(u.vscodeSourcesMinVersion=r.feature_flags.vscode_sources_min_version),r.feature_flags.vscode_chat_hint_decoration_min_version!==void 0&&(u.vscodeChatHintDecorationMinVersion=r.feature_flags.vscode_chat_hint_decoration_min_version),r.feature_flags.next_edit_debounce_ms!==void 0&&(u.nextEditDebounceMs=r.feature_flags.next_edit_debounce_ms),r.feature_flags.enable_completion_file_edit_events!==void 0&&(u.enableCompletionFileEditEvents=r.feature_flags.enable_completion_file_edit_events),r.feature_flags.vscode_enable_cpu_profile!==void 0&&(u.vscodeEnableCpuProfile=r.feature_flags.vscode_enable_cpu_profile),r.feature_flags.verify_folder_is_source_repo!==void 0&&(u.verifyFolderIsSourceRepo=r.feature_flags.verify_folder_is_source_repo),r.feature_flags.refuse_to_sync_home_directories!==void 0&&(u.refuseToSyncHomeDirectories=r.feature_flags.refuse_to_sync_home_directories),r.feature_flags.enable_file_limits_for_syncing_permission!==void 0&&(u.enableFileLimitsForSyncingPermission=r.feature_flags.enable_file_limits_for_syncing_permission),r.feature_flags.enable_chat_mermaid_diagrams!==void 0&&(u.enableChatMermaidDiagrams=r.feature_flags.enable_chat_mermaid_diagrams),r.feature_flags.enable_summary_titles!==void 0&&(u.enableSummaryTitles=r.feature_flags.enable_summary_titles),r.feature_flags.vscode_new_threads_menu_min_version!==void 0&&(u.vscodeNewThreadsMenuMinVersion=r.feature_flags.vscode_new_threads_menu_min_version),r.feature_flags.vscode_editable_history_min_version!==void 0&&(u.vscodeEditableHistoryMinVersion=r.feature_flags.vscode_editable_history_min_version)}let p=[];if(r.languages!==void 0){Eo("BackGetModelsResult","languages",r.languages),p=[];for(let R of r.languages)p.push(this.toLanguage(R))}return{defaultModel:o,models:s,languages:p,featureFlags:u}}async getModelConfig(){let r=this.config,o=this.createRequestId();return await this.callApi(o,r,"get-models",{},u=>this.toGetModelsResult(u))}async getAccessToken(r,o,s,u){let p=this.config,R=this.createRequestId(),k={grant_type:"authorization_code",client_id:p.oauth.clientID,code_verifier:s,redirect_uri:r,code:u};return await this.callApi(R,p,"token",k,j=>j.access_token,o)}},Pf=class extends Error{constructor(){super("The completion URL setting is invalid")}},Ef=class{_sequenceId=0;next(){return this._sequenceId++}};async function Ux(t,r){let o=new Promise((s,u)=>{setTimeout(()=>{u(new Error("Execution aborted due to timeout."))},r)});return await Promise.race([t,o])}var jv=Pn(Wv()),Qa="augment.sessions",Uv=["email"],eu=class{constructor(r,o){this._context=r;this._config=o}_isLoggedIn;get useOAuth(){let r=this._config;return!!r.oauth&&!!r.oauth.url&&!!r.oauth.clientID&&!r.apiToken&&!r.completionURL}async initState(){this._isLoggedIn=!!await this.getSession()}get isLoggedIn(){return this._isLoggedIn}async saveSession(r,o){await this._context.secrets.store(Qa,JSON.stringify({accessToken:r,tenantURL:o,scopes:Uv}))}async getSession(){let r=await this._context.secrets.get(Qa);if(r){let o=JSON.parse(r);if((0,jv.isEqual)(o.scopes,Uv))return o}return null}async removeSession(){await this._context.secrets.get(Qa)&&(await this._context.secrets.delete(Qa),this._isLoggedIn=!1)}};var Ki=require("crypto"),qo=require("url"),jx=["email"],tu="augment.oauth-state",Hx=".augmentcode.com",Bx=10,nu=class{constructor(r,o,s,u,p){this._context=r;this._config=o;this._apiServer=s;this._authSession=u;this._logger=p;this.authRedirectURI=new qo.URL("vscode://augment.vscode-augment/auth/result")}authRedirectURI;async startFlow(){this._logger.info("Creating new session...");let r=await this.login();return this._logger.info(`Login url ${r}`),r}async createOAuthState(){this._logger.info("Creating OAuth state");let r=Hv((0,Ki.randomBytes)(32)),o=Hv($x(Buffer.from(r))),s=(0,Ki.randomUUID)(),u={codeVerifier:r,codeChallenge:o,state:s,creationTime:new Date().getTime()};return await this._context.secrets.store(tu,JSON.stringify(u)),this._logger.info("Created OAuth state"),u}async getOAuthState(){this._logger.info("Getting OAuth state");let r=await this._context.secrets.get(tu);if(r){let o=JSON.parse(r);if(new Date().getTime()-o.creationTime<Bx*60*1e3)return o}return null}async removeOAuthState(){this._logger.info("Removing OAuth state"),await this._context.secrets.get(tu)&&await this._context.secrets.delete(tu)}async login(){try{let r=await this.createOAuthState();return this.generateAuthorizeURL(r)}catch(r){throw await this.removeOAuthState(),r}}generateAuthorizeURL(r){let o=jx.join(" "),s=new URLSearchParams({response_type:"code",code_challenge:r.codeChallenge,code_challenge_method:"S256",client_id:this._config.oauth.clientID||"",redirect_uri:"",state:r.state,scope:o,prompt:"login"});return new qo.URL(`/authorize?${s.toString()}`,this._config.oauth.url).toString()}async processAuthRedirect(r){let o=new URLSearchParams(r.search),s=o.get("state");if(!s)throw new Error("No state");let u=await this.getOAuthState();if(!u)throw new Error("No OAuth state found");if(await this.removeOAuthState(),u.state!==s)throw new Error("Unknown state");let p=o.get("error");if(p){let j=[`(${p})`],N=o.get("error_description");throw N&&j.push(N),new Error(`OAuth request failed: ${j.join(" ")}`)}let R=o.get("code");if(!R)throw new Error("No code");let k=o.get("tenant_url");if(k){if(!new qo.URL(k).hostname.endsWith(Hx))throw new Error("OAuth request failed: invalid OAuth tenant URL")}else throw new Error("No tenant URL");try{this._logger.info("Calling get access token to retrieved access token");let j=await this._apiServer.getAccessToken("",k,u.codeVerifier,R);await this._authSession.saveSession(j,k),this._logger.info("Successfully retrieved access token")}catch{throw new Error(`If you have a firewall, please add "${k}" to your allowlist.`)}}async handleAuthURI(r){try{await this.processAuthRedirect(r)}catch(o){this._logger.warn("Failed to process auth request:",o)}}async handleAuthJson(r){let o=JSON.parse(r);if(!await this.getOAuthState())throw new Error("No OAuth state found");let u=new qo.URL(`?code=${o.code}&state=${o.state}&tenant_url=${o.tenant_url}`,this.authRedirectURI);return await this.processAuthRedirect(u),"success"}};function Hv(t){return t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function $x(t){return(0,Ki.createHash)("sha256").update(t).digest()}var ru=class t{constructor(r,o,s,u,p=t.chunkSize){this._apiServer=r;this._completionTimeoutMs=o,this._completionParams={prefixSize:s,suffixSize:u,chunkSize:p}}static chunkSize=1024;_completionTimeoutMs;_completionParams;createRequestId(){return this._apiServer.createRequestId()}get completionParams(){return this._completionParams}async complete(r,o,s,u,p,R,k,j,N,G,J,Z,be){let K=await this._apiServer.complete(r,o,s,u,p,R,k,j,N,G,J,Z,be);return K.completionTimeoutMs!==void 0&&(this._completionTimeoutMs=K.completionTimeoutMs),K.suggestedPrefixCharCount!==void 0&&(this._completionParams.prefixSize=K.suggestedPrefixCharCount),K.suggestedSuffixCharCount!==void 0&&(this._completionParams.suffixSize=K.suggestedSuffixCharCount),K.suggestedPrefixCharCount!==void 0&&(this._completionParams.chunkSize=t.chunkSize),K}};var iu=Pn(require("path"));var Oo=Pn(require("fs")),vn=Pn(require("fs/promises"));async function Bv(t){try{return(await vn.stat(t)).isDirectory()}catch{return!1}}async function $v(t){await vn.mkdir(t,{recursive:!0})}async function zv(t){return await vn.readFile(t,{encoding:"utf8"})}async function Gv(t,r){return await vn.writeFile(t,r,{encoding:"utf8"})}function Vv(t){return Oo.readFileSync(t,{encoding:"utf8"})}var ou=class t{constructor(r){this._extensionContext=r}static storageSubDir="augment-global-state";update(r,o){return this._extensionContext.globalState.update(r,o)}get(r){return this._extensionContext.globalState.get(r)}async save(r,o,s){await this._ensureStorageUriExists(s);let u=this._getFileUri(r,s);return await Gv(u,JSON.stringify(o))}async load(r,o){await this._ensureStorageUriExists(o);let s=this._getFileUri(r,o);try{let u=await zv(s);return JSON.parse(u)}catch{return}}async _ensureStorageUriExists(r){let o=this._getStorageUri(r);await Bv(o)||await $v(o)}_getStorageUri(r){return r?.uniquePerWorkspace&&this._extensionContext.storagePath?iu.default.join(this._extensionContext.storagePath,t.storageSubDir):iu.default.join(this._extensionContext.globalStoragePath,t.storageSubDir)}_getFileUri(r,o){return iu.default.join(this._getStorageUri(o),`${r}.json`)}};function Jv(t){let r=t.get("sessionId");return(r===void 0||!Rf(r))&&(r=Po(),t.update("sessionId",r)),r}var Qt=Pn(require("fs")),Io=Pn(require("path"));var kf=class{secretsPath;constructor(r){Qt.existsSync(r)||Qt.mkdirSync(r,{recursive:!0}),this.secretsPath=Io.join(r,"secrets.json"),Qt.existsSync(this.secretsPath)||Qt.writeFileSync(this.secretsPath,"{}",{mode:384})}async readSecrets(){try{let r=await Qt.promises.readFile(this.secretsPath,{encoding:"utf8"});return JSON.parse(r)}catch{return{}}}async writeSecrets(r){await Qt.promises.writeFile(this.secretsPath,JSON.stringify(r,null,2),{mode:384,encoding:"utf8"})}async get(r){return(await this.readSecrets())[r]}async store(r,o){let s=await this.readSecrets();s[r]=o,await this.writeSecrets(s)}async delete(r){let o=await this.readSecrets();r in o&&(delete o[r],await this.writeSecrets(o))}},su=class{inMemoryState=new Map;statePath;constructor(r){Qt.mkdirSync(r,{recursive:!0,mode:493}),this.statePath=Io.join(r,"state.json");try{let o=Vv(this.statePath),s=JSON.parse(o);this.inMemoryState=new Map(s)}catch{return}}get(r){return this.inMemoryState.get(r)}async update(r,o){this.inMemoryState.set(r,o);let s=JSON.stringify(Array.from(this.inMemoryState.entries()));await Qt.promises.writeFile(this.statePath,s,{encoding:"utf8",mode:420})}},au=class{constructor(r){this.storageDir=r;Qt.mkdirSync(r,{recursive:!0,mode:493}),this.storagePath=Io.join(r,"workspaceStorage"),this.globalStoragePath=Io.join(r,"globalStorage"),this.secrets=new kf(this.storageDir),this.globalState=new su(this.globalStoragePath),this.workspaceState=new su(this.storagePath)}globalState;workspaceState;storagePath;globalStoragePath;secrets};var fr=(0,tt.createConnection)(),Zv=new tt.TextDocuments(Es),zx=".config/augment/api_token",Qv="https://staging-shard-0.api.augmentcode.com/",Gx={clientID:"augment-vim-extension",url:"https://auth.augmentcode.com"},Vx=process.env.XDG_DATA_HOME||Nr.join(qf.default.homedir(),".local","share"),Jx=Nr.join(Vx,"vim-augment"),Kx=process.env.XDG_STATE_HOME||Nr.join(qf.default.homedir(),".local","state"),ey=Nr.join(Kx,"augment","augment-server.log"),Kv=Nr.dirname(ey);lr.existsSync(Kv)||lr.mkdirSync(Kv,{recursive:!0});lu.default.setLevel("info");var Xv=Nr.join(process.env.HOME||"~",zx),Yv=lr.existsSync(Xv)?lr.readFileSync(Xv,"utf8").trim():null;lu.default.methodFactory=function(t){return function(r){let o=new Date().toISOString();lr.appendFileSync(ey,`${o} [${t.toUpperCase()}] ${r}
`)}};var Oe=lu.default.getLogger("server"),uu={apiToken:Yv??"",completionURL:Yv?Qv:"",modelName:"",enableUpload:!1,enableDebugFeatures:!1,oauth:Gx,completions:{}},cu,Of,cr,Xx=new Xa(Oe),si;async function ty(){if(await cr.initState(),!cr.isLoggedIn)throw new Error("Not logged in. Please login first.");let t=await cu.getModelConfig();if(t.models.length===0)throw new Ka;Oe.debug(`Received modelConfig: ${JSON.stringify(t,null,2)}`);let r=uu.modelName||t.defaultModel,o=t.models.find(s=>s.name===t.defaultModel);if(o===void 0)throw new Ja(r);return o.name=r,Xx.update(t.featureFlags),new ru(cu,o.completionTimeoutMs,o.suggestedPrefixCharCount,o.suggestedSuffixCharCount)}fr.onInitialize(async t=>{Oe.info("Initializing Language Server");let r=t.initializationOptions?.editor??"unknown",o=t.initializationOptions?.pluginVersion??"unknown",s=t.initializationOptions?.vimVersion??"unknown",u=`Augment.vim/${o} ${r}/${s}`;Oe.info(`User agent: ${u}`);let p;try{p=new au(Jx)}catch(N){throw Oe.error(`Error initializing server context storage: ${On(N)}`),N}cr=new eu(p,uu);let R=new ou(p),k=Jv(R);Oe.info(`Session ID: ${k}`),cu=new Za(uu,cr,k,u,global.fetch,Oe),Of=new nu(p,uu,cu,cr,Oe);let j={capabilities:{completionProvider:{resolveProvider:!1},textDocumentSync:tt.TextDocumentSyncKind.Incremental}};try{si=await ty(),Oe.info("Initialized completion server")}catch(N){Oe.error(`Error initializing completion server: ${On(N)}`)}return j});fr.onInitialized(()=>{Oe.info("Language server initialized")});fr.onCompletion(async t=>{let r=Zv.get(t.textDocument.uri);if(!r)return Oe.warn(`Not tracking the document ${t.textDocument.uri}`),new tt.ResponseError(tt.ErrorCodes.InternalError,`Not tracking the document ${t.textDocument.uri}`);if(si===void 0)return Oe.warn("Completion server is not initialized."),new tt.ResponseError(tt.ErrorCodes.InternalError,"Completion server is not initialized");if(!cr.isLoggedIn)return Oe.warn("Not logged in. Please login first."),new tt.ResponseError(tt.ErrorCodes.InternalError,"Not logged in. Please login first.");let o=t.position,s=r.offsetAt(o),u=r.getText(),p=si.completionParams.prefixSize,R=si.completionParams.suffixSize,k=u.slice(Math.max(0,s-p),s),j=u.slice(s,s+R),N=si.createRequestId();Oe.info(`Completion (${N}) requested at position ${o.line}:${o.character}`),Oe.info(`Document URI: ${r.uri}`),Oe.info(`Language ID: ${r.languageId}`);try{let G=await si.complete(N,k,j,r.uri,void 0,void 0,r.languageId,{checkpointId:void 0,addedBlobs:[],deletedBlobs:[]},[]);return Oe.info(`Completion result: ${JSON.stringify(G)}`),[{label:N,insertText:G.completionItems[0]?.text||""}]}catch(G){return Oe.error(`Error getting completion: ${On(G)}`),new tt.ResponseError(tt.ErrorCodes.InternalError,`Error getting completion: ${On(G)}`)}});fr.onRequest("augment/login",async()=>{try{return cr.isLoggedIn?(Oe.info("Already logged in"),{loggedIn:!0,url:""}):(Oe.info("Logging in..."),{loggedIn:!1,url:await Of.startFlow()})}catch(t){let r=t instanceof Error?t.stack:"No stack trace available",o=On(t);return Oe.error(`Error handling augment/login: ${o}`),Oe.error(`Stack trace: ${r}`),new tt.ResponseError(tt.ErrorCodes.InternalError,"Failed to process request. See server log for details.")}});fr.onRequest("augment/logout",async()=>{try{return await cr.removeSession(),Oe.info("Logged out."),{success:!0}}catch(t){let r=t instanceof Error?t.stack:"No stack trace available",o=On(t);return Oe.error(`Error handling augment/logout: ${o}`),Oe.error(`Stack trace: ${r}`),new tt.ResponseError(tt.ErrorCodes.InternalError,"Failed to process request. See server log for details.")}});fr.onRequest("augment/token",async t=>{try{return await Of.handleAuthJson(t.code),si=await ty(),Oe.info("Logged in."),{success:!0}}catch(r){let o=r instanceof Error?r.stack:"No stack trace available",s=On(r);return Oe.error(`Error creating completion server: ${s}`),Oe.error(`Stack trace: ${o}`),new tt.ResponseError(tt.ErrorCodes.InternalError,"Failed to process request. See server log for details.")}});fr.onRequest("augment/status",()=>({loggedIn:cr.isLoggedIn===!0}));Zv.listen(fr);fr.listen();Oe.info("Language server started");0&&(module.exports={API_ENDPOINT});
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
